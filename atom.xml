<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>The Fountainhead</title>
  <icon>https://www.gravatar.com/avatar/5b3fe3154f9feca5494c1336bceab02e</icon>
  <subtitle>flee as a bird to your blue sea</subtitle>
  <link href="https://sosocrown.github.io/atom.xml" rel="self"/>
  
  <link href="https://sosocrown.github.io/"/>
  <updated>2025-09-17T10:07:13.523Z</updated>
  <id>https://sosocrown.github.io/</id>
  
  <author>
    <name>niki</name>
    <email>zn40489@gmail.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>kubenetes</title>
    <link href="https://sosocrown.github.io/2025/09/30/kubenetes/"/>
    <id>https://sosocrown.github.io/2025/09/30/kubenetes/</id>
    <published>2025-09-29T16:00:00.000Z</published>
    <updated>2025-09-17T10:07:13.523Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€-é›†ç¾¤æ¶æ„"><a href="#ä¸€ã€-é›†ç¾¤æ¶æ„" class="headerlink" title="ä¸€ã€ é›†ç¾¤æ¶æ„"></a>ä¸€ã€ é›†ç¾¤æ¶æ„</h2><h3 id="1-1-é›†ç¾¤æ¶æ„"><a href="#1-1-é›†ç¾¤æ¶æ„" class="headerlink" title="1.1 é›†ç¾¤æ¶æ„"></a>1.1 é›†ç¾¤æ¶æ„</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šMaster Node (æ§åˆ¶å¹³é¢) å’Œ Worker Node (å·¥ä½œèŠ‚ç‚¹) çš„èŒè´£ã€‚</p></li><li><p><strong>ç»„ä»¶</strong>ï¼š</p><ul><li><p><strong>Master Node</strong>ï¼š<code>kube-apiserver</code>, <code>kube-scheduler</code>, <code>kube-controller-manager</code>, <code>etcd</code></p><ul><li><code>etcd</code>ï¼šæ•°æ®å­˜å‚¨ï¼Œé”®å€¼å¯¹æ•°æ®åº“ã€‚</li></ul></li><li><p><strong>Worker Node</strong>ï¼š<code>kubelet</code>, <code>kube-proxy</code>, å®¹å™¨è¿è¡Œæ—¶ (Container Runtime, å¦‚ containerd&#x2F;Docker)ã€‚</p></li></ul></li><li><p><strong>å…³é”®ç‚¹</strong>ï¼šå„ç»„ä»¶åŠŸèƒ½ã€é€šä¿¡æ–¹å¼ã€‚</p></li><li><p><strong>æ€ç»´å¯¼å›¾&#x2F;è‰å›¾</strong>ï¼šç»˜åˆ¶K8sé›†ç¾¤ç»„ä»¶å›¾ã€‚</p></li></ul><h3 id="1-2-API-å¯¹è±¡-API-Objects"><a href="#1-2-API-å¯¹è±¡-API-Objects" class="headerlink" title="1.2 API å¯¹è±¡ (API Objects)"></a>1.2 API å¯¹è±¡ (API Objects)</h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šK8s ä¸­ä¸€åˆ‡çš†å¯¹è±¡ã€‚</li></ul><p>K8s æŠŠèµ„æºæŒ‰åŠŸèƒ½ã€ç¨³å®šæ€§ã€æ¥æºï¼Œåˆ†æˆä¸åŒçš„ groupï¼Œæ¯ä¸ª group é‡Œå¯èƒ½æœ‰å‡ ä¸ªèµ„æºç§ç±»ï¼ˆkindï¼‰+ å„è‡ªçš„ç‰ˆæœ¬ï¼ˆv1ï¼‰ã€‚</p><table><thead><tr><th>Kind</th><th>usage</th></tr></thead><tbody><tr><td><code>Pod</code></td><td>æœ€åŸºæœ¬çš„è¿è¡Œå•å…ƒ</td></tr><tr><td><code>Service</code></td><td>ç½‘ç»œè®¿é—®å…¥å£ï¼ŒæŠ½è±¡ Pod é›†åˆ</td></tr><tr><td><code>ConfigMap</code></td><td>é…ç½®æ•°æ®ï¼ŒæŒ‚è¿›å®¹å™¨</td></tr><tr><td><code>Secret</code></td><td>åŠ å¯†ä¿¡æ¯ï¼ˆå¯†ç ã€tokenï¼‰</td></tr><tr><td><code>PersistentVolume</code></td><td>é™æ€ç£ç›˜èµ„æº</td></tr><tr><td><code>PersistentVolumeClaim</code></td><td>ç”³è¯·ç£ç›˜</td></tr><tr><td><code>Namespace</code></td><td>ç©ºé—´éš”ç¦»ï¼Œé€»è¾‘é¡¹ç›®åˆ’åˆ†</td></tr><tr><td><code>Node</code></td><td>é›†ç¾¤èŠ‚ç‚¹ï¼Œé€šå¸¸ç”±ç³»ç»Ÿç®¡ç†</td></tr><tr><td><code>LimitRange</code></td><td>é™åˆ¶å•ä¸ª Pod èµ„æºä½¿ç”¨èŒƒå›´</td></tr><tr><td><code>ResourceQuota</code></td><td>é™åˆ¶æ•´ä¸ª namespace çš„èµ„æºç”¨é‡</td></tr></tbody></table><h3 id="1-3-YAML-æ–‡ä»¶-YAML-Files"><a href="#1-3-YAML-æ–‡ä»¶-YAML-Files" class="headerlink" title="1.3 YAML æ–‡ä»¶ (YAML Files)"></a>1.3 YAML æ–‡ä»¶ (YAML Files)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šK8s é…ç½®æ–‡ä»¶çš„ä¸»è¦æ ¼å¼ã€‚</p></li><li><p><strong>YAML åŸºç¡€</strong>ï¼šç¼©è¿›ã€é”®å€¼å¯¹ã€åˆ—è¡¨ã€å—åºåˆ—ã€‚</p></li><li><p><strong><code>kubectl</code> é…åˆ</strong>ï¼š<code>kubectl apply -f &lt;file.yaml&gt;</code>, <code>kubectl create -f &lt;file.yaml&gt; --dry-run=client -o yaml &gt; output.yaml</code>ã€‚</p></li></ul><h3 id="1-4-kubectl-åŸºç¡€-kubectl-Basics"><a href="#1-4-kubectl-åŸºç¡€-kubectl-Basics" class="headerlink" title="1.4 kubectl åŸºç¡€ (kubectl Basics)"></a>1.4 <code>kubectl</code> åŸºç¡€ (kubectl Basics)</h3><ul><li><p><strong>é…ç½®</strong>ï¼š<code>~/.kube/config</code> æ–‡ä»¶ã€‚</p></li><li><p><strong>å¸¸ç”¨å‘½ä»¤</strong>ï¼š</p><ul><li><p><code>kubectl get &lt;resource&gt; -o wide</code></p></li><li><p><code>kubectl describe &lt;resource&gt; &lt;name&gt;</code></p></li><li><p><code>kubectl create/apply/delete -f &lt;file.yaml&gt;</code></p></li><li><p><code>kubectl edit &lt;resource&gt; &lt;name&gt;</code></p></li><li><p><code>kubectl run &lt;pod-name&gt; --image=&lt;image&gt; --restart=Never --dry-run=client -o yaml</code></p></li><li><p><code>kubectl logs &lt;pod-name&gt; [-c &lt;container-name&gt;]</code></p></li><li><p><code>kubectl exec -it &lt;pod-name&gt; [-c &lt;container-name&gt;] -- bash</code></p></li></ul></li><li><p><strong>å‘½ä»¤é€ŸæŸ¥è¡¨</strong>ï¼šæ•´ç†å¸¸ç”¨çš„ <code>kubectl</code> å‘½ä»¤å’Œå‚æ•°ã€‚</p></li><li><p><strong>æŠ€å·§</strong>ï¼š<code>--dry-run=client -o yaml</code>, <code>--force</code>, <code>-w</code> (watch)ã€‚</p></li></ul><h2 id="äºŒã€é›†ç¾¤å®‰è£…ä¸é…ç½®"><a href="#äºŒã€é›†ç¾¤å®‰è£…ä¸é…ç½®" class="headerlink" title="äºŒã€é›†ç¾¤å®‰è£…ä¸é…ç½®"></a>äºŒã€é›†ç¾¤å®‰è£…ä¸é…ç½®</h2><h3 id="2-1-kubeadm-å·¥å…·-kubeadm-Tool"><a href="#2-1-kubeadm-å·¥å…·-kubeadm-Tool" class="headerlink" title="2.1 kubeadm å·¥å…· (kubeadm Tool)"></a>2.1 <code>kubeadm</code> å·¥å…· (kubeadm Tool)</h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šç”¨äºå¿«é€Ÿå®‰è£… K8s é›†ç¾¤çš„å·¥å…·ã€‚</li></ul><h3 id="2-2-ç»„ä»¶é…ç½®-Component-Configuration"><a href="#2-2-ç»„ä»¶é…ç½®-Component-Configuration" class="headerlink" title="2.2 ç»„ä»¶é…ç½® (Component Configuration)"></a>2.2 ç»„ä»¶é…ç½® (Component Configuration)</h3><ul><li><p><strong><code>kubelet</code></strong>ï¼šé…ç½® (Cgroup Driver, <code>kubeconfig</code> è·¯å¾„)ã€‚</p></li><li><p><strong>API Server</strong>ï¼šç«¯å£ã€è®¤è¯æ–¹å¼ã€å‡†å…¥æ§åˆ¶å™¨ (Admission Controllers)ã€‚</p></li><li><p><strong>Controller Manager &#x2F; Scheduler</strong>ï¼šç›¸å…³å¯åŠ¨å‚æ•°ã€‚</p></li></ul><h3 id="2-3-è¯ä¹¦ç®¡ç†-Certificate-Management"><a href="#2-3-è¯ä¹¦ç®¡ç†-Certificate-Management" class="headerlink" title="2.3 è¯ä¹¦ç®¡ç† (Certificate Management)"></a>2.3 è¯ä¹¦ç®¡ç† (Certificate Management)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šK8s å„ç»„ä»¶é—´é€šè¿‡ TLS è¯ä¹¦è¿›è¡Œå®‰å…¨é€šä¿¡ã€‚</p></li><li><p><strong>æ ¸å¿ƒè¯ä¹¦</strong>ï¼š<code>ca.crt</code>, <code>ca.key</code>, <code>apiserver.crt</code>, <code>apiserver.key</code>, <code>kubelet.crt</code>, <code>kubelet.key</code> ç­‰ã€‚</p></li><li><p><strong>ç­¾å‘æ–¹å¼</strong>ï¼š<code>kubeadm</code> è‡ªåŠ¨ç®¡ç†ã€æ‰‹åŠ¨ç­¾å‘ (<code>cfssl</code> æˆ– <code>openssl</code>)ã€‚</p></li><li><p><strong>ç»­æœŸ</strong>ï¼š<code>kubeadm certs renew</code>ã€‚</p></li></ul><h3 id="2-4-å¤‡ä»½ä¸æ¢å¤-Backup-Restore"><a href="#2-4-å¤‡ä»½ä¸æ¢å¤-Backup-Restore" class="headerlink" title="2.4 å¤‡ä»½ä¸æ¢å¤ (Backup &amp; Restore)"></a>2.4 å¤‡ä»½ä¸æ¢å¤ (Backup &amp; Restore)</h3><ul><li><p><strong>ETCD å¤‡ä»½</strong>ï¼š</p><ul><li><p>æ¦‚å¿µï¼šK8s æ‰€æœ‰é›†ç¾¤çŠ¶æ€éƒ½å­˜å‚¨åœ¨ ETCD ä¸­ã€‚</p></li><li><p>å‘½ä»¤ï¼š<code>etcdctl snapshot save</code>, <code>etcdctl snapshot restore</code>ã€‚</p></li><li><p>å…³é”®å‚æ•°ï¼šè¯ä¹¦è·¯å¾„ (<code>--cacert</code>, <code>--cert</code>, <code>--key</code>)ã€‚</p></li></ul></li><li><p><strong>æ¢å¤æ­¥éª¤</strong>ï¼šåœæ­¢ <code>kube-apiserver</code>, <code>kube-controller-manager</code>, <code>kube-scheduler</code>, æ¢å¤ ETCD, é‡å¯ç»„ä»¶ã€‚</p></li></ul><h2 id="ä¸‰ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†"><a href="#ä¸‰ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†" class="headerlink" title="ä¸‰ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†"></a>ä¸‰ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸç®¡ç†</h2><h3 id="3-1-Pod-ç®¡ç†-Pod-Management"><a href="#3-1-Pod-ç®¡ç†-Pod-Management" class="headerlink" title="3.1 Pod ç®¡ç† (Pod Management)"></a>3.1 Pod ç®¡ç† (Pod Management)</h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šK8s æœ€å°è°ƒåº¦å•ä½ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ã€‚</li><li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šPending, Running, Succeeded, Failed, Unknownã€‚</li><li><strong>é‡å¯ç­–ç•¥</strong>ï¼šAlways, OnFailure, Neverã€‚</li><li><strong>å…±äº«èµ„æº</strong>ï¼šç½‘ç»œã€å­˜å‚¨ã€‚</li></ul><p><strong>Pod</strong>Â æ˜¯å¯ä»¥åœ¨ Kubernetes ä¸­åˆ›å»ºå’Œç®¡ç†çš„ã€æœ€å°çš„å¯éƒ¨ç½²çš„è®¡ç®—å•å…ƒã€‚</p><p><strong>å®¹å™¨ä¹‹é—´å…±äº«ï¼š</strong></p><ul><li>ç½‘ç»œå‘½åç©ºé—´ï¼ˆåŒä¸€ä¸ª IPï¼Œç«¯å£äº’é€šï¼‰</li><li>å­˜å‚¨å·ï¼ˆVolumeï¼‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods              <span class="comment"># æŸ¥çœ‹ Pod åˆ—è¡¨</span></span><br><span class="line">kubectl describe pod my-pod   <span class="comment"># æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">kubectl logs my-pod           <span class="comment"># æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line">kubectl <span class="built_in">exec</span> -it my-pod -- /bin/bash  <span class="comment"># è¿›å®¹å™¨</span></span><br><span class="line">kubectl delete pod my-pod     <span class="comment"># åˆ é™¤ Pod</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>å…±äº«ç½‘ç»œï¼š<strong>é€šè¿‡Pauseå®¹å™¨ï¼ŒæŠŠå…¶ä»–ä¸šåŠ¡å®¹å™¨åŠ å…¥åˆ°Pauseå®¹å™¨é‡Œé¢ï¼Œè®©æ‰€æœ‰ä¸šåŠ¡å®¹å™¨åœ¨åŒä¸€ä¸ªåç§°ç©ºé—´ä¸­ï¼Œå¯ä»¥å®ç°ç½‘ç»œå…±äº«ã€‚</strong></li></ul><p>å®¹å™¨æœ¬èº«ä¹‹é—´ç›¸äº’éš”ç¦»çš„ï¼ˆnamespaceã€groupï¼‰<br>å‰ææ¡ä»¶ï¼šå®¹å™¨åœ¨åŒä¸€ä¸ªnsé‡Œé¢<br>æ¯ä¸€ä¸ªPodéƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„è¢«ç§°ä¸ºâ€œæ ¹å®¹å™¨â€çš„pauseå®¹å™¨ã€‚</p><h4 id="3-1-1åˆ›å»ºpodçš„æ–¹å¼"><a href="#3-1-1åˆ›å»ºpodçš„æ–¹å¼" class="headerlink" title="3.1.1åˆ›å»ºpodçš„æ–¹å¼"></a>3.1.1åˆ›å»ºpodçš„æ–¹å¼</h4><h5 id="kubectl-runä¸´æ—¶åˆ›å»º"><a href="#kubectl-runä¸´æ—¶åˆ›å»º" class="headerlink" title="kubectl runä¸´æ—¶åˆ›å»º"></a>kubectl runä¸´æ—¶åˆ›å»º</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl run tomcat --image=xianchao/tomcat-8.5-jre8:v1  --image-pull-policy=<span class="string">&#x27;IfNotPresent&#x27;</span>  --port=8080</span><br></pre></td></tr></table></figure><h5 id="ç”¨-YAML-æ–‡ä»¶åˆ›å»º-Pod"><a href="#ç”¨-YAML-æ–‡ä»¶åˆ›å»º-Pod" class="headerlink" title="ç”¨ YAML æ–‡ä»¶åˆ›å»º Pod"></a>ç”¨ YAML æ–‡ä»¶åˆ›å»º Pod</h5><p>#<strong>å·¥ä½œèŠ‚ç‚¹</strong>ä¸Šctrå¯¼å…¥é•œåƒ ctr -n&#x3D;<a href="http://k8s.io/">k8s.io</a> images import xianchao-tomcat.tar.gz #æŸ¥çœ‹å¯¼å…¥é•œåƒ ctr -n&#x3D;<a href="http://k8s.io/">k8s.io</a> images list |grep nginx</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">    <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">tomcat</span>  <span class="comment">#Podçš„åå­—</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">myapip</span></span><br><span class="line"><span class="attr">spec:</span> <span class="comment">#è§„æ ¼è§„èŒƒ</span></span><br><span class="line">  <span class="attr">containers:</span>   <span class="comment">#å¿…é¡»å†™çš„å­—æ®µ</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">tomcat-c</span>  <span class="comment">#Podé‡Œå®¹å™¨çš„åå­—</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">xianchao/tomcat-8.5-jre8:v1</span>  </span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®šä¹‰ä¸€ä¸ªPodèµ„æºï¼ŒPodè¢«åˆ é™¤ï¼Œå°±å½»åº•è¢«åˆ é™¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# kubectl apply -f pod-tomcat.yaml</span><br><span class="line">[root@master ~]# kubectl describe pod tomcat -n default</span><br><span class="line">Name:             tomcat</span><br><span class="line">Namespace:        default</span><br><span class="line">Priority:         0</span><br><span class="line">Service Account:  default</span><br><span class="line">Node:             node1/172.20.196.18</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment"># YAML é‡Œæ²¡æŒ‡å®špodåˆ†é…åˆ°å“ªä¸ªnodeä¸Šï¼Œmaster nodeä¸Šçš„scheduler è‡ªå·±åˆ†é…åˆ°pode1ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="æ§åˆ¶å™¨åˆ›å»º"><a href="#æ§åˆ¶å™¨åˆ›å»º" class="headerlink" title="æ§åˆ¶å™¨åˆ›å»º"></a>æ§åˆ¶å™¨åˆ›å»º</h5><p>å¸¸è§çš„ç®¡ç†Podçš„æ§åˆ¶å™¨ï¼šReplicasetã€Deploymentã€Jobã€CronJobã€Daemonsetã€Statefulsetã€‚</p><p>æ§åˆ¶å™¨ç®¡ç†çš„Podå¯ä»¥ç¡®ä¿Podå§‹ç»ˆç»´æŒåœ¨<strong>æŒ‡å®šçš„å‰¯æœ¬æ•°</strong>è¿è¡Œã€‚</p><p>pod,spec.selector-<strong>æ ‡ç­¾è¿‡æ»¤å™¨</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps/v1  <span class="comment">#Kubernetes çš„ API ç‰ˆæœ¬ï¼Œapps/v1 æ˜¯è¿™ç±»æ§åˆ¶å™¨çš„æ ‡å‡†ç‰ˆæœ¬</span></span><br><span class="line">kind: Deployment   <span class="comment">#åˆ›å»ºæ§åˆ¶å™¨</span></span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-test</span><br><span class="line">  labels:</span><br><span class="line">    app: nginx-deploy</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: nginx</span><br><span class="line">  replicas: 2</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: my-nginx</span><br><span class="line">        image: xianchao/nginx:v1</span><br><span class="line">        imagePullPolicy: IfNotPresent</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ é™¤æ§åˆ¶å™¨</span></span><br><span class="line">kubectl delete deployment &lt;deployment-name&gt;</span><br></pre></td></tr></table></figure><h4 id="3-1-2-èµ„æºé…é¢"><a href="#3-1-2-èµ„æºé…é¢" class="headerlink" title="3.1.2 èµ„æºé…é¢"></a>3.1.2 èµ„æºé…é¢</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰resource quotaåº”ç”¨åˆ°namespace</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ResourceQuota</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">resource1</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">resourcequota-label:</span> <span class="string">ns-test-label</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">ns-test</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hard:</span></span><br><span class="line">    <span class="attr">limits.cpu:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">limits.memory:</span> <span class="string">2Gi</span></span><br><span class="line">    <span class="attr">requests.cpu:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">requests.memory:</span> <span class="string">1Gi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#åº”ç”¨èµ„æºé…é¢</span></span><br><span class="line"><span class="string">kubectl</span> <span class="string">apply</span> <span class="string">-f</span> <span class="string">namespace-quota.yaml</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-2podç”Ÿå‘½å‘¨æœŸ"><a href="#3-2podç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="3.2podç”Ÿå‘½å‘¨æœŸ"></a>3.2podç”Ÿå‘½å‘¨æœŸ</h3><h4 id="3-2-1Podçš„äº”ä¸ªé˜¶æ®µï¼ˆPhaseï¼‰"><a href="#3-2-1Podçš„äº”ä¸ªé˜¶æ®µï¼ˆPhaseï¼‰" class="headerlink" title="3.2.1Podçš„äº”ä¸ªé˜¶æ®µï¼ˆPhaseï¼‰"></a>3.2.1Podçš„äº”ä¸ªé˜¶æ®µï¼ˆPhaseï¼‰</h4><p>podä»å¼€podä»å¼€å§‹åˆ›å»ºåˆ°ç»ˆæ­¢é€€å‡ºçš„æ—¶é—´èŒƒå›´ç§°ä¸ºPodç”Ÿå‘½å‘¨æœŸå§‹åˆ›å»ºåˆ°ç»ˆæ­¢é€€å‡ºçš„æ—¶é—´èŒƒå›´ç§°ä¸ºPodç”Ÿå‘½å‘¨æœŸ åœ¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒPodä¼šå‡ºç°å‡ ç§<strong>çŠ¶æ€</strong>ï¼ˆ<strong>ç›¸ä½</strong>ï¼‰ï¼š</p><ol><li><strong>Pending</strong><ul><li>API Server æ”¶åˆ°ä½ åˆ›å»º Pod çš„è¯·æ±‚ï¼ŒPod ä¿¡æ¯å†™è¿› etcd</li><li>è¿˜æ²¡è°ƒåº¦åˆ°èŠ‚ç‚¹ï¼Œæˆ–è€…é•œåƒè¿˜åœ¨æ‹‰å–</li></ul></li><li><strong>ContainerCreating</strong><ul><li>è°ƒåº¦å™¨æ‰¾å¥½èŠ‚ç‚¹ï¼ŒKubelet å¼€å§‹åˆ›å»º pause å®¹å™¨ã€æŒ‚å·ã€æ‹‰é•œåƒ</li></ul></li><li><strong>Running</strong><ul><li>æ‰€æœ‰å®¹å™¨å¯åŠ¨æˆåŠŸï¼Œå¼€å§‹å¯¹å¤–æä¾›æœåŠ¡</li><li>æœŸé—´ä¼šè·‘å¥åº·æ¢é’ˆï¼ˆå­˜æ´»æ€§&#x2F;å°±ç»ªæ€§ï¼‰æ¥åˆ¤æ–­æ˜¯ä¸æ˜¯è¿˜æ´»ç€</li></ul></li><li><strong>Succeeded</strong><ul><li>Pod é‡Œçš„å®¹å™¨éƒ½æ­£å¸¸ç»“æŸï¼ˆé€€å‡ºç  0ï¼‰</li><li>å¸¸è§äºä¸€æ¬¡æ€§ä»»åŠ¡ï¼ˆJobï¼‰</li></ul></li><li><strong>Failed</strong><ul><li>æ‰€æœ‰å®¹å™¨éƒ½ç»“æŸäº†ï¼Œä½†è‡³å°‘ä¸€ä¸ªæ˜¯å¼‚å¸¸é€€å‡ºï¼ˆé€€å‡ºç é 0ï¼‰</li></ul></li><li><strong>Unknown</strong><ul><li>K8s æ ¹æœ¬é—®ä¸åˆ°èŠ‚ç‚¹çš„ kubelet çŠ¶æ€ï¼ŒPod çŠ¶æ€æˆè°œ</li></ul></li></ol><h4 id="3-2-2podé‡å¯ç­–ç•¥"><a href="#3-2-2podé‡å¯ç­–ç•¥" class="headerlink" title="3.2.2podé‡å¯ç­–ç•¥"></a>3.2.2podé‡å¯ç­–ç•¥</h4><p>Podçš„é‡å¯ç­–ç•¥ï¼ˆRestartPolicyï¼‰åº”ç”¨äºPodå†…çš„æ‰€æœ‰å®¹å™¨ï¼Œå½“æŸä¸ªå®¹å™¨å¼‚å¸¸é€€å‡ºæˆ–è€…å¥åº·æ£€æŸ¥å¤±è´¥æ—¶ï¼Œkubeletå°†æ ¹æ® é‡å¯ç­–ç•¥æ¥è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚</p><p>Pod.spec.restartPolicy</p><ul><li>Alwaysï¼šåªè¦å®¹å™¨å¼‚å¸¸é€€å‡ºï¼Œkubeletå°±ä¼šè‡ªåŠ¨é‡å¯è¯¥å®¹å™¨ã€‚ï¼ˆè¿™ä¸ªæ˜¯é»˜è®¤çš„é‡å¯ç­–ç•¥ï¼‰</li><li>OnFailureï¼šå½“å®¹å™¨ç»ˆæ­¢è¿è¡Œä¸”é€€å‡ºç ä¸ä¸º0æ—¶ï¼Œç”±kubeletè‡ªåŠ¨é‡å¯è¯¥å®¹å™¨ã€‚</li><li>Neverï¼šä¸è®ºå®¹å™¨è¿è¡ŒçŠ¶æ€å¦‚ä½•ï¼Œkubeletéƒ½ä¸ä¼šé‡å¯è¯¥å®¹å™¨ã€‚</li></ul><h4 id="3-2-3Init-å®¹å™¨ï¼šä¸»å®¹å™¨å‰çš„å‡†å¤‡å·¥åº"><a href="#3-2-3Init-å®¹å™¨ï¼šä¸»å®¹å™¨å‰çš„å‡†å¤‡å·¥åº" class="headerlink" title="3.2.3Init å®¹å™¨ï¼šä¸»å®¹å™¨å‰çš„å‡†å¤‡å·¥åº"></a><strong>3.2.3Init å®¹å™¨</strong>ï¼šä¸»å®¹å™¨å‰çš„å‡†å¤‡å·¥åº</h4><ul><li><strong>åˆ›å»º pause å®¹å™¨</strong><ul><li>Pod çš„ç¬¬ä¸€ä¸ªå®¹å™¨ï¼Œä¸»è¦å¹²ç½‘ç»œå’Œå‘½åç©ºé—´çš„äº‹ï¼Œå…¶ä»–å®¹å™¨éƒ½æŒ‚å®ƒä¸‹é¢</li></ul></li><li><strong>è·‘ Init å®¹å™¨ï¼ˆInitContainersï¼‰</strong><ul><li>é¡ºåºæ‰§è¡Œï¼Œå¹²å®Œæ‰èƒ½å¯åŠ¨ä¸»å®¹å™¨</li><li>å¸¸ç”¨æ¥å‡†å¤‡æ•°æ®ã€ç­‰ä¾èµ–æœåŠ¡å¯ç”¨</li></ul></li><li><strong>å¯åŠ¨ä¸»å®¹å™¨ï¼ˆContainersï¼‰</strong><ul><li>æ­£å¼è·‘ä¸šåŠ¡ä»£ç çš„åœ°æ–¹</li></ul></li></ul><h4 id="3-2-4hooksé’©å­"><a href="#3-2-4hooksé’©å­" class="headerlink" title="3.2.4hooksé’©å­"></a>3.2.4hooksé’©å­</h4><p>pod.spec.containers.lifecycle.</p><ul><li><strong>PostStart</strong>ï¼šå®¹å™¨åˆšå¯åŠ¨å°±æ‰§è¡Œ</li><li><strong>PreStop</strong>ï¼šå®¹å™¨ç»“æŸå‰æ‰§è¡Œï¼ˆå¯åšæ¸…ç†æˆ–ä¼˜é›…ä¸‹çº¿ï¼‰</li></ul><p>å½“ç”¨æˆ·è¯·æ±‚åˆ é™¤å«æœ‰podçš„èµ„æºå¯¹è±¡æ—¶ï¼ˆå¦‚RCã€deploymentç­‰ï¼‰ï¼ŒK8Sä¸ºäº†è®©åº”ç”¨ç¨‹åºä¼˜é›…å…³é—­ï¼ˆ<strong>å³è®©åº”ç”¨ç¨‹åºå®Œæˆæ­£åœ¨å¤„ç†çš„è¯·æ±‚åï¼Œå†å…³é—­è½¯ä»¶</strong>ï¼‰ï¼ŒK8Sæä¾›ä¸¤ç§ä¿¡æ¯é€šçŸ¥ï¼š</p><ul><li>é»˜è®¤æƒ…å†µä¸‹ï¼ŒK8s è°ƒç”¨ <code>docker stop</code>ï¼Œå®¹å™¨å…ˆæ¥æ”¶ SIGTERM ä¿¡å·ï¼Œè‹¥åº”ç”¨åœ¨è¶…æ—¶æ—¶é—´å†…æœªé€€å‡ºï¼Œåˆ™å¼ºåˆ¶ SIGKILLã€‚</li><li>è‹¥é…ç½®äº† <code>preStop</code> å›è°ƒï¼Œåˆ™åœ¨ SIGTERM å‰ä¼šå…ˆæ‰§è¡Œé¢„å®šä¹‰æ“ä½œï¼Œä»è€Œå®ç°æ›´å¹³æ»‘çš„ä¸‹çº¿ã€‚</li></ul><p> æ¡ˆä¾‹æ¼”ç¤º</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">life-demo</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">lifecycle-demo-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">docker.io/xianchao/nginx:v1</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">    <span class="attr">lifecycle:</span></span><br><span class="line">      <span class="attr">postStart:</span></span><br><span class="line">         <span class="attr">exec:</span></span><br><span class="line">           <span class="attr">command:</span> [<span class="string">&quot;/bin/sh&quot;</span>, <span class="string">&quot;-c&quot;</span>,<span class="string">&quot;echo &#x27;lifecycle hookshandler&#x27; &gt; /usr/share/nginx/html/test.html&quot;</span>]</span><br><span class="line">      <span class="attr">preStop:</span></span><br><span class="line">         <span class="attr">exec:</span></span><br><span class="line">           <span class="attr">command:</span></span><br><span class="line">           <span class="bullet">-</span> <span class="string">&quot;/bin/sh&quot;</span></span><br><span class="line">           <span class="bullet">-</span> <span class="string">&quot;-c&quot;</span></span><br><span class="line">           <span class="bullet">-</span> <span class="string">&quot;nginx -s stop&quot;</span></span><br></pre></td></tr></table></figure><p>curl ip&#x2F;test.html</p><h4 id="3-2-5probeæ¢é’ˆ"><a href="#3-2-5probeæ¢é’ˆ" class="headerlink" title="3.2.5probeæ¢é’ˆ"></a>3.2.5probeæ¢é’ˆ</h4><h5 id="1-Liveness-Probeï¼ˆå­˜æ´»æ¢é’ˆï¼‰"><a href="#1-Liveness-Probeï¼ˆå­˜æ´»æ¢é’ˆï¼‰" class="headerlink" title="1. Liveness Probeï¼ˆå­˜æ´»æ¢é’ˆï¼‰"></a>1. Liveness Probeï¼ˆå­˜æ´»æ¢é’ˆï¼‰</h5><p><strong>ä½œç”¨</strong>ï¼šæ£€æµ‹å®¹å™¨æ˜¯å¦è¿˜åœ¨è¿è¡Œ</p><ul><li>å¦‚æœæ£€æµ‹å¤±è´¥ï¼Œkubeletä¼šæ€æ­»å®¹å™¨ï¼Œç„¶åæ ¹æ®é‡å¯ç­–ç•¥å†³å®šæ˜¯å¦é‡å¯</li><li>ç”¨äºæ£€æµ‹åº”ç”¨ç¨‹åºæ­»é”ã€æ— å“åº”ç­‰æƒ…å†µ</li></ul><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">livenessProbe:</span></span><br><span class="line">  <span class="attr">httpGet:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/healthz</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">initialDelaySeconds:</span> <span class="number">30</span></span><br><span class="line">  <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="2-Readiness-Probeï¼ˆå°±ç»ªæ¢é’ˆï¼‰"><a href="#2-Readiness-Probeï¼ˆå°±ç»ªæ¢é’ˆï¼‰" class="headerlink" title="2. Readiness Probeï¼ˆå°±ç»ªæ¢é’ˆï¼‰"></a>2. Readiness Probeï¼ˆå°±ç»ªæ¢é’ˆï¼‰</h5><p><strong>ä½œç”¨</strong>ï¼šæ£€æµ‹å®¹å™¨æ˜¯å¦å‡†å¤‡å¥½æ¥æ”¶æµé‡</p><ul><li>å¦‚æœæ£€æµ‹å¤±è´¥ï¼Œä¼šå°†Podä»Serviceçš„Endpointsä¸­ç§»é™¤ï¼Œåœæ­¢è½¬å‘æµé‡</li><li>å®¹å™¨ä¸ä¼šè¢«é‡å¯ï¼Œåªæ˜¯æš‚æ—¶ä¸æ¥æ”¶è¯·æ±‚</li></ul><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readinessProbe:</span></span><br><span class="line">  <span class="attr">httpGet:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/ready</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">initialDelaySeconds:</span> <span class="number">5</span></span><br><span class="line">  <span class="attr">periodSeconds:</span> <span class="number">5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="3-Startup-Probeï¼ˆå¯åŠ¨æ¢é’ˆï¼‰"><a href="#3-Startup-Probeï¼ˆå¯åŠ¨æ¢é’ˆï¼‰" class="headerlink" title="3. Startup Probeï¼ˆå¯åŠ¨æ¢é’ˆï¼‰"></a>3. Startup Probeï¼ˆå¯åŠ¨æ¢é’ˆï¼‰</h5><p><strong>ä½œç”¨</strong>ï¼šæ£€æµ‹å®¹å™¨å†…çš„<strong>åº”ç”¨ç¨‹åº</strong>æ˜¯å¦å·²ç»å¯åŠ¨</p><ul><li>åœ¨Startup ProbeæˆåŠŸä¹‹å‰ï¼Œå…¶ä»–ä¸¤ä¸ªæ¢é’ˆä¼šè¢«ç¦ç”¨</li><li>ä¸»è¦ç”¨äºå¯åŠ¨æ—¶é—´è¾ƒé•¿çš„å®¹å™¨</li></ul><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">startupProbe:</span></span><br><span class="line">  <span class="attr">httpGet:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/startup</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">  <span class="attr">failureThreshold:</span> <span class="number">30</span></span><br><span class="line">  <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="æ¢é’ˆæ£€æµ‹æ–¹å¼"><a href="#æ¢é’ˆæ£€æµ‹æ–¹å¼" class="headerlink" title="æ¢é’ˆæ£€æµ‹æ–¹å¼"></a>æ¢é’ˆæ£€æµ‹æ–¹å¼</h5><p><strong>HTTP GET</strong>ï¼šå‘é€HTTPè¯·æ±‚ï¼Œè¿”å›200-399çŠ¶æ€ç è¡¨ç¤ºæˆåŠŸ<br><strong>TCP Socket</strong>ï¼šå°è¯•å»ºç«‹TCPè¿æ¥<br><strong>Exec</strong>ï¼šåœ¨å®¹å™¨å†…æ‰§è¡Œå‘½ä»¤ï¼Œè¿”å›ç ä¸º0è¡¨ç¤ºæˆåŠŸ</p><p> å…³é”®å‚æ•°</p><ul><li><code>initialDelaySeconds</code>ï¼šå®¹å™¨å¯åŠ¨åå»¶è¿Ÿå¤šä¹…å¼€å§‹æ¢æµ‹</li><li><code>periodSeconds</code>ï¼šæ¢æµ‹é—´éš”æ—¶é—´</li><li><code>timeoutSeconds</code>ï¼šæ¢æµ‹è¶…æ—¶æ—¶é—´</li><li><code>successThreshold</code>ï¼šè¿ç»­æˆåŠŸæ¬¡æ•°é˜ˆå€¼</li><li><code>failureThreshold</code>ï¼šè¿ç»­å¤±è´¥æ¬¡æ•°é˜ˆå€¼</li></ul><p>è¿™ä¸‰ä¸ªæ¢é’ˆé…åˆä½¿ç”¨ï¼Œå¯ä»¥ç¡®ä¿åº”ç”¨ç¨‹åºçš„å¥åº·è¿è¡Œå’Œæµé‡çš„æ­£ç¡®è·¯ç”±ã€‚</p><h3 id="3-3-DaemonSet-å®ˆæŠ¤è¿›ç¨‹é›†"><a href="#3-3-DaemonSet-å®ˆæŠ¤è¿›ç¨‹é›†" class="headerlink" title="3.3 DaemonSet (å®ˆæŠ¤è¿›ç¨‹é›†)"></a>3.3 DaemonSet (å®ˆæŠ¤è¿›ç¨‹é›†)</h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šç¡®ä¿æ¯ä¸ªèŠ‚ç‚¹ï¼ˆæˆ–ç¬¦åˆç‰¹å®šæ¡ä»¶çš„èŠ‚ç‚¹ï¼‰è¿è¡Œä¸€ä¸ª Pod å‰¯æœ¬ã€‚</li><li><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šæ—¥å¿—æ”¶é›†ä»£ç† (Fluentd), ç›‘æ§ä»£ç† (Node Exporter), ç½‘ç»œæ’ä»¶ã€‚</li></ul><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>DaemonSet ç¡®ä¿é›†ç¾¤ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½è¿è¡ŒæŒ‡å®š Pod çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œå¸¸ç”¨äºç³»ç»Ÿçº§æœåŠ¡</p><h4 id="ä¸»è¦ç‰¹æ€§"><a href="#ä¸»è¦ç‰¹æ€§" class="headerlink" title="ä¸»è¦ç‰¹æ€§"></a>ä¸»è¦ç‰¹æ€§</h4><ol><li><strong>ä¸€å¯¹ä¸€å…³ç³»</strong>ï¼šæ¯ä¸ªç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ä¸Šæœ€å¤šè¿è¡Œä¸€ä¸ª DaemonSet Pod</li><li><strong>è‡ªåŠ¨è°ƒåº¦</strong>ï¼šæ–°èŠ‚ç‚¹åŠ å…¥é›†ç¾¤æ—¶ï¼Œè‡ªåŠ¨åœ¨è¯¥èŠ‚ç‚¹åˆ›å»º Pod</li><li><strong>è‡ªåŠ¨æ¸…ç†</strong>ï¼šèŠ‚ç‚¹ç¦»å¼€é›†ç¾¤æ—¶ï¼Œç›¸åº”çš„ Pod ä¼šè¢«åˆ é™¤</li><li><strong>èŠ‚ç‚¹äº²å’Œæ€§</strong>ï¼šå¯é€šè¿‡ nodeSelectorã€tolerations ç­‰æ§åˆ¶åœ¨å“ªäº›èŠ‚ç‚¹è¿è¡Œ</li></ol><h4 id="å…¸å‹åº”ç”¨åœºæ™¯"><a href="#å…¸å‹åº”ç”¨åœºæ™¯" class="headerlink" title="å…¸å‹åº”ç”¨åœºæ™¯"></a>å…¸å‹åº”ç”¨åœºæ™¯</h4><ul><li><strong>æ—¥å¿—æ”¶é›†</strong>ï¼šFluentdã€Filebeat ç­‰åœ¨æ¯ä¸ªèŠ‚ç‚¹æ”¶é›†æ—¥å¿—</li><li><strong>ç›‘æ§ä»£ç†</strong>ï¼šNode Exporterã€cAdvisor ç­‰ç›‘æ§èŠ‚ç‚¹èµ„æº</li><li><strong>ç½‘ç»œæ’ä»¶</strong>ï¼šCalicoã€Flannel ç­‰ç½‘ç»œç»„ä»¶</li><li><strong>å­˜å‚¨å®ˆæŠ¤è¿›ç¨‹</strong>ï¼šCephã€GlusterFS ç­‰åˆ†å¸ƒå¼å­˜å‚¨</li><li><strong>å®‰å…¨æ‰«æ</strong>ï¼šåœ¨æ¯ä¸ªèŠ‚ç‚¹è¿è¡Œå®‰å…¨æ£€æŸ¥å·¥å…·ã€</li><li></li></ul><h4 id="yamlç¤ºä¾‹"><a href="#yamlç¤ºä¾‹" class="headerlink" title="yamlç¤ºä¾‹"></a>yamlç¤ºä¾‹</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DaemonSet</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">ds-1</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">kube-system</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">f-log</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span>   <span class="comment">#æ ‡ç­¾é€‰æ‹©å™¨</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">f-log</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span>   <span class="comment">#åŸºäºè¿™å›æ¨¡æ¿å®šä¹‰çš„podå…·æœ‰çš„æ ‡ç­¾</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">f-log</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">tolerations:</span>   <span class="comment">#å®šä¹‰å®¹å¿åº¦</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">node-role.kubernetes.io/master</span>    </span><br><span class="line">        <span class="attr">effect:</span> <span class="string">NoSchedule</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">fluentd-elasticsearch</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">xianchao/fluentd:v2.5.1</span></span><br><span class="line">        <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">        <span class="attr">resources:</span>          <span class="comment">#èµ„æºé…é¢</span></span><br><span class="line">          <span class="attr">limits:</span></span><br><span class="line">            <span class="attr">memory:</span> <span class="string">200Mi</span></span><br><span class="line">          <span class="attr">requests:</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">100m</span></span><br><span class="line">            <span class="attr">memory:</span> <span class="string">200Mi</span></span><br><span class="line">        <span class="attr">volumeMounts:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">varlog</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/var/log</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">varlibdockercontainers</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/var/lib/docker/containers</span></span><br><span class="line">          <span class="attr">readOnly:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">terminationGracePeriodSeconds:</span> <span class="number">30</span>  <span class="comment"># åœæ­¢ Pod å‰ç­‰å¾… 30 ç§’</span></span><br><span class="line">      <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">varlog</span></span><br><span class="line">        <span class="attr">hostPath:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">/var/log</span>       <span class="comment">#åŸºäºæœ¬åœ°ç›®å½•åˆ›å»ºä¸€ä¸ªå·</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">varlibdockercontainers</span></span><br><span class="line">        <span class="attr">hostPath:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">/var/lib/docker/containers</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>tolerationsï¼š</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tolerations:</span>   <span class="comment"># å®šä¹‰ Pod çš„å®¹å¿åº¦</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">node-role.kubernetes.io/master</span>    <span class="comment"># åŒ¹é…èŠ‚ç‚¹ä¸Šå¸¦çš„ taint key</span></span><br><span class="line">    <span class="attr">effect:</span> <span class="string">NoSchedule</span>                     <span class="comment"># è¡¨ç¤ºè¯¥ taint çš„æ•ˆæœï¼šç¦æ­¢è°ƒåº¦</span></span><br></pre></td></tr></table></figure><p>  <strong>è§£é‡Š</strong>ï¼š</p><ul><li><p><strong>èƒŒæ™¯</strong>ï¼šK8s é»˜è®¤ä¼šåœ¨ master èŠ‚ç‚¹ä¸Šæ‰“ä¸€ä¸ª taintï¼š</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">key=node-role.kubernetes.io/master:NoSchedule</span><br></pre></td></tr></table></figure><p>  æ„æ€æ˜¯ï¼šä¸€èˆ¬çš„ Pod ä¸å…è®¸è°ƒåº¦åˆ° master èŠ‚ç‚¹ä¸Šã€‚</p></li><li><p><strong>tolerations</strong>ï¼šåŠ äº†è¿™ä¸ªå­—æ®µï¼ŒPod å°±èƒ½â€œå®¹å¿â€è¿™ä¸ª taintï¼Œä»è€Œå…è®¸è¢«è°ƒåº¦åˆ° master èŠ‚ç‚¹ã€‚</p></li></ul><p>  <strong>å¤‡æ³¨æ€»ç»“</strong>ï¼š</p><ul><li><code>taint</code> æ˜¯èŠ‚ç‚¹çš„â€œé©±èµ¶è§„åˆ™â€</li><li><code>toleration</code> æ˜¯ Pod çš„â€œå…æ­»é‡‘ç‰Œâ€</li><li>è¿™ä¸ªä¾‹å­å°±æ˜¯ï¼šPod å¯ä»¥è°ƒåº¦åˆ° master èŠ‚ç‚¹ï¼Œä¸ä¼šå› ä¸º <code>NoSchedule</code> è¢«æ‹’ç»ã€‚</li></ul></li></ul><h3 id="3-4-StatefulSet-æœ‰çŠ¶æ€é›†"><a href="#3-4-StatefulSet-æœ‰çŠ¶æ€é›†" class="headerlink" title="3.4 StatefulSet (æœ‰çŠ¶æ€é›†)"></a>3.4 StatefulSet (æœ‰çŠ¶æ€é›†)</h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šç®¡ç†æœ‰çŠ¶æ€åº”ç”¨ï¼ˆå¦‚æ•°æ®åº“ï¼‰ï¼Œç¡®ä¿ Pod çš„å”¯ä¸€æ€§ã€æŒä¹…æ€§å­˜å‚¨å’Œæœ‰åºéƒ¨ç½²&#x2F;æ‰©å±•&#x2F;åˆ é™¤ã€‚</li><li><strong>å…³é”®ç‰¹æ€§</strong>ï¼šç¨³å®šçš„ç½‘ç»œæ ‡è¯†ã€ç¨³å®šçš„æŒä¹…åŒ–å­˜å‚¨ã€æœ‰åºçš„å¯åŠ¨&#x2F;åœæ­¢&#x2F;æ›´æ–°ã€‚</li></ul><p>å‰é¢æˆ‘ä»¬éƒ¨ç½²çš„åº”ç”¨ï¼Œéƒ½æ˜¯ä¸éœ€è¦å­˜å‚¨æ•°æ®ï¼Œä¸éœ€è¦è®°ä½çŠ¶æ€çš„ï¼Œå¯ä»¥éšæ„æ‰©å……å‰¯æœ¬ï¼Œæ¯ä¸ªå‰¯æœ¬éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¯æ›¿ä»£çš„ã€‚<br>è€Œåƒæ•°æ®åº“ã€Redis è¿™ç±»æœ‰çŠ¶æ€çš„ï¼Œåˆ™ä¸èƒ½éšæ„æ‰©å……å‰¯æœ¬ã€‚<br>StatefulSet ä¼šå›ºå®šæ¯ä¸ª Pod çš„åå­—</p><h4 id="StatefulSet-ç‰¹æ€§"><a href="#StatefulSet-ç‰¹æ€§" class="headerlink" title="StatefulSet ç‰¹æ€§"></a><strong>StatefulSet ç‰¹æ€§</strong></h4><ul><li><strong>ç½‘ç»œæ ‡è¯†ï¼š</strong><ul><li>å¿…é¡»é…åˆ Headless Serviceï¼ˆ<code>clusterIP: None</code>ï¼‰ã€‚</li><li>è¿™æ · Pod ä¼šæœ‰å›ºå®šçš„ DNS è§£æï¼Œæ¯”å¦‚ <code>pod.name.svc-name.namespace.svc.cluster.local</code></li><li>å› æ­¤åº”ç”¨ä¸è¦ç”¨ Pod IPï¼Œåº”è¯¥ç”¨ Pod çš„ DNS åã€‚</li></ul></li><li><strong>é¡ºåºæ§åˆ¶</strong><ul><li>Pod åˆ›å»ºå’Œé”€æ¯æ˜¯æœ‰åºçš„ï¼Œåˆ›å»ºæ˜¯é¡ºåºçš„ï¼Œé”€æ¯æ˜¯é€†åºçš„ã€‚</li></ul></li><li><strong>ç¨³å®šçš„å­˜å‚¨</strong><ul><li>æ­é… VolumeClaimTemplateså®ç°äº†<strong>åŠ¨æ€å­˜å‚¨ä¾›åº”</strong>ï¼Œæ¯ä¸ª Pod ä¼šæœ‰ç‹¬ç«‹çš„ PVCï¼Œæ¯”å¦‚ <code>data-web-0</code>, <code>data-web-1</code>ã€‚</li><li>å³ä½¿ Pod é‡å»ºï¼ŒæŒ‚è½½çš„ PVC è¿˜æ˜¯ä¹‹å‰é‚£ä¸ªï¼Œä¸ä¼šä¸¢æ•°æ®ã€‚</li></ul></li></ul><aside> ğŸ’¡<p>Headless Service</p><ul><li><strong>æ™®é€šæœåŠ¡</strong>ä¼šä¸ºæ‰€æœ‰ Pods æä¾›ä¸€ä¸ªå•ä¸€çš„è™šæ‹Ÿ IP åœ°å€ï¼Œå¹¶è´Ÿè´£åœ¨è¿™äº› Pods ä¹‹é—´è¿›è¡Œè´Ÿè½½å‡è¡¡ã€‚</li><li><strong>æ— å¤´æœåŠ¡</strong>ï¼ˆHeadless Serviceï¼‰åˆ™æ²¡æœ‰è¿™ä¸ªè™šæ‹Ÿ IPã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºæ¯ä¸ª Pod æä¾›ä¸€ä¸ª<strong>ç‹¬ç«‹çš„ DNS åŸŸå</strong>ã€‚ </li></ul></aside><h6 id="yamlç¤ºä¾‹-1"><a href="#yamlç¤ºä¾‹-1" class="headerlink" title="yamlç¤ºä¾‹"></a>yamlç¤ºä¾‹</h6><p><img src="/images/statefulset.drawio.png" alt="statefulset"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">åˆ›å»ºheadless service</span><br><span class="line">åˆ›å»ºstatefulsetï¼Œ2å‰¯æœ¬ï¼Œæ¨¡æ¿ä¸ºä»¥nginxä¸ºé•œåƒçš„å®¹å™¨ï¼Œè®¾ç½®æŒ‚è½½ç‚¹ï¼Œä½¿ç”¨å«nfsçš„sc</span><br><span class="line">volumeClaimTemplatesä½¿ç”¨å‘½åä¸ºnfsçš„storageclassï¼Œä¸ºæ¯ä¸ª Pod ç”Ÿæˆç‹¬ç«‹çš„ PVCï¼ŒPVC å†é€šè¿‡ StorageClass åŠ¨æ€ç”³è¯·å¹¶ç»‘å®šåˆ° PV</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata: </span><br><span class="line">  name: nginx</span><br><span class="line">  labels:</span><br><span class="line">     app: nginx</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - port: 80</span><br><span class="line">    name: web</span><br><span class="line">  clusterIP: None   #headlessæœåŠ¡</span><br><span class="line">  selector:</span><br><span class="line">    app: nginx</span><br><span class="line">---</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: StatefulSet</span><br><span class="line">metadata: </span><br><span class="line">  name: web</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: nginx</span><br><span class="line">  serviceName: &quot;nginx&quot;     #headless serviceçš„åå­—</span><br><span class="line">  replicas: 2</span><br><span class="line">  template:</span><br><span class="line">    metadata: </span><br><span class="line">     labels:</span><br><span class="line">       app: nginx</span><br><span class="line">    spec: </span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx</span><br><span class="line">        image: nginx</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line">          name: web</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: www</span><br><span class="line">          mountPath: /usr/share/nginx/html</span><br><span class="line">  volumeClaimTemplates:    #å­˜å‚¨å·ç”³è¯·æ¨¡æ¿</span><br><span class="line">  - metadata:</span><br><span class="line">      name: www</span><br><span class="line">    spec:</span><br><span class="line">      accessModes: [&quot;ReadWriteOnce&quot;]</span><br><span class="line">      storageClassName: &quot;nfs&quot;    #æŒ‡å®šä»å“ªä¸ªscå­˜å‚¨ç±»ç”³è¯·pv</span><br><span class="line">      resources:</span><br><span class="line">        requests: </span><br><span class="line">          storage: 1Gi</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-5-configmapä¸secret"><a href="#3-5-configmapä¸secret" class="headerlink" title="3.5 configmapä¸secret"></a>3.5 configmapä¸secret</h3><h4 id="configmap"><a href="#configmap" class="headerlink" title="configmap"></a>configmap</h4><p><strong>æŠŠé…ç½®æŠ½ç¦»å‡ºæ¥ï¼Œé›†ä¸­ç®¡ç†ï¼Œæ–¹ä¾¿ä¸€æ”¹å¤šç”¨</strong>ã€‚</p><ul><li>ä¸€ç§ <strong>Kubernetes åŸç”Ÿå¯¹è±¡</strong>ï¼Œç”¨æ¥å­˜å‚¨ <strong>é…ç½®æ•°æ®</strong>ï¼ˆéæ•æ„Ÿä¿¡æ¯ï¼‰ã€‚</li><li>æ•°æ®ä»¥ <strong>é”®å€¼å¯¹ (key-value)</strong> çš„å½¢å¼å­˜åœ¨ã€‚</li><li>Pod å¯ä»¥é€šè¿‡ <strong>ç¯å¢ƒå˜é‡</strong> æˆ–è€… <strong>æŒ‚è½½æ–‡ä»¶</strong> çš„æ–¹å¼è¯»å– ConfigMapã€‚</li></ul><h5 id="1-åˆ›å»ºConfigMapçš„æ–¹å¼"><a href="#1-åˆ›å»ºConfigMapçš„æ–¹å¼" class="headerlink" title="1. åˆ›å»ºConfigMapçš„æ–¹å¼"></a>1. åˆ›å»ºConfigMapçš„æ–¹å¼</h5><h6 id="ç›´æ¥ç”¨kubectlå‘½ä»¤"><a href="#ç›´æ¥ç”¨kubectlå‘½ä»¤" class="headerlink" title="ç›´æ¥ç”¨kubectlå‘½ä»¤"></a>ç›´æ¥ç”¨kubectlå‘½ä»¤</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»å­—é¢å€¼åˆ›å»º</span></span><br><span class="line">kubectl create configmap my-config --from-literal=key1=value1 --from-literal=key2=value2</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»æ–‡ä»¶åˆ›å»º</span></span><br><span class="line">kubectl create configmap app-config --from-file=config.properties</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»ç›®å½•åˆ›å»º</span></span><br><span class="line">kubectl create configmap configs --from-file=./config-dir/</span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="ç”¨YAMLæ–‡ä»¶"><a href="#ç”¨YAMLæ–‡ä»¶" class="headerlink" title="ç”¨YAMLæ–‡ä»¶"></a>ç”¨YAMLæ–‡ä»¶</h6><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">app-config</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">database_url:</span> <span class="string">&quot;mysql://localhost:3306/mydb&quot;</span></span><br><span class="line">  <span class="attr">log_level:</span> <span class="string">&quot;info&quot;</span></span><br><span class="line">  <span class="attr">config.properties:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    server.port=8080</span></span><br><span class="line"><span class="string">    server.host=0.0.0.0</span></span><br><span class="line"><span class="string">    debug=true</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><h5 id="2-åœ¨Podä¸­ä½¿ç”¨ConfigMap"><a href="#2-åœ¨Podä¸­ä½¿ç”¨ConfigMap" class="headerlink" title="2. åœ¨Podä¸­ä½¿ç”¨ConfigMap"></a>2. åœ¨Podä¸­ä½¿ç”¨ConfigMap</h5><table><thead><tr><th>æ–¹å¼</th><th>ç”¨é€”</th><th>æ³¨å…¥å½¢å¼</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td>configMapKeyRef</td><td>ç²¾ç¡®æ³¨å…¥å•ä¸ªç¯å¢ƒå˜é‡</td><td>ç‰¹å®šé”®å€¼å¯¹ä½œä¸ºç¯å¢ƒå˜é‡</td><td>åªæ³¨å…¥å°‘é‡æˆ–ç‰¹å®šé…ç½®</td></tr><tr><td>envFrom</td><td>æ‰¹é‡æ³¨å…¥ç¯å¢ƒå˜é‡</td><td>é”®å€¼å¯¹ä½œä¸ºç¯å¢ƒå˜é‡</td><td>æ³¨å…¥å¤§é‡å…¬å…±é…ç½®</td></tr><tr><td>Volume æŒ‚è½½</td><td>æ³¨å…¥é…ç½®æ–‡ä»¶</td><td>é”®å€¼å¯¹ä½œä¸ºæ–‡ä»¶</td><td>æ³¨å…¥å®Œæ•´çš„ .conf, .properties ç­‰é…ç½®æ–‡ä»¶</td></tr></tbody></table><h6 id="envfrom"><a href="#envfrom" class="headerlink" title="envfrom"></a>envfrom</h6><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">app-with-bulk-config</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">    <span class="attr">envFrom:</span></span><br><span class="line">    <span class="comment"># æ‰¹é‡æ³¨å…¥æ‰€æœ‰é”®å€¼å¯¹ä½œä¸ºç¯å¢ƒå˜é‡</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">configMapRef:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">my-config</span></span><br><span class="line">    <span class="comment"># å¯ä»¥æ·»åŠ å‰ç¼€é¿å…å†²çª</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h6 id="configMapKeyRef"><a href="#configMapKeyRef" class="headerlink" title="configMapKeyRef"></a>configMapKeyRef</h6><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">app-with-specific-config</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">    <span class="attr">env:</span></span><br><span class="line">    <span class="comment"># æ³¨å…¥å•ä¸ªé…ç½®é¡¹</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">APP_MODE</span></span><br><span class="line">      <span class="attr">valueFrom:</span></span><br><span class="line">        <span class="attr">configMapKeyRef:</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">my-config</span>           <span class="comment"># ConfigMap åç§°</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">APP_MODE</span>            <span class="comment"># æŒ‡å®šçš„é”®</span></span><br></pre></td></tr></table></figure><h6 id="åšæˆvolumeæŒ‚è½½"><a href="#åšæˆvolumeæŒ‚è½½" class="headerlink" title="åšæˆvolumeæŒ‚è½½"></a>åšæˆvolumeæŒ‚è½½</h6><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">app-with-config-files</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app-container</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="comment"># æŒ‚è½½å®Œæ•´ ConfigMap</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config-volume</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/etc/config</span>      <span class="comment"># æŒ‚è½½åˆ°å®¹å™¨çš„è·¯å¾„</span></span><br><span class="line">      <span class="attr">readOnly:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="comment"># æŒ‚è½½å®Œæ•´ ConfigMap</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config-volume</span></span><br><span class="line">    <span class="attr">configMap:</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">my-config</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ConfigMapæ›´æ–°åï¼Œç¯å¢ƒå˜é‡ä¸ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œä½†æŒ‚è½½çš„æ–‡ä»¶ä¼šï¼ˆæœ‰ä¸€å®šå»¶è¿Ÿï¼‰ã€‚ç”Ÿäº§ç¯å¢ƒä¸­å»ºè®®ç”¨æ–‡ä»¶æŒ‚è½½æ–¹å¼ï¼Œæ›´çµæ´»ã€‚</p><h2 id="å››ã€è°ƒåº¦"><a href="#å››ã€è°ƒåº¦" class="headerlink" title="å››ã€è°ƒåº¦"></a>å››ã€è°ƒåº¦</h2><p>åœ¨ Kubernetes ä¸­ï¼ŒPod é»˜è®¤ç”±è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰<strong>è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„èŠ‚ç‚¹</strong>æ¥è¿è¡Œã€‚å¦‚æœæƒ³<strong>æ‰‹åŠ¨æ§åˆ¶ Pod å»å“ªä¸ªèŠ‚ç‚¹</strong>ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p><table><thead><tr><th>æ–¹æ³•</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td>nodeName</td><td>ç®€å•ç›´æ¥</td><td>æ­»æ¿ï¼Œä¸æ¨è</td><td>æµ‹è¯•&#x2F;è°ƒè¯•</td></tr><tr><td>nodeSelector</td><td>å¿«é€Ÿç²¾å‡†</td><td>åŠŸèƒ½å¼±</td><td>ç®€å•éœ€æ±‚</td></tr><tr><td>nodeAffinity</td><td>çµæ´»å¼ºå¤§</td><td>é…ç½®ç¨å¤š</td><td>ç²¾å‡†è°ƒåº¦</td></tr><tr><td>tolerations</td><td>æ§åˆ¶æµå…¥</td><td>éœ€è¦é…åˆ taint</td><td>èŠ‚ç‚¹éš”ç¦»</td></tr></tbody></table><h3 id="nodeName"><a href="#nodeName" class="headerlink" title="nodeName"></a>nodeName</h3><p>æŒ‡å®špodèŠ‚ç‚¹è¿è¡Œåœ¨å“ªä¸ªå…·ä½“nodeä¸Š<br>kubectl explain pod.spec.nodeName</p><h3 id="4-1-èŠ‚ç‚¹é€‰æ‹©å™¨-Node-Selector"><a href="#4-1-èŠ‚ç‚¹é€‰æ‹©å™¨-Node-Selector" class="headerlink" title="4.1 èŠ‚ç‚¹é€‰æ‹©å™¨ (Node Selector)"></a>4.1 èŠ‚ç‚¹é€‰æ‹©å™¨ (Node Selector)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šæœ€ç®€å•çš„è°ƒåº¦æ–¹å¼ï¼Œé€šè¿‡ Pod çš„ <code>nodeSelector</code> å­—æ®µä¸ Node çš„ <code>labels</code> åŒ¹é…ã€‚</p></li><li><p><strong>YAML ç¤ºä¾‹</strong>ï¼š<br>  kubectl explain pod.spec.nodeSelector</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">kubectl</span> <span class="string">label</span> <span class="string">nodes</span> <span class="string">node-1</span> <span class="string">disktype=ssd</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#yamlæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">nodeSelector:</span></span><br><span class="line">    <span class="attr">disktype:</span> <span class="string">ssd</span></span><br></pre></td></tr></table></figure><p>ä¸€ä¸ª Pod çš„ YAML æ–‡ä»¶é‡Œï¼Œkubectl explain pod.spec.nodeSelector</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">kubectl</span> <span class="string">label</span> <span class="string">nodes</span> <span class="string">node-1</span> <span class="string">disktype=ssd</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#yamlæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">nodeSelector:</span></span><br><span class="line">    <span class="attr">disktype:</span> <span class="string">ssd</span></span><br></pre></td></tr></table></figure><p>ä¸€ä¸ª Pod çš„ YAML æ–‡ä»¶é‡Œï¼Œ<strong>å¦‚æœåŒæ—¶ç”¨äº† <code>nodeName</code> å’Œ <code>nodeSelector</code>ï¼Œé‚£å°±å¿…é¡»åŒæ—¶æ»¡è¶³è¿™ä¿©æ¡ä»¶ï¼Œç¼ºä¸€ä¸å¯ï¼Œå¦åˆ™å°±ä¼šè°ƒåº¦å¤±è´¥ï¼ŒPod ä¸€ç›´ Pending</strong></p><h3 id="4-2-èŠ‚ç‚¹äº²å’Œæ€§-Node-Affinity"><a href="#4-2-èŠ‚ç‚¹äº²å’Œæ€§-Node-Affinity" class="headerlink" title="4.2 èŠ‚ç‚¹äº²å’Œæ€§ (Node Affinity)"></a>4.2 èŠ‚ç‚¹äº²å’Œæ€§ (Node Affinity)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šæ›´çµæ´»çš„è°ƒåº¦æ–¹å¼ï¼ŒåŸºäº Node æ ‡ç­¾è¿›è¡Œâ€œäº²å’Œâ€æˆ–â€œåäº²å’Œâ€è°ƒåº¦ã€‚</p></li><li><p><strong>ç±»å‹</strong>ï¼š</p><ul><li><code>requiredDuringSchedulingIgnoredDuringExecution</code> (ç¡¬æ€§è¦æ±‚)</li><li><code>preferredDuringSchedulingIgnoredDuringExecution</code> (è½¯æ€§è¦æ±‚)</li></ul></li><li><p><strong>YAML ç¤ºä¾‹</strong>ï¼š</p></li></ul><h4 id="requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰"><a href="#requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰" class="headerlink" title="requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰"></a>requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰</h4><p><strong>å¿…é¡»æ»¡è¶³</strong>ï¼Œä¸æ»¡è¶³Pod å°±å¡åœ¨ Pending</p><ul><li>nodeSelectorTerms:<ul><li><ul><li>matchExpressions:<br>- - key: type1 operator: â€œInâ€ values:</li></ul></li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-test2</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">ns-test</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">tomcat-pod</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">tomcat-container</span></span><br><span class="line">      <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">docker.io/xianchao/tomcat-8.5-jre8:v1</span></span><br><span class="line">      <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">  <span class="attr">affinity:</span></span><br><span class="line">    <span class="attr">nodeAffinity:</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span></span><br><span class="line">        <span class="attr">nodeSelectorTerms:</span></span><br><span class="line">          <span class="bullet">-</span> <span class="attr">matchExpressions:</span>     <span class="comment">#å¤šä¸ªé”®å€¼å¯¹æ—¶æ˜¯ AND å…³ç³»ï¼ˆå…¨éƒ¨æ¡ä»¶éƒ½è¦æ»¡è¶³ï¼‰</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">type1</span></span><br><span class="line">                <span class="attr">operator:</span> <span class="string">&quot;In&quot;</span></span><br><span class="line">                <span class="attr">values:</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="string">va1</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="string">niki</span></span><br><span class="line">             </span><br></pre></td></tr></table></figure><hr><h4 id="preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰"><a href="#preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰" class="headerlink" title="preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰"></a>preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰</h4><p><strong>åŠ åˆ†é¡¹</strong>ï¼Œæ»¡è¶³æ¡ä»¶æ›´ä¼˜å…ˆã€‚æƒé‡è¶Šé«˜ï¼Œpodè°ƒåº¦çš„å‡ ç‡è¶Šå¤§</p><ul><li><ul><li>preference:</li></ul></li><li>weight:</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">affinity:</span></span><br><span class="line">  <span class="attr">nodeAffinity:</span></span><br><span class="line">    <span class="attr">preferredDuringSchedulingIgnoredDuringExecution:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">weight:</span> <span class="number">80</span></span><br><span class="line">        <span class="attr">preference:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">type1</span></span><br><span class="line">              <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">              <span class="attr">values:</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">value1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-3-Pod-Affinity-Anti-Affinity"><a href="#4-3-Pod-Affinity-Anti-Affinity" class="headerlink" title="4.3 Pod Affinity&#x2F;Anti-Affinity"></a>4.3 Pod Affinity&#x2F;Anti-Affinity</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šåŸºäºé›†ç¾¤ä¸­<strong>å…¶ä»– Pod çš„æ ‡ç­¾</strong>æ¥è°ƒåº¦ Podã€‚</p></li><li><p><strong>Pod Affinity</strong>ï¼šå°† Pod è°ƒåº¦åˆ°ç‰¹å®š Pod é™„è¿‘ã€‚</p></li><li><p><strong>Pod Anti-Affinity</strong>ï¼šå°† Pod è¿œç¦»ç‰¹å®š Pod è°ƒåº¦ï¼ˆå¦‚é¿å…å•ç‚¹æ•…éšœï¼‰ã€‚</p></li><li><p><strong>ç±»å‹</strong>ï¼š<code>required</code>, <code>preferred</code>ã€‚</p></li></ul><h4 id="1-podAffinity-è·Ÿå“ªäº›podä¸€èµ·"><a href="#1-podAffinity-è·Ÿå“ªäº›podä¸€èµ·" class="headerlink" title="1.podAffinity -è·Ÿå“ªäº›podä¸€èµ·"></a>1.podAffinity -è·Ÿå“ªäº›podä¸€èµ·</h4><p>é€šè¿‡ label æ¥ç­›é€‰ä¸€æ‰¹ Podï¼Œäº²å’Œæ€§è°ƒåº¦åªå½±å“<strong>è°ƒåº¦æ—¶</strong>ã€‚</p><p>åœ¨ Pod Affinity è§„åˆ™é‡Œï¼Œå…ˆç”¨ labelSelector æ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„ Podï¼Œå†ç”¨ topologyKey çœ‹è¿™äº› Pod æ‰€åœ¨çš„èŠ‚ç‚¹å’Œå½“å‰ Pod çš„èŠ‚ç‚¹æ˜¯å¦å¤„äºåŒä¸€â€œä½ç½®â€ï¼ˆå³æ ‡ç­¾å€¼ç›¸åŒï¼‰ï¼Œæœ€å namespace å†³å®šåŒ¹é…èŒƒå›´æ˜¯å½“å‰å‘½åç©ºé—´è¿˜æ˜¯è·¨å‘½åç©ºé—´ã€‚</p><p><strong>å…³é”®å­—æ®µ</strong></p><ul><li><strong>labelSelector</strong><ul><li>é€‰å‡ºä¸€ç»„ç›®æ ‡ Podï¼ˆé€šè¿‡æ ‡ç­¾åŒ¹é…ï¼‰</li></ul></li><li><strong>namespaces</strong><ul><li>ç›®æ ‡ Pod æ‰€åœ¨çš„å‘½åç©ºé—´ï¼Œä¸å¡«é»˜è®¤å½“å‰å‘½åç©ºé—´</li></ul></li><li><strong>topologyKey</strong><ul><li>è¡¨ç¤ºâ€œåŒä¸€ä¸ªä½ç½®â€çš„åˆ¤æ–­ä¾æ®ï¼ˆä¾‹å¦‚ <code>kubernetes.io/hostname</code>ã€<code>rack</code>ã€<code>zone</code>ï¼‰</li></ul></li></ul><h5 id="requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰-1"><a href="#requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰-1" class="headerlink" title="requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰"></a>requiredï¼ˆç¡¬äº²å’Œæ€§ï¼‰</h5><p><strong>å¿…é¡»æ»¡è¶³</strong>ï¼Œå¦åˆ™æ–° Pod å¡åœ¨ <code>Pending</code>ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">yaml</span></span><br><span class="line"><span class="string">CopyEdit</span></span><br><span class="line"><span class="attr">affinity:</span></span><br><span class="line">  <span class="attr">podAffinity:</span></span><br><span class="line">    <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">labelSelector:</span></span><br><span class="line">          <span class="attr">matchExpressions:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">app</span></span><br><span class="line">              <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">              <span class="attr">values:</span></span><br><span class="line">                <span class="bullet">-</span> <span class="string">myapp</span></span><br><span class="line">        <span class="attr">topologyKey:</span> <span class="string">rack</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h5 id="preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰-1"><a href="#preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰-1" class="headerlink" title="preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰"></a>preferredï¼ˆè½¯äº²å’Œæ€§ï¼‰</h5><p><strong>æ»¡è¶³æ›´ä¼˜å…ˆ</strong>ï¼Œä¸æ»¡è¶³ä¹Ÿèƒ½è°ƒåº¦ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">yaml</span></span><br><span class="line"><span class="string">CopyEdit</span></span><br><span class="line"><span class="attr">affinity:</span></span><br><span class="line">  <span class="attr">podAffinity:</span></span><br><span class="line">    <span class="attr">preferredDuringSchedulingIgnoredDuringExecution:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">weight:</span> <span class="number">80</span></span><br><span class="line">        <span class="attr">podAffinityTerm:</span></span><br><span class="line">          <span class="attr">labelSelector:</span></span><br><span class="line">            <span class="attr">matchExpressions:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">app</span></span><br><span class="line">                <span class="attr">operator:</span> <span class="string">In</span></span><br><span class="line">                <span class="attr">values:</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="string">myapp</span></span><br><span class="line">          <span class="attr">topologyKey:</span> <span class="string">rack</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-podAntiAffinity-åäº²å’Œæ€§"><a href="#2-podAntiAffinity-åäº²å’Œæ€§" class="headerlink" title="2.podAntiAffinity-åäº²å’Œæ€§"></a>2.podAntiAffinity-åäº²å’Œæ€§</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å¼ºåˆ¶è®©ç›¸åŒæ ‡ç­¾ la=anti çš„ Pod åˆ†å¸ƒåˆ°ä¸åŒçš„ rack é‡Œï¼Œé˜²æ­¢å®ƒä»¬é›†ä¸­åœ¨ä¸€èµ·ã€‚</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">anti</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">     <span class="attr">la:</span> <span class="string">anti</span></span><br><span class="line">     <span class="attr">app:</span> <span class="string">myapp</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">con</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">xianchao/tomcat-8.5-jre8:v1</span></span><br><span class="line">      <span class="attr">imagePullPolicy:</span> <span class="string">&quot;IfNotPresent&quot;</span></span><br><span class="line">  <span class="attr">affinity:</span></span><br><span class="line">    <span class="attr">podAntiAffinity:</span></span><br><span class="line">      <span class="attr">requiredDuringSchedulingIgnoredDuringExecution:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">topologyKey:</span> <span class="string">rack</span></span><br><span class="line">          <span class="attr">labelSelector:</span></span><br><span class="line">            <span class="attr">matchExpressions:</span></span><br><span class="line">              <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">la</span></span><br><span class="line">                <span class="attr">operator:</span> <span class="string">&quot;In&quot;</span></span><br><span class="line">                <span class="attr">values:</span></span><br><span class="line">                  <span class="bullet">-</span> <span class="string">anti</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-4-æ±¡ç‚¹ä¸å®¹å¿-Taints-Tolerations"><a href="#4-4-æ±¡ç‚¹ä¸å®¹å¿-Taints-Tolerations" class="headerlink" title="4.4 æ±¡ç‚¹ä¸å®¹å¿ (Taints &amp; Tolerations)"></a>4.4 æ±¡ç‚¹ä¸å®¹å¿ (Taints &amp; Tolerations)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šTaintæ±¡ç‚¹æ˜¯èŠ‚ç‚¹çš„â€œæ‹’ç»å£°æ˜â€ï¼Œå®¹å¿ï¼ˆtolerationï¼‰æ˜¯ Pod çš„â€œé€šè¡Œè¯â€ã€‚ æ±¡ç‚¹çš„effectè·Ÿ Pod å®¹å¿çš„effectï¼Œå¿…é¡»å®Œå…¨ä¸€æ ·æ‰èƒ½ç”Ÿæ•ˆã€‚</p><ul><li><strong>Taint (æ±¡ç‚¹)</strong>ï¼šæ ‡è®°èŠ‚ç‚¹ä¸æ¥å—æ²¡æœ‰ç‰¹å®šå®¹å¿åº¦çš„ Podã€‚</li><li><strong>Toleration (å®¹å¿)</strong>ï¼šå…è®¸ Pod è°ƒåº¦åˆ°å¸¦æœ‰ç‰¹å®šæ±¡ç‚¹çš„èŠ‚ç‚¹ä¸Šã€‚</li></ul></li><li><p><strong><code>kubectl taint</code> å‘½ä»¤</strong>ï¼š<code>kubectl taint nodes &lt;node-name&gt; &lt;key&gt;=&lt;value&gt;:&lt;effect&gt;</code>ã€‚</p></li><li><p><strong>Taint Effects</strong>ï¼š<code>NoSchedule</code>, <code>PreferNoSchedule</code>, <code>NoExecute</code>ã€‚</p></li></ul><p><strong>taintç”±ä¸‰éƒ¨åˆ†ç»„æˆ</strong>ï¼š</p><ul><li><strong>key</strong>ï¼šæ±¡ç‚¹çš„åå­—ï¼Œæ¯”å¦‚ <code>key=dedicated</code></li><li><strong>value</strong>ï¼šå…·ä½“çš„å€¼ï¼Œæ¯”å¦‚ <code>value=db</code></li><li><strong>effect</strong>ï¼šå½±å“æ–¹å¼ï¼Œå¸¸è§æœ‰<ul><li><code>NoSchedule</code>ï¼šä¸è°ƒåº¦ Pod ä¸Šæ¥ï¼ˆé™¤é Pod å®¹å¿äº†è¿™ä¸ªæ±¡ç‚¹ï¼‰</li><li><code>PreferNoSchedule</code>ï¼šæœ€å¥½ä¸ï¼Œä½†ä¸æ˜¯ç»å¯¹ç¦æ­¢</li><li><code>NoExecute</code>ï¼šä¸ä»…ä¸è°ƒåº¦ï¼Œè¿˜ä¼šæŠŠä¸å®¹å¿çš„ Pod èµ¶èµ°</li></ul></li></ul><p><strong>tolerationå†™æ³•ï¼š</strong></p><ul><li><strong>key &#x2F; value</strong>ï¼šåŒ¹é…å“ªä¸ªæ±¡ç‚¹</li><li><strong>operator</strong>ï¼š<strong>Equal è¡¨ç¤ºâ€œå€¼å¿…é¡»ç­‰äº valueâ€ï¼›Exists è¡¨ç¤ºâ€œåªè¦æœ‰è¿™ä¸ª key å°±è¡Œâ€</strong></li><li><strong>effect</strong>ï¼š</li><li><strong>tolerationSeconds</strong>ï¼šå®¹å¿å¤šä¹…ï¼ˆåªå¯¹ NoExecute æœ‰ç”¨ï¼‰</li></ul><h4 id="yamlç¤ºä¾‹-2"><a href="#yamlç¤ºä¾‹-2" class="headerlink" title="yamlç¤ºä¾‹"></a>yamlç¤ºä¾‹</h4><p><strong>1. ç»™èŠ‚ç‚¹åŠ æ±¡ç‚¹</strong></p><p>æ¯”å¦‚ä½ è¦è®©èŠ‚ç‚¹åªè·‘æ•°æ®åº“ç›¸å…³çš„ Podï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl taint nodes &lt;èŠ‚ç‚¹å&gt; dedicated=db:NoSchedule</span><br><span class="line"></span><br><span class="line"><span class="comment">#NoSchedule æ˜¯ effectï¼Œä»£è¡¨ä¸å®¹å¿çš„ Podä¸èƒ½è°ƒåº¦åˆ°è¿™ä¸ªèŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure><hr><p><strong>2. åœ¨ Pod é‡ŒåŠ å®¹å¿ï¼ˆTolerationï¼‰</strong></p><p>å¦‚æœ Pod æƒ³ä¸Šè¿™ä¸ªæœ‰æ±¡ç‚¹çš„èŠ‚ç‚¹ï¼Œå°±å¾—å£°æ˜å®¹å¿å®ƒï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">tolerations:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">key:</span> <span class="string">&quot;dedicated&quot;</span>          <span class="comment"># æ±¡ç‚¹çš„ key</span></span><br><span class="line">  <span class="attr">operator:</span> <span class="string">&quot;Equal&quot;</span>         <span class="comment"># åŒ¹é…æ–¹å¼ï¼ˆEqual æˆ– Existsï¼‰</span></span><br><span class="line">  <span class="attr">value:</span> <span class="string">&quot;db&quot;</span>       <span class="comment"># æ±¡ç‚¹çš„å€¼</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="string">&quot;NoSchedule&quot;</span>       <span class="comment"># å®¹å¿çš„æ±¡ç‚¹ç±»å‹</span></span><br><span class="line">  <span class="attr">tolerationSeconds:</span> <span class="number">3600</span>   <span class="comment"># å®¹å¿å¤šä¹…ï¼ˆç§’ï¼‰</span></span><br></pre></td></tr></table></figure><p>è¿™æ · Pod å°±æ‹¿åˆ°äº†â€œé€šè¡Œè¯â€ï¼Œèƒ½è°ƒåº¦åˆ°æœ‰ <code>dedicated=db:NoSchedule</code> æ±¡ç‚¹çš„èŠ‚ç‚¹ä¸Šã€‚</p><hr><h3 id="4-5-èµ„æºè¯·æ±‚ä¸é™åˆ¶-Resource-Requests-Limits"><a href="#4-5-èµ„æºè¯·æ±‚ä¸é™åˆ¶-Resource-Requests-Limits" class="headerlink" title="4.5 èµ„æºè¯·æ±‚ä¸é™åˆ¶ (Resource Requests &amp; Limits)"></a>4.5 èµ„æºè¯·æ±‚ä¸é™åˆ¶ (Resource Requests &amp; Limits)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼š</p><ul><li><p><strong>Requests (è¯·æ±‚)</strong>ï¼šPod è°ƒåº¦æ—¶ä¿è¯çš„æœ€å°èµ„æºã€‚</p></li><li><p><strong>Limits (é™åˆ¶)</strong>ï¼šPod å¯ä½¿ç”¨çš„æœ€å¤§èµ„æºã€‚</p></li></ul></li><li><p><strong>èµ„æºç±»å‹</strong>ï¼š<code>cpu</code> (m æˆ– core), <code>memory</code> (Mi, Gi)ã€‚</p></li><li><p><strong>QoS Class (æœåŠ¡è´¨é‡)</strong>ï¼šGuaranteed, Burstable, BestEffortã€‚</p></li><li><p><strong>YAML ç¤ºä¾‹</strong>ï¼š</p></li></ul><h2 id="äº”ã€ç½‘ç»œ"><a href="#äº”ã€ç½‘ç»œ" class="headerlink" title="äº”ã€ç½‘ç»œ"></a>äº”ã€ç½‘ç»œ</h2><h3 id="5-1-Service-æœåŠ¡"><a href="#5-1-Service-æœåŠ¡" class="headerlink" title="5.1 Service (æœåŠ¡)"></a>5.1 Service (æœåŠ¡)</h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šä¸ºä¸€ç»„ Pod æä¾›ç¨³å®šçš„ç½‘ç»œè®¿é—®æ–¹å¼å’Œè´Ÿè½½å‡è¡¡ã€‚</li><li>åœ¨ Kubernetes é›†ç¾¤ä¸­ï¼ŒPod æ˜¯å¯ä»¥éšæ—¶åˆ›å»ºã€é”€æ¯å’Œé‡æ–°è°ƒåº¦çš„ã€‚è¿™æ„å‘³ç€å®ƒä»¬çš„ IP åœ°å€æ˜¯åŠ¨æ€å˜åŒ–çš„ã€‚å¦‚æœä¸€ä¸ªå‰ç«¯åº”ç”¨éœ€è¦ä¸åç«¯ Pod é€šä¿¡ï¼Œç›´æ¥ä½¿ç”¨ Pod çš„ IP åœ°å€æ˜¯ä¸å¯é çš„ã€‚</li></ul><p><strong>Service è§£å†³äº†è¿™äº›é—®é¢˜ã€‚å®ƒå……å½“äº† Pod çš„ä¸€ä¸ªæŠ½è±¡å±‚å’Œç¨³å®šä»£ç†ã€‚</strong></p><aside> ğŸ’¡<p>Pod è¯·æ±‚ â†’ Service(ClusterIP) â†’ kube-proxy æŸ¥ Endpoints â†’ æŒ‘é€‰ Pod IP:Port â†’ è½¬å‘æµé‡</p></aside><p><em>Service è§£å†³çš„æ ¸å¿ƒé—®é¢˜ï¼š</em></p><ol><li>Pod IP åŠ¨æ€å˜åŒ–</li><li>Pod æ•°é‡å¼¹æ€§ä¼¸ç¼©</li><li>æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡</li></ol><ul><li><p><strong>Service ç±»å‹</strong>ï¼š</p><ul><li><code>ClusterIP</code> (é»˜è®¤)ï¼šé›†ç¾¤å†…éƒ¨è®¿é—®ã€‚</li><li><code>NodePort</code>ï¼šé€šè¿‡èŠ‚ç‚¹ IP å’Œç«¯å£ä»å¤–éƒ¨è®¿é—®ã€‚</li><li><code>LoadBalancer</code>ï¼šäº‘æœåŠ¡å•†æä¾›å¤–éƒ¨è´Ÿè½½å‡è¡¡ã€‚</li><li><code>ExternalName</code>ï¼šå¤–éƒ¨æœåŠ¡åˆ«åã€‚</li></ul></li><li><p><strong>Endpoints</strong>ï¼šService å…³è”çš„ Pod IP å’Œç«¯å£åˆ—è¡¨ã€‚</p></li><li><p><strong>Headless Service</strong>ï¼šä¸åˆ†é… <code>ClusterIP</code>ï¼Œç”¨äº StatefulSetã€‚</p></li></ul><h6 id="Service-çš„-FQDN"><a href="#Service-çš„-FQDN" class="headerlink" title="Service çš„ FQDN"></a>Service çš„ <strong>FQDN</strong></h6><p>Kubernetes é›†ç¾¤é‡Œï¼ŒService çš„ <strong>FQDNï¼ˆå®Œå…¨é™å®šåŸŸå-Fully Qualified Domain Nameï¼‰</strong> æœ‰ä¸€ä¸ªå›ºå®šè§„åˆ™</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;service-name&gt;.&lt;namespace&gt;.svc.cluster.local</span></span><br><span class="line"></span><br><span class="line"><span class="string">svc</span> <span class="string">è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª</span> <span class="string">Service</span> <span class="string">å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="string">cluster.local</span> <span class="string">æ˜¯é›†ç¾¤çš„é»˜è®¤åŸŸ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="5-2-Ingress-å…¥å£"><a href="#5-2-Ingress-å…¥å£" class="headerlink" title="5.2 Ingress (å…¥å£)"></a>5.2 Ingress (å…¥å£)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šä»é›†ç¾¤å¤–éƒ¨è®¿é—®é›†ç¾¤å†… Service çš„ HTTP&#x2F;HTTPS è·¯ç”±è§„åˆ™ã€‚</p></li><li><p><strong>ç»„ä»¶</strong>ï¼šIngress Resource (å®šä¹‰è§„åˆ™), Ingress Controller (å®ç°è§„åˆ™, å¦‚ Nginx Ingress Controller)ã€‚</p></li><li><p><strong>YAML ç¤ºä¾‹</strong>ï¼š<code>rules</code>, <code>host</code>, <code>paths</code>, <code>backend</code>ã€‚</p></li></ul><aside> â™¦ï¸<p>å››å±‚ä»£ç†service</p><p>Service å­˜åœ¨çš„æ ¸å¿ƒé—®é¢˜ï¼šä»…æ”¯æŒå››å±‚ä»£ç†ï¼ŒåŸºäºIPå’Œç«¯å£ä»£ç†ï¼Œæ— æ³•ç›´æ¥å¤„ç†ä¸ƒå±‚åè®®ï¼ˆå¦‚ HTTP&#x2F;HTTPSï¼‰çš„æµé‡ã€‚</p><p>Serviceçš„typeç±»å‹æœ‰å¾ˆå¤šï¼Œå¦‚NodePortã€clusterIpã€loadbalancerã€externalnameï¼Œå¦‚æœServiceæƒ³è¦è¢«k8sé›†ç¾¤å¤–éƒ¨è®¿é—®ï¼Œéœ€è¦ç”¨NodePortç±»å‹ã€‚nodeportä¼šåœ¨ç‰©ç†æœºæ˜ å°„ä¸€ä¸ªç«¯å£ï¼Œç»‘å®šåˆ°ç‰©ç†æœºä¸Šï¼Œè¿™æ ·å°±å¯¼è‡´ï¼Œæ¯ä¸ªæœåŠ¡éƒ½è¦æ˜ å°„ä¸€ä¸ªç«¯å£ï¼Œç«¯å£è¿‡å¤šï¼Œç»´æŠ¤å›°éš¾</p></aside><h4 id="1-1-ä»€ä¹ˆæ˜¯Ingress"><a href="#1-1-ä»€ä¹ˆæ˜¯Ingress" class="headerlink" title="1.1 ä»€ä¹ˆæ˜¯Ingress"></a>1.1 ä»€ä¹ˆæ˜¯Ingress</h4><p>Ingressæ˜¯Kubernetesä¸­ç®¡ç†å¤–éƒ¨è®¿é—®é›†ç¾¤å†…æœåŠ¡çš„APIå¯¹è±¡ï¼Œé€šå¸¸ç®¡ç†HTTPå’ŒHTTPSæµé‡ã€‚å®ƒæä¾›è´Ÿè½½å‡è¡¡ã€SSLç»ˆæ­¢å’ŒåŸºäºåç§°çš„è™šæ‹Ÿä¸»æœºç­‰åŠŸèƒ½ã€‚</p><h4 id="1-2-ä¸ºä»€ä¹ˆéœ€è¦Ingress"><a href="#1-2-ä¸ºä»€ä¹ˆéœ€è¦Ingress" class="headerlink" title="1.2 ä¸ºä»€ä¹ˆéœ€è¦Ingress"></a>1.2 ä¸ºä»€ä¹ˆéœ€è¦Ingress</h4><ul><li><strong>Serviceçš„å±€é™æ€§</strong>ï¼šNodePortå’ŒLoadBalancerç±»å‹çš„Serviceåœ¨å¤§è§„æ¨¡åœºæ™¯ä¸‹ä¸å¤Ÿçµæ´»</li><li><strong>ç»Ÿä¸€å…¥å£</strong>ï¼šæä¾›é›†ç¾¤çš„ç»Ÿä¸€è®¿é—®å…¥å£ç‚¹</li><li><strong>é«˜çº§è·¯ç”±</strong>ï¼šæ”¯æŒåŸºäºåŸŸåã€è·¯å¾„çš„è·¯ç”±è§„åˆ™</li><li><strong>SSL&#x2F;TLSç»ˆæ­¢</strong>ï¼šé›†ä¸­å¤„ç†HTTPSè¯ä¹¦</li><li><strong>æˆæœ¬ä¼˜åŒ–</strong>ï¼šé¿å…ä¸ºæ¯ä¸ªæœåŠ¡åˆ›å»ºLoadBalancer<br>![ingress]((&#x2F;images&#x2F;Untitled diagram _ Mermaid Chart-2025-09-11-012859.png)</li></ul><h3 id="5-3-CNI-æ’ä»¶-CNI-Plugins"><a href="#5-3-CNI-æ’ä»¶-CNI-Plugins" class="headerlink" title="5.3 CNI æ’ä»¶ (CNI Plugins)"></a>5.3 CNI æ’ä»¶ (CNI Plugins)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šContainer Network Interfaceï¼Œæä¾› Pod ç½‘ç»œå®ç°ã€‚</p></li><li><p><strong>å¸¸è§æ’ä»¶</strong>ï¼šCalico, Flannel, Weave Net (äº†è§£å…¶ä½œç”¨ï¼Œæ— éœ€æ·±å…¥é…ç½®)ã€‚</p></li></ul><h3 id="5-4-ç½‘ç»œç­–ç•¥-Network-Policies"><a href="#5-4-ç½‘ç»œç­–ç•¥-Network-Policies" class="headerlink" title="5.4 ç½‘ç»œç­–ç•¥ (Network Policies)"></a>5.4 ç½‘ç»œç­–ç•¥ (Network Policies)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šåŸºäº Pod æ ‡ç­¾ã€Namespace ç­‰å®šä¹‰ Pod é—´çš„ç½‘ç»œè®¿é—®è§„åˆ™ã€‚</p></li><li><p><strong>ä½œç”¨</strong>ï¼šå®ç°å¾®éš”ç¦»ï¼Œå¢å¼ºå®‰å…¨æ€§ã€‚</p></li><li><p><strong>YAML ç¤ºä¾‹</strong>ï¼š<code>podSelector</code>, <code>ingress</code>, <code>egress</code>ã€‚</p></li></ul><h2 id="å…­ã€å­˜å‚¨-Storage"><a href="#å…­ã€å­˜å‚¨-Storage" class="headerlink" title="å…­ã€å­˜å‚¨ (Storage)"></a>å…­ã€å­˜å‚¨ (Storage)</h2><h3 id="6-1-Volume"><a href="#6-1-Volume" class="headerlink" title="6.1 Volume"></a><strong>6.1 Volume</strong></h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šPod ä¸­å®¹å™¨é—´å…±äº«æ•°æ®çš„å­˜å‚¨ã€‚</li><li><strong>ç±»å‹</strong>ï¼š<code>emptyDir</code>, <code>hostPath</code>, <code>ConfigMap</code>, <code>Secret</code>, <code>PersistentVolumeClaim</code>ã€‚</li></ul><h4 id="emptyDir"><a href="#emptyDir" class="headerlink" title="emptyDir"></a>emptyDir</h4><p><strong><code>emptyDir</code></strong> æ˜¯ä¸€ç§ä¸´æ—¶çš„ã€ç©ºç›®å½•å·ï¼Œå®ƒæ˜¯åœ¨ Pod è¢«è°ƒåº¦åˆ°èŠ‚ç‚¹ä¸Šæ—¶åˆ›å»ºçš„ã€‚</p><p>è¿™ä¸ªå·çš„ç”Ÿå‘½å‘¨æœŸä¸ Pod ç›¸åŒï¼Œåªè¦ Pod è¿˜åœ¨è¿è¡Œï¼Œå®ƒå°±å­˜åœ¨ã€‚ä¸€æ—¦ Pod è¢«åˆ é™¤æˆ–ç»ˆæ­¢ï¼Œ<strong><code>emptyDir</code></strong> ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šè¢«æ°¸ä¹…æ¸…é™¤ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod_emptydir</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">contain_1</span></span><br><span class="line">      <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">      <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">      <span class="attr">volumeMounts:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume_1</span> <span class="comment"># volumeMounts çš„ name åº”è¯¥ä¸ volumes çš„ name å¯¹åº”</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/cache</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">volume_1</span></span><br><span class="line">      <span class="attr">emptyDir:</span> &#123;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æ‰€åœ¨nodeå’Œuuid</span></span><br><span class="line">[<span class="string">root@master</span> <span class="string">volume</span>]<span class="comment"># kubectl get pod pod-emptydir -o wide</span></span><br><span class="line"><span class="string">NAME</span>           <span class="string">READY</span>   <span class="string">STATUS</span>    <span class="string">RESTARTS</span>   <span class="string">AGE</span>     <span class="string">IP</span>              <span class="string">NODE</span>    <span class="string">NOMINATED</span> <span class="string">NODE</span>   <span class="string">READINESS</span> <span class="string">GATES</span></span><br><span class="line"><span class="string">pod-emptydir</span>   <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>   <span class="number">0</span>          <span class="string">9m59s</span>   <span class="number">10.244</span><span class="number">.104</span><span class="number">.28</span>   <span class="string">node2</span>   <span class="string">&lt;none&gt;</span>           <span class="string">&lt;none&gt;</span></span><br><span class="line">[<span class="string">root@master</span> <span class="string">volume</span>]<span class="comment"># kubectl get pods pod-emptydir -o yaml | grep uid</span></span><br><span class="line">  <span class="attr">uid:</span> <span class="string">d298e2ad-f201-4d5f-a8d4-6cd5b0b440ba</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">#åœ¨å¯¹åº”nodeèŠ‚ç‚¹ä¸ŠæŸ¥çœ‹</span></span><br><span class="line">[<span class="string">root@node2</span> <span class="string">~</span>]<span class="comment"># cd /var/lib/kubelet/pods</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="hostPath"><a href="#hostPath" class="headerlink" title="hostPath"></a>hostPath</h4><p>å°† Pod æ‰€åœ¨èŠ‚ç‚¹ï¼ˆHostï¼‰ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶æˆ–ç›®å½•ï¼Œç›´æ¥æŒ‚è½½åˆ° Pod å†…éƒ¨ã€‚</p><p><code>hostPath</code> ä¸­çš„æ•°æ®<strong>æ˜¯æŒä¹…çš„</strong>ï¼Œå³ä½¿ Pod è¢«åˆ é™¤ï¼Œæ•°æ®ä¹Ÿä¼šä¿ç•™åœ¨èŠ‚ç‚¹ä¸Šã€‚è¿™ç§å·ä¸»è¦ç”¨äºéœ€è¦è®¿é—®èŠ‚ç‚¹åº•å±‚æ–‡ä»¶ç³»ç»Ÿçš„åœºæ™¯ï¼Œæ¯”å¦‚ç³»ç»Ÿç›‘æ§æˆ–æ—¥å¿—æ”¶é›†ã€‚ç„¶è€Œï¼Œ<code>hostPath</code> å­˜åœ¨å®‰å…¨é£é™©ï¼Œå¹¶ä¸”ä¼šç ´å Pod çš„å¯ç§»æ¤æ€§ï¼Œå› æ­¤åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¹¶ä¸æ¨èä½¿ç”¨ã€‚</p><ul><li><code>hostPath</code> ç±»å‹åŠå…¶å«ä¹‰ï¼š<ul><li><strong><code>DirectoryOrCreate</code></strong>: å¦‚æœæŒ‡å®šè·¯å¾„ä¸å­˜åœ¨ï¼ŒKubernetes ä¼šåˆ›å»ºä¸€ä¸ª<strong>ç©ºç›®å½•</strong>ã€‚å¦‚æœè·¯å¾„å·²å­˜åœ¨ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªç›®å½•ã€‚</li><li><strong><code>Directory</code></strong>: æŒ‚è½½å‰ï¼ŒèŠ‚ç‚¹ä¸Šçš„æŒ‡å®šè·¯å¾„<strong>å¿…é¡»å·²ç»å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªç›®å½•</strong>ã€‚å¦‚æœä¸æ˜¯ï¼ŒPod å°†æ— æ³•å¯åŠ¨ã€‚</li><li><strong><code>FileOrCreate</code></strong>: å¦‚æœæŒ‡å®šè·¯å¾„ä¸å­˜åœ¨ï¼ŒKubernetes ä¼šåˆ›å»ºä¸€ä¸ª<strong>ç©ºæ–‡ä»¶</strong>ã€‚å¦‚æœè·¯å¾„å·²å­˜åœ¨ï¼Œå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚</li><li><strong><code>File</code></strong>: æŒ‚è½½å‰ï¼ŒèŠ‚ç‚¹ä¸Šçš„æŒ‡å®šè·¯å¾„<strong>å¿…é¡»å·²ç»å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªæ–‡ä»¶</strong>ã€‚å¦‚æœä¸æ˜¯ï¼ŒPod å°†æ— æ³•å¯åŠ¨ã€‚</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">test-hostpath</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">nodeName:</span> <span class="string">node1</span>  <span class="comment"># &lt;-- æŒ‡å®šnode</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-nginx</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-volume</span>  <span class="comment"># &lt;-- è¿™é‡Œéœ€è¦æŒ‡å®šå·çš„åç§°</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/test-nginx</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-tomcat</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">tomcat:8.5-jre8-alpine</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-volume</span>  <span class="comment"># &lt;-- è¿™é‡Œä¹Ÿéœ€è¦æŒ‡å®šå·çš„åç§°</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/test-tomcat</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># volumes å­—æ®µåº”è¯¥åœ¨è¿™é‡Œï¼Œä¸ containers å¹³çº§</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-volume</span></span><br><span class="line">    <span class="attr">hostPath:</span> </span><br><span class="line">     <span class="attr">path:</span> <span class="string">/data1</span></span><br><span class="line">     <span class="attr">type:</span> <span class="string">DirectoryOrCreate</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºä¹‹åï¼Œå¯ä»¥è¿›å…¥podæŸ¥çœ‹ï¼Œ</span></span><br><span class="line">[<span class="string">root@master</span> <span class="string">volume</span>]<span class="comment"># kubectl exec -it test-hostpath -- /bin/bash</span></span><br><span class="line"><span class="string">Defaulted</span> <span class="string">container</span> <span class="string">&quot;test-nginx&quot;</span> <span class="attr">out of:</span> <span class="string">test-nginx,</span> <span class="string">test-tomcat</span></span><br><span class="line"><span class="comment">#ä¸æŒ‡å®šå®¹å™¨ï¼Œé»˜è®¤nginx</span></span><br><span class="line"></span><br><span class="line"><span class="string">root@test-hostpath:/#</span> <span class="string">kubectl</span> <span class="string">exec</span> <span class="string">-it</span> <span class="string">test-hostpath</span> <span class="string">-c</span> <span class="string">test-tomcat</span> <span class="string">--</span> <span class="string">/bin/bash</span></span><br></pre></td></tr></table></figure><h4 id="NFS"><a href="#NFS" class="headerlink" title="NFS"></a>NFS</h4><p>å…è®¸ Pod æŒ‚è½½ä¸€ä¸ªæ¥è‡ªè¿œç¨‹ NFS æœåŠ¡å™¨çš„å…±äº«ç›®å½•ã€‚</p><p>ç®€å•æ¥è¯´ï¼Œå®ƒå°† NFS ç½‘ç»œå…±äº«ä½œä¸º Kubernetes çš„æŒä¹…åŒ–å­˜å‚¨æ¥ä½¿ç”¨ï¼Œä»è€Œè§£å†³äº† <code>emptyDir</code> å’Œ <code>hostPath</code> æ‰€ä¸å…·å¤‡çš„å‡ ä¸ªå…³é”®é—®é¢˜ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">test-nfs</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:v1</span></span><br><span class="line">    <span class="attr">imagePullPolicy:</span> <span class="string">IfNotPresent</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br><span class="line">      <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">    <span class="attr">volumeMounts:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nfs-volumes</span></span><br><span class="line">      <span class="attr">mountPath:</span> <span class="string">/usr/share/nginx/html</span></span><br><span class="line">  <span class="attr">volumes:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nfs-volumes</span></span><br><span class="line">    <span class="attr">nfs:</span></span><br><span class="line">      <span class="attr">server:</span> <span class="number">192.168</span><span class="number">.40</span><span class="number">.180</span>   <span class="comment">#nfsæœåŠ¡ç«¯IP</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">/data/volumes</span></span><br></pre></td></tr></table></figure><h3 id="6-2-PVä¸PVC"><a href="#6-2-PVä¸PVC" class="headerlink" title="6.2 PVä¸PVC"></a><strong>6.2 PVä¸PVC</strong></h3><p><strong>PersistentVolume</strong><br><strong>PersistentVolumeClaim</strong></p><p>ç”¨æˆ·é€šè¿‡ <strong>PVC</strong> æ¥ç”³è¯· PVï¼Œå°±åƒâ€œæˆ‘è¦ä¸€å— 10Gi çš„ç›˜â€ã€‚</p><p>è°ƒåº¦å™¨ä¼šæŠŠ PVC å’Œåˆé€‚çš„ PV ç»‘å®šèµ·æ¥ï¼ŒPod å†å»æŒ‚è½½ PVCï¼Œå°±èƒ½æ‹¿åˆ°è¿™å—ç›˜ã€‚</p><ul><li><p><strong>ä¾›åº”æ–¹å¼</strong></p><p>  <strong>1. é™æ€ä¾›åº”ï¼ˆStatic Provisioningï¼‰</strong></p><p>  ç®¡ç†å‘˜æå‰åˆ›å»ºå¥½ PVï¼ŒæŒ‡å®šå­˜å‚¨ç±»å‹å’Œå¤§å°ï¼ˆæ¯”å¦‚ NFS å…±äº«ç›®å½•ã€äº‘ç›˜ã€Ceph å·ï¼‰ã€‚</p><p>  ç”¨æˆ·å†™ PVC æ—¶ï¼Œå¦‚æœå¤§å°å’Œè®¿é—®æ¨¡å¼åŒ¹é…ï¼Œå°±èƒ½ç›´æ¥ç»‘å®šã€‚</p><p>  ç¼ºç‚¹æ˜¯æ¯”è¾ƒæ­»æ¿ï¼Œç”¨å¤šå°‘å‡†å¤‡å¤šå°‘ï¼Œå®¹æ˜“æµªè´¹ã€‚</p><p>  <strong>2. åŠ¨æ€ä¾›åº”ï¼ˆDynamic Provisioningï¼‰</strong></p><p>  ç”¨æˆ·åªå†™ PVCï¼Œä¸ç”¨ç®¡ PV å­˜åœ¨ä¸å­˜åœ¨ã€‚</p><p>  Kubernetes ä¼šæ ¹æ® PVC çš„éœ€æ±‚ï¼Œè°ƒç”¨å¯¹åº”çš„ <strong>StorageClass</strong>ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª PVã€‚</p><p>  è¿™æ ·çµæ´»å¾—å¤šï¼Œå°¤å…¶æ˜¯åœ¨äº‘ç¯å¢ƒä¸‹ï¼ˆæ¯”å¦‚ AWS EBSã€GCP Persistent Diskã€é˜¿é‡Œäº‘ç›˜ï¼‰ï¼Œæƒ³è¦å¤šå¤§å°±ç»™ä½ åˆ›å»ºå¤šå¤§ã€‚</p></li><li><p><strong>è®¿é—®æ¨¡å¼</strong><br>è®¿é—®æ¨¡å¼ï¼ˆ<code>accessModes</code>ï¼‰åŒæ—¶å­˜åœ¨äº PV å’Œ PVC ä¸­ï¼Œä½†å®ƒä»¬ä»£è¡¨çš„å«ä¹‰ä¸åŒï¼š<strong>PV çš„ <code>accessModes</code> å£°æ˜äº†å­˜å‚¨çš„â€œèƒ½åŠ›â€ã€‚PVC çš„ <code>accessModes</code> è¡¨è¾¾äº†ç”¨æˆ·çš„â€œéœ€æ±‚â€ã€‚</strong></p><p>  <strong><code>accessModes</code> <code>&lt;[]string&gt;</code></strong></p><ul><li><strong>RWO<code>ReadWriteOnce</code></strong> ï¼šåªèƒ½è¢«<strong>ä¸€ä¸ªèŠ‚ç‚¹</strong>ä»¥è¯»å†™æ–¹å¼æŒ‚è½½ã€‚</li><li><strong>ROX<code>ReadOnlyMany</code></strong>ï¼šå¯ä»¥è¢«<strong>å¤šä¸ªèŠ‚ç‚¹</strong>ä»¥åªè¯»æ–¹å¼æŒ‚è½½ã€‚</li><li><strong>RWX<code>ReadWriteMany</code></strong> ï¼šå¯ä»¥è¢«<strong>å¤šä¸ªèŠ‚ç‚¹</strong>ä»¥è¯»å†™æ–¹å¼æŒ‚è½½ã€‚è¿™æ˜¯ NFS ç­‰å…±äº«å­˜å‚¨æœ€å¸¸ä½¿ç”¨çš„æ¨¡å¼ã€‚</li></ul></li><li><p><strong>å›æ”¶ç­–ç•¥</strong><br>  **reclaimPolicyï¼š**å†³å®šäº† <strong>PVC è¢«åˆ é™¤åï¼ŒPV æ€ä¹ˆå¤„ç†</strong>ï¼š</p><ul><li><strong>Retain</strong>ï¼ˆé»˜è®¤ï¼‰ï¼šPVC åˆ é™¤åï¼ŒPV çŠ¶æ€ä¼šå˜æˆ <code>Released</code>ï¼Œä½†æ•°æ®è¿˜åœ¨ï¼Œéœ€è¦ä½ æ‰‹åŠ¨æ¸…ç†å¹¶é‡æ–°è®¾ç½®æ‰èƒ½å†ç”¨ã€‚</li><li><strong>Delete</strong>ï¼šPVC åˆ é™¤æ—¶ï¼Œåº•å±‚å­˜å‚¨ï¼ˆæ¯”å¦‚ AWS EBSã€GCE PDã€åŠ¨æ€ NFS å­ç›®å½•ï¼‰ä¹Ÿä¼šä¸€èµ·åˆ æ‰ã€‚</li></ul></li><li><p>pv</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolume</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pv1</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ReadWriteOnce</span></span><br><span class="line">  <span class="attr">capacity:</span></span><br><span class="line">    <span class="attr">storage:</span> <span class="string">1Gi</span></span><br><span class="line">  <span class="attr">nfs:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/data/volumes/v1</span></span><br><span class="line">    <span class="attr">server:</span> <span class="number">172.20</span><span class="number">.196</span><span class="number">.17</span></span><br></pre></td></tr></table></figure></li><li><p>pvc</p>  <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">PersistentVolumeClaim</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pvc1</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">accessModes:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ReadWriteOnce</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">v1</span></span><br><span class="line">  <span class="attr">resources:</span></span><br><span class="line">    <span class="attr">requests:</span></span><br><span class="line">      <span class="attr">storage:</span> <span class="string">500Ki</span></span><br></pre></td></tr></table></figure></li></ul><p>åˆ é™¤pvcçš„æ­¥éª¤ï¼šéœ€è¦å…ˆåˆ é™¤ä½¿ç”¨pvcçš„podï¼Œå†åˆ é™¤pvc</p><h3 id="6-3-StorageClass"><a href="#6-3-StorageClass" class="headerlink" title="6.3 StorageClass"></a><strong>6.3 StorageClass</strong></h3><ul><li><strong>æ¦‚å¿µ</strong>ï¼šåŠ¨æ€åœ°ä¾›åº” pvã€‚åœ¨æ²¡æœ‰ StorageClass ä¹‹å‰ï¼Œç®¡ç†å‘˜éœ€è¦æ‰‹åŠ¨åˆ›å»ºæ¯ä¸€ä¸ª PVï¼Œæ¥æ»¡è¶³å¼€å‘è€…çš„ PVC è¯·æ±‚ã€‚å¦‚æœé›†ç¾¤ä¸­æœ‰æˆç™¾ä¸Šåƒä¸ªå­˜å‚¨éœ€æ±‚ï¼Œè¿™ä¼šå˜å¾—éå¸¸ä½æ•ˆã€‚æœ‰äº† StorageClassï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å®Œå…¨è‡ªåŠ¨åŒ–äº†ã€‚å¼€å‘è€…åªéœ€è¦åœ¨ <strong>PVC</strong> ä¸­æŒ‡å®šä»–ä»¬æƒ³è¦çš„ StorageClass åç§°ï¼ŒKubernetes å°±ä¼šè‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„<strong>ä¾›åº”å™¨ï¼ˆProvisionerï¼‰</strong>ï¼Œä¸ºè¯¥ PVC åˆ›å»ºä¸€ä¸ªåŒ¹é…çš„ PVã€‚</li><li><strong>å…³é”®å­—æ®µ</strong><ul><li><code>provisioner</code>ä¾›åº”å•†</li><li><code>parameters</code>å‚æ•°</li><li><code>reclaimPolicy</code>å›æ”¶ç­–ç•¥</li></ul></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">storage.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">StorageClass</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">nfs-sc</span></span><br><span class="line"><span class="attr">provisioner:</span> <span class="string">cluster.local/nfs-client-provisioner</span>   <span class="comment"># å’Œéƒ¨ç½²çš„ nfs-provisioner çš„ provisioner å­—æ®µä¸€è‡´</span></span><br><span class="line"><span class="attr">reclaimPolicy:</span> <span class="string">Delete</span>        <span class="comment"># å›æ”¶ç­–ç•¥ï¼Œé»˜è®¤æ˜¯ Deleteï¼ˆä¹Ÿå¯ä»¥æ˜¯ Retainï¼‰</span></span><br><span class="line"><span class="attr">volumeBindingMode:</span> <span class="string">Immediate</span> <span class="comment"># ç«‹å³ç»‘å®šï¼ˆå¦ä¸€ç§æ˜¯ WaitForFirstConsumerï¼‰</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€å®‰å…¨-Security"><a href="#ä¸ƒã€å®‰å…¨-Security" class="headerlink" title="ä¸ƒã€å®‰å…¨ (Security)"></a>ä¸ƒã€å®‰å…¨ (Security)</h2><p>ğŸŒ API è¯·æ±‚ â†’ ğŸ” è®¤è¯ â†’ âœ… æˆæƒ â†’ ğŸ›¡ï¸ å‡†å…¥æ§åˆ¶ â†’ âš¡ æ‰§è¡Œ<br>     â†“          â†“          â†“             â†“          â†“<br>   è°åœ¨è¯·æ±‚    ä½ æ˜¯è°    ä½ èƒ½åšä»€ä¹ˆ   åšçš„åˆè§„å—     å®é™…æ‰§è¡Œ</p><p>Kubernetes çš„å®‰å…¨ç®¡ç†é€šè¿‡<strong>è®¤è¯ â†’ æˆæƒ â†’ å‡†å…¥æ§åˆ¶</strong>ä¸‰é“é˜²çº¿ï¼Œæ„å»ºäº†å®Œæ•´çš„å®‰å…¨é˜²æŠ¤ä½“ç³»ï¼š</p><ol><li><strong>è®¤è¯</strong>ç¡®ä¿è¯·æ±‚è€…èº«ä»½å¯ä¿¡</li><li><strong>æˆæƒ</strong>ç¡®ä¿è¯·æ±‚è€…æœ‰ç›¸åº”æƒé™</li><li><strong>å‡†å…¥æ§åˆ¶</strong>ç¡®ä¿è¯·æ±‚å†…å®¹ç¬¦åˆç­–ç•¥</li></ol><h3 id="è®¤è¯"><a href="#è®¤è¯" class="headerlink" title="è®¤è¯"></a>è®¤è¯</h3><p>kubernetesä¸»è¦é€šè¿‡<a href="https://so.csdn.net/so/search?q=API&spm=1001.2101.3001.7020">API</a>serverå¯¹å¤–æä¾›æœåŠ¡ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹è®¿é—®apiserverçš„ç”¨æˆ·åšè®¤è¯</p><h4 id="1-ç”¨æˆ·ç±»å‹"><a href="#1-ç”¨æˆ·ç±»å‹" class="headerlink" title="1.ç”¨æˆ·ç±»å‹"></a>1.ç”¨æˆ·ç±»å‹</h4><ol><li><p><strong>Userï¼ˆç”¨æˆ·ï¼‰</strong> - çœŸå®ç”¨æˆ·è´¦æˆ·</p> <aside> ğŸ’¡ <p> <em>Kubernetes æ²¡æœ‰ User å¯¹è±¡ï¼Œç”¨æˆ·ä¿¡æ¯æ¥è‡ªï¼š</em></p><ul><li>å®¢æˆ·ç«¯è¯ä¹¦çš„ Subject</li><li>Bearer Token</li><li>è®¤è¯ä»£ç†çš„å¤´ä¿¡æ¯</li><li>å¤–éƒ¨èº«ä»½æä¾›å•†</li></ul> </aside> </li><li><p><strong>Groupï¼ˆç”¨æˆ·ç»„ï¼‰</strong> - ç”¨æˆ·ç»„</p></li><li><p><strong>ServiceAccountï¼ˆæœåŠ¡è´¦æˆ·ï¼‰</strong> - Pod ä½¿ç”¨çš„è´¦æˆ·</p></li></ol><h4 id="2-k8så®¢æˆ·ç«¯è®¿é—®apiserverçš„å‡ ç§è®¤è¯æ–¹å¼"><a href="#2-k8så®¢æˆ·ç«¯è®¿é—®apiserverçš„å‡ ç§è®¤è¯æ–¹å¼" class="headerlink" title="2.k8så®¢æˆ·ç«¯è®¿é—®apiserverçš„å‡ ç§è®¤è¯æ–¹å¼"></a>2.k8så®¢æˆ·ç«¯è®¿é—®apiserverçš„å‡ ç§è®¤è¯æ–¹å¼</h4><ol><li>å®¢æˆ·ç«¯è¯ä¹¦ï¼ˆClient Certificatesï¼‰</li></ol><p><strong>åŸç†</strong>ï¼šç®¡ç†å‘˜é€šè¿‡é›†ç¾¤çš„ CA (Certificate Authority) ç­¾å‘ä¸€ä¸ªå®¢æˆ·ç«¯è¯ä¹¦ã€‚è¿™ä¸ªè¯ä¹¦åŒ…å«äº†ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯ã€‚</p><ol start="2"><li>Service Account</li></ol><p>è¿™æ˜¯ Kubernetes <strong>å†…éƒ¨ Pods</strong> è®¤è¯è‡ªå·±çš„<strong>å”¯ä¸€æ–¹å¼</strong>ã€‚</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šé›†ç¾¤å†…éƒ¨çš„<strong>åº”ç”¨ç¨‹åº</strong>æˆ–<strong>æ§åˆ¶å™¨</strong>ï¼ˆå¦‚ä½ çš„æ—¥å¿—æ”¶é›†å™¨ã€CI&#x2F;CD å·¥å…·ï¼‰è®¿é—® API Server æ—¶ä½¿ç”¨ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¥éª¤ 1: å®šä¹‰ä¸€ä¸ª ServiceAccount</span></span><br><span class="line"><span class="comment"># è¿™æ˜¯ä¸€ä¸ªä¸ºåº”ç”¨ç¨‹åºæä¾›èº«ä»½çš„è´¦æˆ·ï¼Œå®ƒæ²¡æœ‰å¯†ç ï¼Œåªä¾èµ–äºè‡ªåŠ¨ç”Ÿæˆçš„ä»¤ç‰Œã€‚</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ServiceAccount</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-sa</span> <span class="comment"># ServiceAccount çš„åç§°ï¼Œå°†åœ¨ Pod ä¸­å¼•ç”¨</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†serviceaccountç»‘å®šåˆ°pod</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Pod</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-app</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">serviceAccountName:</span> <span class="string">my-sa</span>   </span><br><span class="line">  <span class="attr">containers:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">app</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx</span></span><br></pre></td></tr></table></figure><h3 id="æˆæƒAuthorization-RBAC"><a href="#æˆæƒAuthorization-RBAC" class="headerlink" title="æˆæƒAuthorization-RBAC"></a><strong>æˆæƒAuthorization-RBAC</strong></h3><p><strong>ä»€ä¹ˆæ˜¯RBACï¼ˆåŸºäºè§’è‰²çš„æˆæƒï¼‰ï¼Ÿ</strong></p><p>è®©ä¸€ä¸ªç”¨æˆ·ï¼ˆUsersï¼‰æ‰®æ¼”ä¸€ä¸ªè§’è‰²ï¼ˆRoleï¼‰ï¼Œè§’è‰²æ‹¥æœ‰æƒé™ï¼Œä»è€Œè®©ç”¨æˆ·æ‹¥æœ‰è¿™æ ·çš„æƒé™ã€‚</p><h4 id="RBAC-æƒé™æµå‘"><a href="#RBAC-æƒé™æµå‘" class="headerlink" title="RBAC æƒé™æµå‘"></a>RBAC æƒé™æµå‘</h4><p>ä¸»ä½“(ç”¨æˆ·&#x2F;ç»„&#x2F;SA) â†’ ç»‘å®š â†’ è§’è‰² â†’ èµ„æº</p><h4 id="è§’è‰²å’Œç»‘å®šå…³ç³»"><a href="#è§’è‰²å’Œç»‘å®šå…³ç³»" class="headerlink" title="è§’è‰²å’Œç»‘å®šå…³ç³»"></a>è§’è‰²å’Œç»‘å®šå…³ç³»</h4><p>Role + RoleBindingï¼šæƒé™è¢«é™åˆ¶åœ¨ä¸€ä¸ªå‘½åç©ºé—´å†…ã€‚ ClusterRole + RoleBindingï¼šå¼•ç”¨å…¨å±€çš„ ClusterRoleï¼Œä½†æƒé™ä»è¢«é™åˆ¶åœ¨ RoleBinding æ‰€åœ¨çš„ä¸€ä¸ªå‘½åç©ºé—´å†…ã€‚ ClusterRole + ClusterRoleBindingï¼šæƒé™åœ¨æ•´ä¸ªé›†ç¾¤å†…æœ‰æ•ˆã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">config:</span><br><span class="line">  theme: redux</span><br><span class="line">  look: classic</span><br><span class="line">---</span><br><span class="line">flowchart TD</span><br><span class="line"> subgraph subjects[&quot;ä¸»ä½“ï¼ˆSubjectsï¼‰&quot;]</span><br><span class="line">        user[&quot;User&lt;br&gt;ç”¨æˆ·&lt;br&gt;&quot;]</span><br><span class="line">        group[&quot;Group&lt;br&gt;ç”¨æˆ·ç»„&lt;br&gt;&quot;]</span><br><span class="line">        serviceaccount[&quot;ServiceAccount&lt;br&gt;æœåŠ¡è´¦æˆ·&lt;br&gt;&quot;]</span><br><span class="line">  end</span><br><span class="line"> subgraph binding[&quot;ç»‘å®šï¼ˆBindingï¼‰&quot;]</span><br><span class="line">        rolebinding[&quot;RoleBinding&lt;br&gt;å‘½åç©ºé—´çº§åˆ«&lt;br&gt;&quot;]</span><br><span class="line">        clusterrolebinding[&quot;ClusterRoleBinding&lt;br&gt;é›†ç¾¤çº§åˆ«&lt;br&gt;&quot;]</span><br><span class="line">  end</span><br><span class="line"> subgraph roles[&quot;è§’è‰²ï¼ˆRolesï¼‰&quot;]</span><br><span class="line">        role[&quot;Role&lt;br&gt;å‘½åç©ºé—´çº§åˆ«&lt;br&gt;&quot;]</span><br><span class="line">        clusterrole[&quot;ClusterRole&lt;br&gt;é›†ç¾¤çº§åˆ«&lt;br&gt;&quot;]</span><br><span class="line">  end</span><br><span class="line"> subgraph k8sresources[&quot;Kubernetes èµ„æº&quot;]</span><br><span class="line">        pods[&quot;Pods&quot;]</span><br><span class="line">        services[&quot;Services&quot;]</span><br><span class="line">        configmaps[&quot;ConfigMaps&quot;]</span><br><span class="line">        secrets[&quot;Secrets&quot;]</span><br><span class="line">  end</span><br><span class="line">    subjects --&gt; binding</span><br><span class="line">    binding --&gt; roles</span><br><span class="line">    roles --&gt; k8sresources</span><br><span class="line">     user:::users</span><br><span class="line">     user:::pod</span><br><span class="line">     group:::groups</span><br><span class="line">     group:::pod</span><br><span class="line">     serviceaccount:::cr</span><br><span class="line">     serviceaccount:::pod</span><br><span class="line">     rolebinding:::rb</span><br><span class="line">     rolebinding:::Rose</span><br><span class="line">     clusterrolebinding:::crb</span><br><span class="line">     clusterrolebinding:::Rose</span><br><span class="line">     role:::r</span><br><span class="line">     role:::groups</span><br><span class="line">     clusterrole:::cr</span><br><span class="line">     clusterrole:::roles</span><br><span class="line">     clusterrole:::groups</span><br><span class="line">     pods:::pod</span><br><span class="line">     pods:::resources</span><br><span class="line">     services:::pod</span><br><span class="line">     services:::resources</span><br><span class="line">     configmaps:::pod</span><br><span class="line">     configmaps:::resources</span><br><span class="line">     secrets:::pod</span><br><span class="line">     secrets:::resources</span><br><span class="line">    classDef sa fill:#BA68C8,stroke:#8E24AA,color:#fff</span><br><span class="line">    classDef binding fill:#4DB6AC,stroke:#00796B,color:#fff</span><br><span class="line">    classDef rb fill:#FFD54F,stroke:#FBC02D,color:#fff</span><br><span class="line">    classDef r fill:#4DD0E1,stroke:#0097A7,color:#fff</span><br><span class="line">    classDef text fill:white,color:white</span><br><span class="line">    classDef users fill:#4FC3F7, stroke:#0288D1, color:#fff</span><br><span class="line">    classDef cr fill:#81D4FA, stroke:#0288D1, color:#fff</span><br><span class="line">    classDef Rose stroke-width:1px, stroke-dasharray:none, stroke:#FF5978, fill:#FFDFE5, color:#8E2236</span><br><span class="line">    classDef roles fill:#AED581, stroke:#689F38, color:#fff</span><br><span class="line">    classDef groups fill:#81C784, stroke:#388E3C, color:#fff</span><br><span class="line">    classDef resources fill:#FFB74D, stroke:#F57C00, color:#fff</span><br><span class="line">    classDef crb fill:#64B5F6, stroke:#1976D2, color:#fff</span><br><span class="line">    classDef pod fill:#90CAF9, stroke:#1565C0, color:#fff</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ­¥éª¤ 1: åˆ›å»º Role</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># è¿™ä¸ª Role å®šä¹‰äº†ä¸€ç»„æƒé™ï¼Œå…è®¸å¯¹ pods å’Œ deployments èµ„æºè¿›è¡Œ &quot;get&quot;, &quot;watch&quot;, &quot;list&quot; æ“ä½œã€‚</span></span><br><span class="line"><span class="comment"># è¿™ä¸ª Role åªåœ¨ default å‘½åç©ºé—´ä¸­ç”Ÿæ•ˆã€‚</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-and-deployment-reader</span></span><br><span class="line"><span class="attr">rules:</span>    </span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]        <span class="comment"># &quot;&quot; è¡¨ç¤ºæ ¸å¿ƒ API ç»„</span></span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>]    </span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>]</span><br><span class="line"> <span class="comment">#è§’è‰²å¯ä»¥è¯»å–æ ¸å¿ƒ API ç»„ä¸­çš„æ‰€æœ‰ Pod èµ„æºã€‚</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;apps&quot;</span>]</span><br><span class="line">  <span class="attr">resources:</span> [<span class="string">&quot;deployments&quot;</span>]</span><br><span class="line">  <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>, <span class="string">&quot;watch&quot;</span>, <span class="string">&quot;list&quot;</span>]</span><br><span class="line"> <span class="comment">#è§’è‰²å¯ä»¥è¯»å– apps API ç»„ä¸­çš„æ‰€æœ‰ Deployment èµ„æºã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="comment"># æ­¥éª¤ 2: åˆ›å»º RoleBinding</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># è¿™ä¸ª RoleBinding å°†ä¸Šé¢åˆ›å»ºçš„ &quot;pod-and-deployment-reader&quot; è§’è‰²ï¼Œ</span></span><br><span class="line"><span class="comment"># æˆäºˆç»™ &quot;dev-sa&quot; æœåŠ¡è´¦æˆ·ã€‚</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">read-pods-deployments-in-default</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">subjects:</span> <span class="comment">#å’Œä»€ä¹ˆä¸»ä½“ç»‘å®š</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">kind:</span> <span class="string">ServiceAccount</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">dev-sa</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">roleRef:</span>  <span class="comment">#ç»‘å®šå“ªä¸ªrole</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">pod-and-deployment-reader</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä»¥aliceè·å–podä¿¡æ¯ï¼Œè¢«ç¦æ­¢</span></span><br><span class="line">[<span class="string">root@master</span> <span class="string">sa</span>]<span class="comment"># kubectl get pod --as=alice</span></span><br><span class="line"><span class="attr">Error from server (Forbidden): pods is forbidden:</span> <span class="string">User</span> <span class="string">&quot;alice&quot;</span> <span class="string">cannot</span> <span class="string">list</span> <span class="string">resource</span> <span class="string">&quot;pods&quot;</span> <span class="string">in</span> <span class="string">API</span> <span class="string">group</span> <span class="string">&quot;&quot;</span> <span class="string">in</span> <span class="string">the</span> <span class="string">namespace</span> <span class="string">&quot;default&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ­¥éª¤ 1: åˆ›å»º Role</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">role1</span>   <span class="comment">#å‘½årole</span></span><br><span class="line"><span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">apiGroups:</span> [<span class="string">&quot;&quot;</span>]</span><br><span class="line">    <span class="attr">resources:</span> [<span class="string">&quot;pods&quot;</span>]</span><br><span class="line">    <span class="attr">verbs:</span> [<span class="string">&quot;get&quot;</span>,<span class="string">&quot;list&quot;</span>]</span><br><span class="line"><span class="comment">#è§’è‰²å¯ä»¥è·å–å’Œåˆ—å‡ºæ ¸å¿ƒ API ç»„ä¸­çš„æ‰€æœ‰ Pod èµ„æºã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ­¥éª¤ 2ï¼šåˆ›å»ºrolebinding</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">rbac.authorization.k8s.io/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">RoleBinding</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">rolebind1</span>  <span class="comment">#å‘½årolebindinf</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">default</span></span><br><span class="line"><span class="attr">roleRef:</span>   <span class="comment">#ç»‘å®šå“ªä¸ªrole</span></span><br><span class="line">  <span class="attr">apiGroup:</span> <span class="string">rbac.authorization.k8s.io</span>   </span><br><span class="line">  <span class="comment">#å®šä¹‰äº†è§’è‰²æ‰€å±çš„ API ç»„ã€‚å¯¹äº RBAC èµ„æºï¼Œè¿™ä¸ªå€¼æ˜¯å›ºå®šçš„</span></span><br><span class="line">  <span class="attr">kind:</span> <span class="string">Role</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">role1</span></span><br><span class="line"><span class="attr">subjects:</span>  <span class="comment">##å’Œä»€ä¹ˆä¸»ä½“ç»‘å®š</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">alice</span></span><br><span class="line">    <span class="attr">kind:</span> <span class="string">User</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ­¤æ—¶å†æ¬¡å°è¯•ï¼ŒæˆåŠŸgetåˆ°podä¿¡æ¯</span></span><br><span class="line">[<span class="string">root@master</span> <span class="string">sa</span>]<span class="comment"># kubectl get pod --as=alice</span></span><br><span class="line"><span class="string">NAME</span>                               <span class="string">READY</span>   <span class="string">STATUS</span>    <span class="string">RESTARTS</span>        <span class="string">AGE</span></span><br><span class="line"><span class="string">nfs-provisioner-7dbd9f7b8b-gmnzt</span>   <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>   <span class="number">14</span> <span class="string">(139m</span> <span class="string">ago)</span>   <span class="string">5d1h</span></span><br><span class="line"><span class="string">web-0</span>                              <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>   <span class="number">0</span>               <span class="string">4d22h</span></span><br><span class="line"><span class="string">web-1</span>                              <span class="number">1</span><span class="string">/1</span>     <span class="string">Running</span>   <span class="number">0</span>               <span class="string">4d22h</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ—å‡ºé›†ç¾¤ä¸­æ‰€æœ‰èµ„æºç±»å‹</span></span><br><span class="line">kubectl api-resources</span><br><span class="line"></span><br><span class="line"><span class="comment">#éªŒè¯æƒé™</span></span><br><span class="line">kubectl auth can-i </span><br><span class="line">kubectl auth can-i --list</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å‡†å…¥æ§åˆ¶-Admission-Control"><a href="#å‡†å…¥æ§åˆ¶-Admission-Control" class="headerlink" title="å‡†å…¥æ§åˆ¶-Admission Control"></a>å‡†å…¥æ§åˆ¶-Admission Control</h3><p>åœ¨APIè¯·æ±‚åˆ°è¾¾etcdå­˜å‚¨ä¹‹å‰çš„<strong>æœ€åä¸€é“å…³å¡</strong>ï¼Œå¯ä»¥ä¿®æ”¹æˆ–æ‹’ç»è¯·æ±‚ã€‚å¸¸è§çš„æœ‰ï¼š</p><h4 id="ResourceQuota"><a href="#ResourceQuota" class="headerlink" title="ResourceQuota"></a>ResourceQuota</h4><p>åœ¨<strong>å‘½åç©ºé—´çº§åˆ«</strong>é™åˆ¶èµ„æºæ€»é‡ä½¿ç”¨ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ResourceQuota</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">compute-quota</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">myteam</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hard:</span></span><br><span class="line">    <span class="attr">requests.cpu:</span> <span class="string">&quot;4&quot;</span></span><br><span class="line">    <span class="attr">requests.memory:</span> <span class="string">8Gi</span></span><br><span class="line">    <span class="attr">limits.cpu:</span> <span class="string">&quot;8&quot;</span></span><br><span class="line">    <span class="attr">limits.memory:</span> <span class="string">16Gi</span></span><br><span class="line">    <span class="attr">pods:</span> <span class="string">&quot;10&quot;</span></span><br></pre></td></tr></table></figure><h4 id="LimitRanger"><a href="#LimitRanger" class="headerlink" title="LimitRanger"></a>LimitRanger</h4><p>åœ¨<strong>å•ä¸ªå¯¹è±¡çº§åˆ«</strong>è®¾ç½®èµ„æºä½¿ç”¨çš„èŒƒå›´é™åˆ¶ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">LimitRange</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">cpu-memory-limit-range</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">limits:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">default:</span>          <span class="string">*#</span> <span class="string">é»˜è®¤limit*</span></span><br><span class="line">      <span class="attr">cpu:</span> <span class="string">200m</span></span><br><span class="line">      <span class="attr">memory:</span> <span class="string">256Mi</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">defaultRequest:</span>    <span class="string">*#</span> <span class="string">é»˜è®¤request*</span></span><br><span class="line">      <span class="attr">cpu:</span> <span class="string">100m</span></span><br><span class="line">      <span class="attr">memory:</span> <span class="string">128Mi</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">max:</span>              <span class="string">*#</span> <span class="string">æœ€å¤§å€¼*</span></span><br><span class="line">      <span class="attr">cpu:</span> <span class="string">500m</span></span><br><span class="line">      <span class="attr">memory:</span> <span class="string">1Gi</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">min:</span>              <span class="string">*#</span> <span class="string">æœ€å°å€¼*</span></span><br><span class="line">      <span class="attr">cpu:</span> <span class="string">50m</span></span><br><span class="line">      <span class="attr">memory:</span> <span class="string">64Mi</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">Container</span></span><br></pre></td></tr></table></figure><h2 id="å…«ã€é›†ç¾¤ç»´æŠ¤-Cluster-Maintenance"><a href="#å…«ã€é›†ç¾¤ç»´æŠ¤-Cluster-Maintenance" class="headerlink" title="å…«ã€é›†ç¾¤ç»´æŠ¤ (Cluster Maintenance)"></a>å…«ã€é›†ç¾¤ç»´æŠ¤ (Cluster Maintenance)</h2><h3 id="8-1-é›†ç¾¤å‡çº§-Cluster-Upgrades"><a href="#8-1-é›†ç¾¤å‡çº§-Cluster-Upgrades" class="headerlink" title="8.1 é›†ç¾¤å‡çº§ (Cluster Upgrades)"></a>8.1 é›†ç¾¤å‡çº§ (Cluster Upgrades)</h3><ul><li><p><strong><code>kubeadm</code> å‡çº§</strong>ï¼š</p><ul><li><p>Master èŠ‚ç‚¹å‡çº§ (<code>kubeadm upgrade apply</code>)ã€‚</p></li><li><p>Worker èŠ‚ç‚¹å‡çº§ (<code>kubeadm upgrade node</code>)ã€‚</p></li><li><p><code>kubectl drain</code>, <code>kubectl uncordon</code>ã€‚</p></li></ul></li></ul><h3 id="8-2-èŠ‚ç‚¹ç»´æŠ¤-Node-Maintenance"><a href="#8-2-èŠ‚ç‚¹ç»´æŠ¤-Node-Maintenance" class="headerlink" title="8.2 èŠ‚ç‚¹ç»´æŠ¤ (Node Maintenance)"></a>8.2 èŠ‚ç‚¹ç»´æŠ¤ (Node Maintenance)</h3><ul><li><p><strong>æ’ç©ºèŠ‚ç‚¹</strong>ï¼š<code>kubectl drain &lt;node-name&gt;</code> (å°† Pod é©±é€å‡ºèŠ‚ç‚¹)ã€‚</p></li><li><p><strong>è§£é™¤æ’ç©º</strong>ï¼š<code>kubectl uncordon &lt;node-name&gt;</code> (å…è®¸ Pod é‡æ–°è°ƒåº¦åˆ°èŠ‚ç‚¹)ã€‚</p></li><li><p><strong>ç§»é™¤èŠ‚ç‚¹</strong>ï¼š<code>kubeadm reset</code> (åœ¨èŠ‚ç‚¹ä¸Šæ‰§è¡Œ), <code>kubectl delete node &lt;node-name&gt;</code>ã€‚</p></li></ul><h3 id="8-3-ETCD-æ“ä½œ-ETCD-Operations"><a href="#8-3-ETCD-æ“ä½œ-ETCD-Operations" class="headerlink" title="8.3 ETCD æ“ä½œ (ETCD Operations)"></a>8.3 ETCD æ“ä½œ (ETCD Operations)</h3><ul><li><p><strong>é›†ç¾¤å¥åº·æ£€æŸ¥</strong>ï¼š<code>etcdctl endpoint health</code>ã€‚</p></li><li><p><strong>æˆå‘˜ç®¡ç†</strong>ï¼š<code>etcdctl member list</code>, <code>etcdctl member add/remove</code>ã€‚</p></li></ul><h2 id="ä¹ã€æ—¥å¿—ä¸ç›‘æ§-Logging-Monitoring"><a href="#ä¹ã€æ—¥å¿—ä¸ç›‘æ§-Logging-Monitoring" class="headerlink" title="ä¹ã€æ—¥å¿—ä¸ç›‘æ§ (Logging &#x2F; Monitoring)"></a>ä¹ã€æ—¥å¿—ä¸ç›‘æ§ (Logging &#x2F; Monitoring)</h2><h3 id="9-1-æ—¥å¿—æ”¶é›†-Log-Collection"><a href="#9-1-æ—¥å¿—æ”¶é›†-Log-Collection" class="headerlink" title="9.1 æ—¥å¿—æ”¶é›† (Log Collection)"></a>9.1 æ—¥å¿—æ”¶é›† (Log Collection)</h3><ul><li><p><strong>Pod æ—¥å¿—</strong>ï¼š<code>kubectl logs</code>, <code>kubectl logs -f</code>ã€‚</p></li><li><p><strong>èŠ‚ç‚¹æ—¥å¿—</strong>ï¼š<code>journalctl -u kubelet</code>, <code>journalctl -u docker</code> æˆ– <code>containerd</code>ã€‚</p></li><li><p><strong>æ—¥å¿—æ”¶é›†æ–¹æ¡ˆ</strong>ï¼šFluentd, Loki (æ¦‚å¿µæ€§äº†è§£)ã€‚</p></li></ul><h3 id="9-2-ç›‘æ§å·¥å…·-Monitoring-Tools-Concepts"><a href="#9-2-ç›‘æ§å·¥å…·-Monitoring-Tools-Concepts" class="headerlink" title="9.2 ç›‘æ§å·¥å…· (Monitoring Tools - Concepts)"></a>9.2 ç›‘æ§å·¥å…· (Monitoring Tools - Concepts)</h3><ul><li><p><strong>Prometheus &#x2F; Grafana</strong>ï¼šK8s ç›‘æ§çš„äº‹å®æ ‡å‡† (äº†è§£æ¶æ„å’Œä½œç”¨)ã€‚</p></li><li><p><strong>Metrics Server</strong>ï¼šæä¾›åŸºæœ¬çš„ CPU&#x2F;å†…å­˜æŒ‡æ ‡ (<code>kubectl top</code>)ã€‚</p></li></ul><h3 id="9-3-å¥åº·æ£€æŸ¥-Probes"><a href="#9-3-å¥åº·æ£€æŸ¥-Probes" class="headerlink" title="9.3 å¥åº·æ£€æŸ¥ (Probes)"></a>9.3 å¥åº·æ£€æŸ¥ (Probes)</h3><ul><li><p><strong>æ¦‚å¿µ</strong>ï¼šæ£€æŸ¥å®¹å™¨æ˜¯å¦å¥åº·ã€æ˜¯å¦å‡†å¤‡å¥½æ¥æ”¶æµé‡ã€‚</p></li><li><p><strong><code>livenessProbe</code> (å­˜æ´»æ¢é’ˆ)</strong>ï¼šåˆ¤æ–­å®¹å™¨æ˜¯å¦å­˜æ´»ï¼Œå¤±è´¥åˆ™é‡å¯å®¹å™¨ã€‚</p></li><li><p><strong><code>readinessProbe</code> (å°±ç»ªæ¢é’ˆ)</strong>ï¼šåˆ¤æ–­å®¹å™¨æ˜¯å¦å‡†å¤‡å¥½æ¥æ”¶æµé‡ï¼Œå¤±è´¥åˆ™ä» Service ç»ˆç‚¹ä¸­ç§»é™¤ã€‚</p></li><li><p><strong><code>startupProbe</code> (å¯åŠ¨æ¢é’ˆ)</strong>ï¼šåˆ¤æ–­å®¹å™¨æ˜¯å¦å¯åŠ¨æˆåŠŸï¼Œé¿å… <code>livenessProbe</code> è¿‡æ—©å¤±è´¥ã€‚</p></li><li><p><strong>æ¢é’ˆç±»å‹</strong>ï¼š<code>exec</code>, <code>httpGet</code>, <code>tcpSocket</code>ã€‚</p></li><li><p><strong>YAML ç¤ºä¾‹</strong>ï¼š</p></li></ul><h2 id="åã€æ•…éšœæ’é™¤-Troubleshooting"><a href="#åã€æ•…éšœæ’é™¤-Troubleshooting" class="headerlink" title="åã€æ•…éšœæ’é™¤ (Troubleshooting)"></a>åã€æ•…éšœæ’é™¤ (Troubleshooting)</h2><h3 id="10-1-Pod-æ•…éšœ-Pod-Failures"><a href="#10-1-Pod-æ•…éšœ-Pod-Failures" class="headerlink" title="10.1 Pod æ•…éšœ (Pod Failures)"></a>10.1 Pod æ•…éšœ (Pod Failures)</h3><ul><li><p><strong>å¸¸è§çŠ¶æ€</strong>ï¼šPending, CrashLoopBackOff, Error, OOMKilledã€‚</p></li><li><p><strong>è°ƒè¯•å‘½ä»¤</strong>ï¼š</p><ul><li><p><code>kubectl describe pod &lt;name&gt;</code> (æŸ¥çœ‹äº‹ä»¶ã€çŠ¶æ€ã€æŒ‚è½½ã€å®¹å™¨ä¿¡æ¯)</p></li><li><p><code>kubectl logs &lt;name&gt; [-c &lt;container&gt;]</code> (æŸ¥çœ‹åº”ç”¨æ—¥å¿—)</p></li><li><p><code>kubectl exec -it &lt;name&gt; -- bash</code> (è¿›å…¥å®¹å™¨è°ƒè¯•)</p></li></ul></li><li><p><strong>å¯èƒ½åŸå› </strong>ï¼šé•œåƒæ‹‰å–å¤±è´¥ã€ç«¯å£å†²çªã€èµ„æºä¸è¶³ã€é…ç½®é”™è¯¯ã€å¥åº·æ£€æŸ¥å¤±è´¥ã€‚</p></li></ul><h3 id="10-2-èŠ‚ç‚¹æ•…éšœ-Node-Failures"><a href="#10-2-èŠ‚ç‚¹æ•…éšœ-Node-Failures" class="headerlink" title="10.2 èŠ‚ç‚¹æ•…éšœ (Node Failures)"></a>10.2 èŠ‚ç‚¹æ•…éšœ (Node Failures)</h3><ul><li><p><strong>å¸¸è§çŠ¶æ€</strong>ï¼šNotReady, SchedulingDisabledã€‚</p></li><li><p><strong>è°ƒè¯•å‘½ä»¤</strong>ï¼š</p><ul><li><p><code>kubectl get nodes</code></p></li><li><p><code>kubectl describe node &lt;name&gt;</code> (æŸ¥çœ‹èŠ‚ç‚¹äº‹ä»¶ã€èµ„æºä½¿ç”¨ã€æ±¡ç‚¹)</p></li><li><p>SSH åˆ°èŠ‚ç‚¹æ£€æŸ¥ <code>kubelet</code>, <code>containerd/docker</code> æœåŠ¡çŠ¶æ€ (<code>systemctl status kubelet</code>)ã€‚</p></li><li><p>æ£€æŸ¥èŠ‚ç‚¹èµ„æºä½¿ç”¨ã€‚</p></li></ul></li><li><p><strong>å¯èƒ½åŸå› </strong>ï¼š<code>kubelet</code> åœæ­¢ã€ç½‘ç»œé—®é¢˜ã€ç£ç›˜ç©ºé—´ä¸è¶³ã€å†…å­˜è€—å°½ã€‚</p></li></ul><h3 id="10-3-ç½‘ç»œæ•…éšœ-Networking-Issues"><a href="#10-3-ç½‘ç»œæ•…éšœ-Networking-Issues" class="headerlink" title="10.3 ç½‘ç»œæ•…éšœ (Networking Issues)"></a>10.3 ç½‘ç»œæ•…éšœ (Networking Issues)</h3><ul><li><p><strong>Pod é—´é€šä¿¡</strong>ï¼šæ£€æŸ¥ CNI æ’ä»¶çŠ¶æ€ã€<code>kube-proxy</code> æ—¥å¿—ã€‚</p></li><li><p><strong>Service è®¿é—®</strong>ï¼šæ£€æŸ¥ <code>Service Selector</code> æ˜¯å¦åŒ¹é… Pod æ ‡ç­¾ï¼Œ<code>Endpoints</code> æ˜¯å¦æ­£ç¡®ã€‚</p></li><li><p><strong>å¤–éƒ¨è®¿é—®</strong>ï¼šæ£€æŸ¥ <code>NodePort</code>, <code>LoadBalancer</code>, <code>Ingress</code> é…ç½®ã€‚</p></li><li><p><strong>DNS è§£æ</strong>ï¼šæ£€æŸ¥ <code>coredns</code> Pod çŠ¶æ€ã€å®¹å™¨å†… <code>nslookup</code>ã€‚</p></li></ul><h3 id="10-4-å­˜å‚¨æ•…éšœ-Storage-Issues"><a href="#10-4-å­˜å‚¨æ•…éšœ-Storage-Issues" class="headerlink" title="10.4 å­˜å‚¨æ•…éšœ (Storage Issues)"></a>10.4 å­˜å‚¨æ•…éšœ (Storage Issues)</h3><ul><li><p><strong>PVC çŠ¶æ€</strong>ï¼šPending, Boundã€‚</p></li><li><p><strong>PV çŠ¶æ€</strong>ï¼šAvailable, Bound, Released, Failedã€‚</p></li><li><p><strong>è°ƒè¯•å‘½ä»¤</strong>ï¼š<code>kubectl describe pvc/pv</code>ã€‚</p></li><li><p><strong>å¯èƒ½åŸå› </strong>ï¼š<code>StorageClass</code> é…ç½®é”™è¯¯ã€å­˜å‚¨åç«¯é—®é¢˜ã€<code>accessModes</code> ä¸åŒ¹é…ã€‚</p></li></ul><h3 id="10-5-æ§åˆ¶å¹³é¢æ•…éšœ-Control-Plane-Failures"><a href="#10-5-æ§åˆ¶å¹³é¢æ•…éšœ-Control-Plane-Failures" class="headerlink" title="10.5 æ§åˆ¶å¹³é¢æ•…éšœ (Control Plane Failures)"></a>10.5 æ§åˆ¶å¹³é¢æ•…éšœ (Control Plane Failures)</h3><ul><li><p><strong>API Server ä¸å¯ç”¨</strong>ï¼š<code>etcd</code> é—®é¢˜ã€è¯ä¹¦è¿‡æœŸã€ç«¯å£å†²çªã€‚</p></li><li><p><strong>Scheduler ä¸è°ƒåº¦</strong>ï¼š<code>kube-scheduler</code> è¿›ç¨‹é—®é¢˜ã€èµ„æºä¸è¶³ã€‚</p></li><li><p><strong>Controller Manager ä¸å·¥ä½œ</strong>ï¼šç›¸å…³æ§åˆ¶å™¨é”™è¯¯ã€‚</p></li><li><p><strong>è°ƒè¯•</strong>ï¼šæŸ¥çœ‹ Master èŠ‚ç‚¹ä¸Šå„ç»„ä»¶çš„é™æ€ Pod æ—¥å¿— (<code>/etc/kubernetes/manifests/</code>)ã€‚</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ä¸€ã€-é›†ç¾¤æ¶æ„&quot;&gt;&lt;a href=&quot;#ä¸€ã€-é›†ç¾¤æ¶æ„&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€ é›†ç¾¤æ¶æ„&quot;&gt;&lt;/a&gt;ä¸€ã€ é›†ç¾¤æ¶æ„&lt;/h2&gt;&lt;h3 id=&quot;1-1-é›†ç¾¤æ¶æ„&quot;&gt;&lt;a href=&quot;#1-1-é›†ç¾¤æ¶æ„&quot; class=&quot;headerli</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="k8s" scheme="https://sosocrown.github.io/categories/%E6%8A%80%E6%9C%AF/k8s/"/>
    
    
    <category term="kubenates" scheme="https://sosocrown.github.io/tags/kubenates/"/>
    
    <category term="è¿ç»´" scheme="https://sosocrown.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªç”±ï¼Œå¾ˆè¯±äººå•Š</title>
    <link href="https://sosocrown.github.io/2025/09/17/%E8%87%AA%E7%94%B1%EF%BC%8C%E5%BE%88%E8%AF%B1%E4%BA%BA%E5%95%8A/"/>
    <id>https://sosocrown.github.io/2025/09/17/%E8%87%AA%E7%94%B1%EF%BC%8C%E5%BE%88%E8%AF%B1%E4%BA%BA%E5%95%8A/</id>
    <published>2025-09-16T16:00:00.000Z</published>
    <updated>2025-09-17T10:00:49.673Z</updated>
    
    <content type="html"><![CDATA[<p>æŸ´é™å†™è¿‡ä¸€ç¯‡åšå®¢ã€Šæˆ‘åªæ˜¯è®¨åŒå±ˆæœã€‹ï¼Œå‡ å¹´åï¼Œå¥¹å»é‡‡è®¿ä¸€åå› è¨€è®ºè·ç½ªè¢«å…³æŠ¼çš„äººã€‚<br>â€œä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿâ€<br>â€œå› ä¸ºæˆ‘çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œè¯´çš„æ˜¯ä¸€ä¸ªå«éƒåŠ²æ¾çš„å¾‹å¸ˆï¼Œé‚£ç¯‡æ–‡ç« å«ä»€ä¹ˆâ€¦â€¦å«ä»€ä¹ˆå±ˆæœâ€¦â€¦â€<br>â€œã€Šæˆ‘åªæ˜¯è®¨åŒå±ˆæœã€‹ã€‚â€</p><p>æœ‰ç€ä¸å¿…ä¹…ç•™çš„å†³å®šï¼Œå› ä¸ºæ— æ³•å®Œæˆå·¥ä½œè€Œæ„Ÿå—åˆ°çš„ç—›è‹¦ä¹Ÿå‰Šå¼±äº†<br>åœ¨ç›®æ ‡ç¼ºä¹æ¸…æ™°å®šä¹‰ã€æ‰§è¡Œè·¯å¾„è¢«åå¤æ¨ç¿»ã€è¯„ä¼°æ ‡å‡†æ¨¡ç³Šçš„ç¯å¢ƒé‡Œï¼Œä»»åŠ¡å¤©ç„¶å°±æ˜¯â€œå®Œæˆä¸äº†â€çš„ã€‚</p><p>&#x3D;&#x3D;â€œæˆ‘å¯¹æ­¤ä¸å¿…è´Ÿè´£â€&#x3D;&#x3D;</p><hr><p>å¥´æ€§çš„â€œè‹¦ä¸­è‹¦â€ç²¾ç¥å…‘æ¢æˆæˆä¸ºâ€œäººä¸Šäººâ€çš„ç­¹ç ï¼šå¿è€ä¸€ä¸‹ï¼Œå†åŠªåŠ›ä¸€ç‚¹ä½ å°±å¯ä»¥å¥´å½¹åˆ«äººäº†ã€‚<br>è¿™ç§å¾ªç¯å¾€å¤çš„æƒåŠ›æ¸¸æˆä¸­ï¼Œè°„åªšä¸éœ¸å‡Œå¦‚å½±éšå½¢ï¼Œå—å‹è¿«è€…ç»ˆå°†æˆä¸ºå‹è¿«è€…ã€‚</p><p> æˆ‘ä¸æ„¿æ„å‚ä¸è¿™ç§æƒåˆ©æ¸¸æˆã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æŸ´é™å†™è¿‡ä¸€ç¯‡åšå®¢ã€Šæˆ‘åªæ˜¯è®¨åŒå±ˆæœã€‹ï¼Œå‡ å¹´åï¼Œå¥¹å»é‡‡è®¿ä¸€åå› è¨€è®ºè·ç½ªè¢«å…³æŠ¼çš„äººã€‚&lt;br&gt;â€œä½ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿâ€&lt;br&gt;â€œå› ä¸ºæˆ‘çœ‹è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œè¯´çš„æ˜¯ä¸€ä¸ªå«éƒåŠ²æ¾çš„å¾‹å¸ˆï¼Œé‚£ç¯‡æ–‡ç« å«ä»€ä¹ˆâ€¦â€¦å«ä»€ä¹ˆå±ˆæœâ€¦â€¦â€&lt;br&gt;â€œã€Šæˆ‘åªæ˜¯è®¨åŒå±ˆæœã€‹ã€‚â€&lt;/p&gt;
&lt;p&gt;æœ‰ç€ä¸å¿…ä¹…ç•™çš„å†³å®šï¼Œå› ä¸ºæ— æ³•</summary>
      
    
    
    
    <category term="flee as a bird to your mountain" scheme="https://sosocrown.github.io/categories/flee-as-a-bird-to-your-mountain/"/>
    
    
    <category term="life" scheme="https://sosocrown.github.io/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>è´ªå—”ç—´æ¨çˆ±æ¶æ¬²</title>
    <link href="https://sosocrown.github.io/2025/09/03/%E8%B4%AA%E5%97%94%E7%97%B4%E6%81%A8%E7%88%B1%E6%81%B6%E6%AC%B2/"/>
    <id>https://sosocrown.github.io/2025/09/03/%E8%B4%AA%E5%97%94%E7%97%B4%E6%81%A8%E7%88%B1%E6%81%B6%E6%AC%B2/</id>
    <published>2025-09-02T16:00:00.000Z</published>
    <updated>2025-09-05T02:32:45.950Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ¸¸æ³³æ˜¯è´ªå—”ç—´æ¨çˆ±æ¶æ¬²çŸ­æš‚æ¶ˆå¤±çš„é£è¡Œæ—¶åˆ»ï¼Œé™†åœ°ä¸Šçš„å£°éŸ³å¤ªå¤šå¤ªæ‚ï¼šæ‰¹è¯„çš„å£°éŸ³ï¼Œå˜²ç¬‘çš„å£°éŸ³ï¼Œè½»è”‘çš„å£°éŸ³ã€‚</p></blockquote><p>é™†åœ°ä¸Šé™¤äº†å‘¼å¸è‡ªç”±ï¼Œä»€ä¹ˆéƒ½ä¸è‡ªç”±ã€‚åœ¨æ°´é‡Œï¼Œé™¤äº†å‘¼å¸ä¸è‡ªç”±ï¼Œå…¶ä»–éƒ½è‡ªç”±!<br>ä¸‹äº†æ°´çš„é‚£ä¸€åˆ»ï¼Œä¸–ç•Œå˜å¾—ç¾å¦™èµ·æ¥ï¼Œè€³è¾¹å®‰é™ï¼Œèº«ä½“è½»ç›ˆï¼Œè¿™æ˜¯å±äºä¸€ä¸ªäººçš„ä¸–ç•Œï¼Œè¹¬å£å‡ºå‘çš„é‚£ä¸€åˆ»ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±åƒä¸€æ”¯ç¦»å¼¦çš„ç®­ï¼Œå„ç§æƒ…ç»ªéƒ½è·Ÿä¸ä¸Šæˆ‘çš„é€Ÿåº¦ã€‚<br>æ¸¸å®Œæ³³çš„ç­‹ç–²åŠ›å°½ï¼Œæ¹¿æ¼‰çš„å¤´å‘ï¼Œçš®è‚¤ä¸Šç•¥å¸¦ç´§ç»·æ„Ÿçš„æ½®æ¹¿ï¼Œèµ°å‡ºæ³³æ± ä¹‹åé£å¾ˆè½»çš„è§¦æ‘¸çš®è‚¤ï¼ŒæŸ”æŸ”çš„ï¼Œæ„Ÿè§‰èº«ä½“å¾ˆé‡åˆå¾ˆè½»ï¼Œå‡ºæ¥åéª‘è½¦å¹é£å¬ç€æ­Œå–ç€æ±½æ°´ï¼Œæ˜¯äººç”Ÿä¸­æœ€çˆ½æœ€çˆ½çš„æ—¶åˆ»ã€‚<br>å›åˆ°å®¶ä¾¿å¯æ‹¥æœ‰ä¸€ä¸ªéå¸¸å®‰å¿ƒçš„å¥½çœ ï¼Œå››è‚¢ç˜«è½¯ï¼Œç¡åˆ°è‡ªç„¶é†’ï¼Œç¬¬äºŒå¤©è½»äº†ä¸¤ä¸‰æ–¤ï¼Œä¸€åˆ‡çš„ä¸€åˆ‡ï¼Œéƒ½æ˜¯è¿™ä¹ˆå¥½</p><p>ä»€ä¹ˆæ—¶å€™å»å­¦è‡ªç”±æ³³ï¼Ÿ</p><p>æŠ€æœ¯ã€å­¦ç§‘ç±»çš„å­¦ä¹ ï¼Œæˆ‘å–œæ¬¢è‡ªç”±æ¢ç´¢å’Œæ‹†è§£é—®é¢˜çš„è¿‡ç¨‹ã€‚å¯åƒæ¸¸æ³³è¿™ç§ï¼ŒåŠ¨ä½œæ ‡å‡†å’Œèº«ä½“åé¦ˆå¾ˆéš¾é è‡ªå·±å®Œå…¨åˆ¤æ–­ï¼Œæˆ‘å°±å–œæ¬¢æ‰¾è€å¸ˆï¼Œæ­£ç¡®çš„åŠ¨ä½œå’ŒåŠæ—¶çº é”™æ¯”æ¢ç´¢æ›´é‡è¦ã€‚</p><p>ä¸Šå‘¨æœ«å»æ·±åœ³æ‰¾æœ‹å‹ç©ï¼Œå…­ä¸ªäººå±…ç„¶éƒ½æ˜¯æ ¡å‹ï¼ˆä¸ºä»€ä¹ˆç”¨éƒ½</p><p>æ™šä¸Šæˆ‘èººåœ¨æœ‹å‹çš„åºŠä¸Šï¼Œç©ºè°ƒçš„å†·é£è®©æ‰‹è‡‚èµ·äº†å°å°çš„é¢¤æ —ï¼Œæˆ‘æ ¼å¤–å–œæ¬¢ã€‚</p><p>å¯¹å¥¹å€¾è¯‰äº†ä¸€äº›éƒç»“ä¹‹äº‹åï¼Œå¥¹æƒŠè¯§ï¼šä½ è¿˜æƒ³åœ¨å·¥ä½œä¸­å­¦åˆ°ä»€ä¹ˆå•Šï¼Ÿ</p><p><img src="/images/sunset.jpg" alt="EC2"></p><hr><p>ä¸Šä¸ªæœˆå¾®ä¿¡è¯»ä¹¦è®°å½•äº†53ä¸ªå°æ—¶ï¼š</p><ul><li>ä¸€æœ¬å¬´æ”¿ç»Ÿä¸€å…­å›½ä¸ºèƒŒæ™¯çš„æ•…äº‹</li><li>ä¸€æœ¬å®‰å²ä¹‹ä¹±åçš„æ¶ç©ºå”æœæ•…äº‹</li><li>ä¸€æœ¬æ—¥æœ¬æ˜æ²»åŠå¤§æ­£æ—¶ä»£</li><li>å¼ å¤©ç¿¼çš„ã€Šäººé±¼ä¹‹é—´ã€‹</li></ul><hr><p>è®¡åˆ’å¥½åæœˆçš„å‡ºè¡Œï¼Œå´ä¹°åäº†å¾€è¿”æœºç¥¨ã€‚</p><hr><p>æˆ‘æœ€å–œæ¬¢çš„å¯“è¨€æ•…äº‹æ˜¯å°é©¬è¿‡æ²³<br>ç°åœ¨æˆ‘è¿™åŒ¹å°é©¬åœ¨æ²³è¾¹æ¥å›å¾˜å¾Šè¸Œèº‡ä¸å‰çŠ¹è±«ä¸å†³</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;æ¸¸æ³³æ˜¯è´ªå—”ç—´æ¨çˆ±æ¶æ¬²çŸ­æš‚æ¶ˆå¤±çš„é£è¡Œæ—¶åˆ»ï¼Œé™†åœ°ä¸Šçš„å£°éŸ³å¤ªå¤šå¤ªæ‚ï¼šæ‰¹è¯„çš„å£°éŸ³ï¼Œå˜²ç¬‘çš„å£°éŸ³ï¼Œè½»è”‘çš„å£°éŸ³ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é™†åœ°ä¸Šé™¤äº†å‘¼å¸è‡ªç”±ï¼Œä»€ä¹ˆéƒ½ä¸è‡ªç”±ã€‚åœ¨æ°´é‡Œï¼Œé™¤äº†å‘¼å¸ä¸è‡ªç”±ï¼Œå…¶ä»–éƒ½è‡ªç”±!&lt;br&gt;ä¸‹äº†æ°´çš„é‚£ä¸€åˆ»ï¼Œä¸–ç•Œå˜å¾—ç¾å¦™</summary>
      
    
    
    
    <category term="flee as a bird to your mountain" scheme="https://sosocrown.github.io/categories/flee-as-a-bird-to-your-mountain/"/>
    
    
    <category term="life" scheme="https://sosocrown.github.io/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>è–›å®šè°”ï¼Œä½ åœ¨å—ï¼Ÿ</title>
    <link href="https://sosocrown.github.io/2025/08/05/%E8%96%9B%E5%AE%9A%E8%B0%94%EF%BC%8C%E4%BD%A0%E5%9C%A8%E5%90%97%EF%BC%9F/"/>
    <id>https://sosocrown.github.io/2025/08/05/%E8%96%9B%E5%AE%9A%E8%B0%94%EF%BC%8C%E4%BD%A0%E5%9C%A8%E5%90%97%EF%BC%9F/</id>
    <published>2025-08-04T16:00:00.000Z</published>
    <updated>2025-08-05T12:39:47.306Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘çš„æ–°é—»é¢‘ç¹ä¸Šæ¼”è¯¡è°²çš„è¯é¢˜ï¼šå®›å¦‚ã€Šå“­æ‚²ã€‹é‡Œé¢å¼‚åŒ–çš„ä¸–ç•Œã€‚</p><p>æç«¯çš„ç„¦è™‘ã€ä¸å®‰ã€å›°æƒ‘å’Œç—›è‹¦ï¼Œæˆ‘æƒ³è¦å‘•åï¼Œææƒ§è‡ªå·±é©¬ä¸Šæˆä¸ºåˆ€åˆƒä¸‹çš„è…éª¨ï¼Œæ›´ææƒ§çš„æ˜¯æˆ‘ç”šè‡³å‘ä¸å‡ºæ„¤æ€’çš„å£°éŸ³ï¼Œå°±æ­¤å¯‚é™ä¸‹å»ã€‚</p><p>å½“ç„¶ï¼Œè¿™æ˜¯ä¸€ç¯‡2025è¿‡åŠçš„å›é¡¾ï¼Œæˆ‘æ§åˆ¶è‡ªå·±ä¸è¦å‘•åå‡ºå¤ªå¤šè´Ÿé¢çš„æƒ…ç»ªã€‚</p><hr><p>æ‰“å­—çš„æ—¶å€™æ˜¯å…«æœˆï¼Œå¹´ä¸­å·²ç»è¿‡å»äº†æ•´æ•´ä¸¤ä¸ªæœˆï¼Œæˆ‘å´å‡ ä¹æ¯«æ— å¯Ÿè§‰ã€‚èº«ä½“è¿˜æ»ç•™åœ¨å¹´åˆçš„æŸä¸ªæ—¶é—´ç‚¹ã€‚<br>å·¥ä½œåä¸€ä¸ªé—®é¢˜äº§ç”Ÿäº†ï¼š<br><strong>åœ¨å·¥ä½œä¸­å¯»æ±‚æˆé•¿æ„Ÿå’Œä»·å€¼æ„Ÿæ˜¯ä¸æ˜¯ä¸€ç§é”™ï¼Ÿ  å·¥ä½œæ˜¯ä¸æ˜¯å°±è¯¥åªæ˜¯ä¸€ä¸ªèµšé’±çš„å·¥å…·ï¼Ÿ</strong><br>ä»æ›´æ¢é¡¹ç›®ä»¥æ¥ï¼Œè¿™ä¸ªç–‘é—®å®›å¦‚ç¼ ç»•æˆ‘çš„æ¶é¬¼ï¼Œæ—¶æ—¶åˆ»åˆ»å°†æˆ‘é€¼è¿«åˆ°å´©æºƒçš„è¾¹ç¼˜ã€‚</p><p>è¯´å®è¯ï¼Œæˆ‘çš„ç¬¬ä¸€ä¸ªé¡¹ç›®ç¯å¢ƒæŒºè½»æ¾ï¼Œé¢†å¯¼åŒäº‹ä¹Ÿéƒ½å¾ˆå¥½ã€‚ä½†å°±ç®—è¿™æ ·ï¼Œæˆ‘è¿˜æ˜¯èƒ½ä»ä¸­æ¦¨å‡ºä¸€äº›ç—›è‹¦ï¼Œé‚£ç§ç°åœ¨çœ‹æ¥å·²ç»ç®—å¥¢ä¾ˆçš„ç—›è‹¦ï¼šæ¯”å¦‚å·¥ä½œä¸€æ®µæ—¶é—´åå°±è§‰å¾—è‡ªå·±å­¦ä¹ çš„é€Ÿåº¦å‡æ…¢äº†ï¼Œä¸å†åƒåˆšå…¥èŒé‚£æ ·å¿«é€Ÿå¸æ”¶æ–°ä¸œè¥¿ã€‚<br>ä½†é‚£ä¸ªé¡¹ç›®èµ·ç æµç¨‹æ¸…æ™°ã€å¯è¿½æº¯ã€æ ‡å‡†åŒ–ï¼Œé¢†å¯¼ç»™çš„æƒé™æ˜¯æœ‰é™ä½†ç¨³å®šçš„ã€‚æ›´é‡è¦çš„æ˜¯ï¼ŒåŒäº‹çš„å·¥ä½œæ–¹å¼å½»åº•æ”¹å˜äº†æˆ‘å¯¹æŠ€æœ¯çš„ç†è§£å’Œçœ‹æ³•ã€‚</p><p>å¯æƒœï¼Œå½“æ—¶æˆ‘ä¹Ÿå¼€å§‹æ„Ÿåˆ°ä¸å®‰ã€‚ç”Ÿæ´»å¾ˆç¾å¥½ï¼Œç”šè‡³å¯ä»¥è¯´æ— èŠï¼Œè€Œæˆ‘å´å› æ­¤æ„Ÿåˆ°ææƒ§ï¼š<br>â€œè¦æ˜¯ä¸€ç›´è¿™æ ·ï¼Œæˆ‘æ˜¯ä¸æ˜¯å°±åœæ»ä¸å‰äº†ï¼Ÿæ˜¯ä¸æ˜¯æˆé•¿å¾—å¤ªæ…¢äº†ï¼Ÿâ€</p><p>äºæ˜¯æˆ‘å»äº†å¦ä¸€ä¸ªé¡¹ç›®ã€‚æ¬å®¶çš„çç¢ã€é€šå‹¤æ—¶é—´æˆæœ¬å¢åŠ ã€ç”Ÿæ´»æˆæœ¬å¢åŠ ã€å±…ä½ç¯å¢ƒè´¨é‡ä¸‹é™ã€æ–°ç¯å¢ƒã€æ–°åŒäº‹â€¦â€¦</p><p>åšå†³å®šå¾ˆçº ç»“ã€‚ä½†å¯¹æˆ‘æ¥è¯´ï¼Œâ€œçº ç»“â€å¾€å¾€ä¸æ˜¯å› ä¸ºä¸çŸ¥é“é€‰å“ªæ¡è·¯ï¼Œè€Œæ˜¯æˆ‘å¿ƒé‡Œå·²ç»æœ‰ç­”æ¡ˆäº†ï¼Œä½†éœ€è¦ä¸€äº›æˆç†Ÿçš„é€»è¾‘å’Œå¯ä¿¡ä»»çš„ç†è®ºæ¥æ”¯æ’‘ã€‚</p><p>ç¬¬ä¸€å¤©æˆ‘å°±æœ‰å³å°†ä¸å¹¸çš„é¢„æ„Ÿï¼Œå¦‚åŒå®¿å‘½è®ºçš„èˆå°ä¸Šæœ€åä¸€å¹•çš„é›¨ï¼Œè±¡å¾ç€æ‚²å‰§ã€‚<br>ç¬¬ä¸€å‘¨æˆ‘å°±å¼€å§‹ä¸å®‰ã€‚<br>ç¬¬ä¸€ä¸ªåŠæœˆæˆ‘å´©æºƒäº†ã€‚</p><p>ç„¶åå‰æ–‡æ‰€è¯´çš„ç–‘é—®å°±å¼€å§‹å”±æ­Œï¼Œæ— æ—¶æ— åˆ»æˆ‘è´¨è¯¢è‡ªå·±ï¼Œè§‚å¯Ÿåˆ«äººï¼Œè¯•å›¾è·å¾—ç­”æ¡ˆã€‚<br>æˆ‘è¿˜å¼€å§‹å†™èŒåœºä¸ƒå®—ç½ªï¼Œ^ ^<br>å™è¿°é‚£äº›ç»å†å’Œæ„Ÿå—éƒ½æ˜¯ä¸€ç§ç—›ï¼Œè·³è¿‡ã€‚</p><p>ç–‘é—®æ²¡æœ‰ç­”æ¡ˆã€‚<br>ä¸ºäº†ä¸æŠŠè‡ªå·±æ‹–æ­»ï¼Œæˆ‘å¼€å§‹è‡ªæˆ‘ä¿æŠ¤ï¼Œä¹Ÿå°±æ˜¯å½»åº•æ‘†çƒ‚ã€‚ä¸Šç­å¸¦ä¸Šè€³æœºå¬çŠ¯ç½ªæ’­å®¢ï¼Œçœ‹ç½ªæ¡ˆï¼ˆå€¾æƒ…æ¨èxinklingsï¼Œæˆ‘è¶…å–œæ¬¢çš„ä¸€ä¸ªå†™ç½ªæ¡ˆçš„å¥³åšä¸»ï¼‰ã€‚<br>æˆ‘ä¸å†æå‡ºç–‘é—®ï¼Œä¸å†æ€è€ƒå¦‚ä½•æ›´å¥½è§£å†³å·¥ä½œä¸­å‡ºç°çš„é—®é¢˜ï¼Œä¸å†ç§¯æè·Ÿè¿›é—®é¢˜ã€‚ç”²é¢†å¯¼è¯´Aå¥½ï¼Œæˆ‘å°±ç…§ç€Aåšï¼Œå³ä½¿Aæ ¹æœ¬æ²¡æœ‰é“ç†ã€‚</p><p>å°±è¿™æ ·æ‘†çƒ‚äº†ä¸€ä¸ªæœˆã€‚<br>æˆ‘å’Œé¢†å¯¼äº”æœˆargueè¿‡ï¼Œç›´åˆ°å…«æœˆæ‰è°ƒæ•´å·¥ä½œé‡ç‚¹ã€‚<br><img src="/images/sky.jpg" alt="EC2"><br>æ¼«é•¿çš„æ—¶é—´é‡Œï¼Œå¯¹å·¥ä½œæœ¬ä½“çš„ä¸æ»¡å·²ç»å‡ç»´æˆä¸ºå¯¹é¢†å¯¼èƒ½åŠ›ã€ç”²æ–¹ã€å®¢æˆ·ã€å…¬å¸åˆ¶åº¦ã€å…¬å¸å±æ€§çš„å¤šé¢ä¸€ä½“ä¸æ»¡äº†ã€‚<br>å·¥ä½œä¸€æ­¥ä¸€æ­¥ä¾µå æˆ‘çš„è‡ªç”±ï¼Œç®¡ç†è€…æ»¡ä¸åœ¨ä¹ï¼šâ€œä¸å°±å‡ åˆ†é’Ÿå˜›ï¼Œåˆ°åº•æ˜¯æœ‰å¤šéš¾ï¼Ÿâ€<br>æ‰“å¡ï¼Œæ—¥æŠ¥ï¼Œå‘¨æŠ¥ï¼Œå·¥ä½œé‡æ±‡æ€»ï¼Œæœè£…ï¼Œå·¥ç‰Œâ€¦â€¦<br>ä¸€åˆ‡æ°¸æ— æ­¢å¢ƒã€‚</p><p>ç–‘é—®è¿˜æ˜¯æ²¡æœ‰ç­”æ¡ˆï¼Œæˆ‘è¿˜æ˜¯æ—¶å¸¸æ„¤æ€’å’Œç—›è‹¦ï¼Œç›®å‰è¿˜åœ¨å¯»æ‰¾è§£å†³æ–¹å¼ã€‚<br>é¡ºä¾¿ä¸€æï¼ŒèŒåœºä¸ƒå®—ç½ªå·²ç»å†™é“ç¬¬å…­æ¡äº†ã€‚</p><blockquote><p>ä»»ä½•ä¸€ä¸ªåœ¨æ™®ä¸–ç™»æœ¬ä½é‡Œç»™ä¸Šçº§æ‰“å·¥çš„feministï¼ŒåŸºæœ¬ä¸Šæ²¡æœ‰ä¸åæ€è‡ªå·±ã€ä¸ä¸ºå·¥ä½œçš„ç»„ç»‡æ¡†æ¶ä¸‹è¢«ç®¡ç†ã€è¢«è®­è¯«ã€è¢«è§„è®­è€Œç—›è‹¦çš„ã€‚</p></blockquote><hr><p>ç¬¬ä¸€ä¸ªé—®é¢˜æµ®ç°åï¼Œç¬¬äºŒä¸ªä¹Ÿç´§éšå…¶åï¼šæˆ‘æ˜¯å¦çœŸçš„é€‚åˆåšæŠ€æœ¯å·¥ä½œã€‚<br>æœ‰æ—¶å€™è¿‡åº¦æ€è€ƒæŸä¸ªé—®é¢˜ä¼šé™·å…¥æ·±æ¸Šã€‚</p><p>æˆ‘çš„è§£å†³æ–¹å¼æ˜¯ï¼š</p><blockquote><p><strong>ä¸è¦åœ¨ä¸ä¼šæŸä»¶äº‹æƒ…çš„æ—¶å€™æ–­è¨€è‡ªå·±ä¸å–œæ¬¢ä¸é€‚åˆã€‚</strong></p></blockquote><p><img src="/images/tree.jpg" alt="EC2"></p><hr><p>ä»Šå¹´æ¬å®¶åï¼Œæˆ‘å’Œè¿™ä¸ªåŸå¸‚é‡åˆ°çš„ä¸€ä¸ªåŒæœŸåŒäº‹ï¼Œæˆä¸ºäº†æœ‹å‹ï¼Œæˆ‘ä»¬ä¸€èµ·è¿‡äº†ç”Ÿæ—¥ã€‚</p><p>çµæ„Ÿç»ˆäºè½å®æˆæ–‡å­—ï¼Œè™½ç„¶å› ä¸ºå·¥ä½œä¸­æ–­äº†ï¼Œä½†è‡³å°‘5Wå­—äº†ã€‚</p><p>æœ¬æ¥å¹´åˆå†™ä¸‹é˜…è¯»ç›®æ ‡æ˜¯30æœ¬ï¼Œç°åœ¨å·²ç»è¯»å®Œ24æœ¬ï¼Œå¾—ç›Šäºæ¯å¤©é€šå‹¤æ—¶é—´çš„å˜é•¿ã€‚</p><p>å¼€å§‹å»ºè®¾è‡ªå·±çš„Linkedinï¼Œå°äº†ä¸¤æ¬¡å·ï¼Œç°åœ¨ç»ˆäºæ­£å¸¸è¿è¡Œã€‚</p><p>æœ‰äº†ç¬¬ä¸€ä¸ªæ–‡èº«ã€‚</p><p>å…¬ä¼—å·é‚€è¯·æˆ‘å†™äº†æŠ€æœ¯åˆ†äº«æ–‡ç« ã€‚</p><p>è™½ç„¶è¿˜æ˜¯æ²¡æœ‰å»å­¦è‡ªç”±æ³³ã€‚&gt;_&lt;</p><p>å¥‡æ€ªï¼Œæ€ä¹ˆå†™å¾—åƒæ˜¯å¹´ç»ˆæ€»ç»“ã€‚å·¥ä½œï¼Œä½ æ¯äº†æˆ‘ï¼ï¼ï¼<br><img src="/images/w1.jpg" alt="EC2"></p><p>æ‰€è°“â€œæ—¶ä»£å˜å±€â€ä¸åªæ˜¯æ–°é—»ç”¨è¯­ï¼Œå®ƒæ­£åœ¨ä¸€ç‚¹ç‚¹æ¸—è¿›æˆ‘çš„æ—¥å¸¸ã€‚<br>å‘½è¿çš„è¯¡è°²ä¹‹å¤„å°±åœ¨äºï¼Œæ²¡æœ‰æ˜¯éé¢˜ï¼Œåªè¦æˆ‘éª—è¿‡è‡ªå·±ï¼Œå°±èƒ½çš†å¤§æ¬¢å–œã€‚<br>å¯æˆ‘å¹¶ä¸æƒ³æ¬ºéª—è‡ªå·±ï¼šæˆ‘è¿‡å¾—å¹¸ç¦ã€‚</p><p>æˆ‘å¿ä¸ä½æœè™šç©ºå¤§å–Šï¼šâ€œè–›å®šè°”ï¼Œä½ åœ¨å—ï¼Ÿâ€</p><p><img src="/images/xde.jpg" alt="EC2"></p><p>å¯äº‹å®ä¸Šï¼Œåœ¨ç›’å­é‡Œæˆ‘æ³¨å®šåªæ˜¯å·¥å…·ï¼Œæƒ³è¦æ‘†è„±é»‘æš—ï¼Œåªèƒ½é€ƒå‡ºå»ï¼Œé¡ºä¾¿åå’¬è–›å®šè°”ä¸€å£ã€‚</p><p><img src="/images/taluo.jpg" alt="EC2"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æœ€è¿‘çš„æ–°é—»é¢‘ç¹ä¸Šæ¼”è¯¡è°²çš„è¯é¢˜ï¼šå®›å¦‚ã€Šå“­æ‚²ã€‹é‡Œé¢å¼‚åŒ–çš„ä¸–ç•Œã€‚&lt;/p&gt;
&lt;p&gt;æç«¯çš„ç„¦è™‘ã€ä¸å®‰ã€å›°æƒ‘å’Œç—›è‹¦ï¼Œæˆ‘æƒ³è¦å‘•åï¼Œææƒ§è‡ªå·±é©¬ä¸Šæˆä¸ºåˆ€åˆƒä¸‹çš„è…éª¨ï¼Œæ›´ææƒ§çš„æ˜¯æˆ‘ç”šè‡³å‘ä¸å‡ºæ„¤æ€’çš„å£°éŸ³ï¼Œå°±æ­¤å¯‚é™ä¸‹å»ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™æ˜¯ä¸€ç¯‡2025è¿‡åŠçš„å›é¡¾ï¼Œæˆ‘æ§åˆ¶è‡ªå·±ä¸è¦å‘•åå‡ºå¤ªå¤šè´Ÿé¢çš„</summary>
      
    
    
    
    <category term="flee as a bird to your mountain" scheme="https://sosocrown.github.io/categories/flee-as-a-bird-to-your-mountain/"/>
    
    
    <category term="life" scheme="https://sosocrown.github.io/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>K8S-day1-åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ</title>
    <link href="https://sosocrown.github.io/2025/07/15/K8S-day1-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4%E7%9A%84%E7%8E%AF%E5%A2%83/"/>
    <id>https://sosocrown.github.io/2025/07/15/K8S-day1-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%AE%89%E8%A3%85k8s%E9%9B%86%E7%BE%A4%E7%9A%84%E7%8E%AF%E5%A2%83/</id>
    <published>2025-07-14T16:00:00.000Z</published>
    <updated>2025-07-15T09:54:19.412Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ"><a href="#åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ" class="headerlink" title="åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ"></a>åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ</h1><h2 id="ç¯å¢ƒä¸æ³¨æ„äº‹é¡¹"><a href="#ç¯å¢ƒä¸æ³¨æ„äº‹é¡¹" class="headerlink" title="ç¯å¢ƒä¸æ³¨æ„äº‹é¡¹"></a>ç¯å¢ƒä¸æ³¨æ„äº‹é¡¹</h2><table><thead><tr><th>ä¸»æœºå</th><th>ipåœ°å€</th></tr></thead><tbody><tr><td>master</td><td>172.20.196.17</td></tr><tr><td>node1</td><td>172.20.196.18</td></tr><tr><td>node2</td><td>172.20.196.19</td></tr></tbody></table><ul><li>æˆ‘ç”¨çš„æ˜¯äº‘æœåŠ¡å™¨ï¼Œæ•…ä¸€éƒ¨åˆ†æ“ä½œä¸éœ€è¦åšã€‚<br><img src="/images/ecs.png" alt="EC2"></li><li>æ“ä½œè¿‡ç¨‹å¯ä»¥é€šè¿‡ansibleå‡å°‘é‡å¤æ“ä½œã€‚</li><li>åœ¨æ¯å°æœºå™¨å®‰è£…åŸºç¡€è½¯ä»¶åŒ…</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y device-mapper-persistent-data lvm2 wget net-tools nfs-utils lrzsz gcc gcc-c++ make cmake libxml2-devel openssl-devel curl curl-devel unzip sudo ntpÂ libaio-devel wget vim ncurses-devel autoconf automake zlib-develÂ Â python-devel epel-release openssh-server socatÂ Â ipvsadm conntrack telnetÂ ipvsadm</span><br></pre></td></tr></table></figure><h2 id="1-é…ç½®é™æ€ipåœ°å€"><a href="#1-é…ç½®é™æ€ipåœ°å€" class="headerlink" title="1.  é…ç½®é™æ€ipåœ°å€"></a>1.  é…ç½®é™æ€ipåœ°å€</h2><p>  ä¿®æ”¹é…ç½®æ–‡ä»¶åé‡å¯ç½‘ç»œæœåŠ¡</p><h2 id="2-ä¿®æ”¹ä¸»æœºå"><a href="#2-ä¿®æ”¹ä¸»æœºå" class="headerlink" title="2. ä¿®æ”¹ä¸»æœºå"></a>2. ä¿®æ”¹ä¸»æœºå</h2><p>åˆ†åˆ«ä¿®æ”¹ä¸‰å°ä¸»æœºåç§°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname master &amp;&amp; bash </span><br></pre></td></tr></table></figure><h2 id="3-é…ç½®hostsæ–‡ä»¶"><a href="#3-é…ç½®hostsæ–‡ä»¶" class="headerlink" title="3. é…ç½®hostsæ–‡ä»¶"></a>3. é…ç½®hostsæ–‡ä»¶</h2><p><strong>é…ç½®ä¸»æœºhostsæ–‡ä»¶ï¼Œç›¸äº’ä¹‹é—´é€šè¿‡ä¸»æœºåäº’ç›¸è®¿é—®</strong><br>åˆ†åˆ«ä¿®æ”¹æ¯å°æœºå™¨çš„&#x2F;etc&#x2F;hostsæ–‡ä»¶å¢åŠ å¦‚ä¸‹å†…å®¹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">172.20.196.17 master</span><br><span class="line">172.20.196.18 node1</span><br><span class="line">172.20.196.19 node2</span><br></pre></td></tr></table></figure><h2 id="4-å…å¯†ç™»å½•"><a href="#4-å…å¯†ç™»å½•" class="headerlink" title="4. å…å¯†ç™»å½•"></a>4. å…å¯†ç™»å½•</h2><p><strong>æ–¹ä¾¿ç›¸äº’ä¹‹å‰ä¼ æ–‡ä»¶</strong><br>ç”Ÿæˆå¯†é’¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br><span class="line">ä¸€è·¯å›è½¦</span><br></pre></td></tr></table></figure><p>ä¼ è¾“å…¬é’¥ï¼ˆmasterä¼ ç»™node-1ï¼Œnode-2ï¼Œotherã€‚ä¾æ¬¡ä¼ ç»™åˆè‡ªå·±å¤–çš„æœºå™¨ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id node1</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç™»å½•</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# ssh node1</span><br><span class="line">Last login: Tue Jul 15 16:58:01 2025 from 120.238.191.115</span><br><span class="line"></span><br><span class="line">Welcome to Alibaba Cloud Elastic Compute Service !</span><br></pre></td></tr></table></figure><h2 id="5-å…³é—­selinux"><a href="#5-å…³é—­selinux" class="headerlink" title="5. å…³é—­selinux"></a>5. å…³é—­selinux</h2><p><strong>ä¸ºä»€ä¹ˆè¦å…³é—­selinuxï¼Ÿ</strong><br><strong>SELinux æ˜¯ Linux ç³»ç»Ÿçš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œå¯ä»¥é™åˆ¶ç³»ç»Ÿèµ„æºï¼ˆå¦‚æ–‡ä»¶ã€ç½‘ç»œç­‰ï¼‰çš„è®¿é—®ï¼Œæé«˜ç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚åœ¨ Kubernetes è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è®¿é—®ç³»ç»Ÿèµ„æºï¼Œä½† SELinux å¯èƒ½ä¼šé™åˆ¶è®¿é—®ï¼Œä»è€Œå½±å“ Kubernetes çš„è¿è¡Œã€‚å› æ­¤ï¼Œåœ¨å®‰è£… Kubernetes æ—¶ï¼Œéœ€è¦å…³é—­ SELinuxï¼Œä»¥é¿å…å®ƒå¯¹ Kubernetes çš„å½±å“ã€‚</strong></p><p>ä¿®æ”¹&#x2F;etc&#x2F;selinux&#x2F;config</p><h2 id="6-å…³é—­swapåˆ†åŒº"><a href="#6-å…³é—­swapåˆ†åŒº" class="headerlink" title="6. å…³é—­swapåˆ†åŒº"></a>6. å…³é—­swapåˆ†åŒº</h2><p>**Swapäº¤æ¢åˆ†åŒºæ˜¯ä¸€ç§åœ¨è®¡ç®—æœºä¸­ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜æŠ€æœ¯ã€‚å½“ç‰©ç†å†…å­˜ä¸è¶³ä»¥å®¹çº³å½“å‰è¿è¡Œçš„ç¨‹åºæ—¶ï¼Œæ“ä½œç³»ç»Ÿå°†ä¼šæŠŠä¸€éƒ¨åˆ†å†…å­˜ç©ºé—´æš‚æ—¶è½¬ç§»åˆ°ç¡¬ç›˜ä¸Šï¼Œä»¥ä¾¿ä¸ºå½“å‰ç¨‹åºæä¾›è¿è¡Œæ‰€éœ€çš„å†…å­˜ç©ºé—´ã€‚è¿™ä¸ªè¿‡ç¨‹å°±ç§°ä¸ºäº¤æ¢ã€‚**<strong>äº¤æ¢åˆ†åŒºï¼ˆSwap Partitionï¼‰å°±æ˜¯ç¡¬ç›˜ä¸Šä¸“é—¨é¢„ç•™ç»™æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤æ¢çš„ä¸€å—ç©ºé—´ã€‚</strong></p><p><strong>äº¤æ¢åˆ†åŒºçš„ä½¿ç”¨å¯ä»¥æœ‰æ•ˆé¿å…ç¨‹åºå› ä¸ºå†…å­˜ä¸è¶³è€Œå´©æºƒæˆ–è¿è¡Œç¼“æ…¢çš„é—®é¢˜ï¼Œä½†æ˜¯ç¡¬ç›˜çš„è¯»å†™é€Ÿåº¦æ¯”å†…å­˜è¦æ…¢å¾—å¤šï¼Œå› æ­¤äº¤æ¢åˆ†åŒºçš„ä½¿ç”¨ä¼šå¯¹ç³»ç»Ÿçš„æ€§èƒ½äº§ç”Ÿä¸€å®šçš„å½±å“ã€‚</strong></p><p><strong>åœ¨ Kubernetes è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦é¢‘ç¹åœ°ä½¿ç”¨å†…å­˜å’Œç£ç›˜ç­‰ç³»ç»Ÿèµ„æºã€‚å¦‚æœä½¿ç”¨äº†äº¤æ¢åˆ†åŒºï¼Œä¼šå¯¼è‡´ Kubernetes çš„è¿è¡Œé€Ÿåº¦å˜æ…¢ï¼Œä»è€Œå½±å“æ•´ä¸ªé›†ç¾¤çš„æ€§èƒ½ã€‚å› æ­¤ï¼Œåœ¨å®‰è£… Kubernetes æ—¶ï¼Œé€šå¸¸ä¼šå»ºè®®å…³é—­äº¤æ¢åˆ†åŒºã€‚</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# swapoff -a</span><br><span class="line"></span><br><span class="line">#æ°¸ä¹…å…³é—­ï¼šæ³¨é‡ŠswapæŒ‚è½½ï¼Œç»™swapè¿™è¡Œå¼€å¤´åŠ æ³¨é‡Š</span><br><span class="line">[root@master ~]# vim /etc/fstabÂ </span><br><span class="line">#/dev/mapper/centos-swap swap Â Â Â Â Â swap Â Â Â defaults Â Â Â Â Â Â Â 0 0</span><br></pre></td></tr></table></figure><h2 id="7-ä¿®æ”¹æœºå™¨å†…æ ¸å‚æ•°"><a href="#7-ä¿®æ”¹æœºå™¨å†…æ ¸å‚æ•°" class="headerlink" title="7. ä¿®æ”¹æœºå™¨å†…æ ¸å‚æ•°"></a>7. ä¿®æ”¹æœºå™¨å†…æ ¸å‚æ•°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# modprobe br_netfilter</span><br><span class="line"></span><br><span class="line">#modprobe br_netfilter çš„ä½œç”¨æ˜¯å°† br_netfilter æ¨¡å—æ·»åŠ åˆ° Linux å†…æ ¸ä¸­ã€‚è¿™ä¸ªæ¨¡å—æ˜¯ Linux ç½‘æ¡¥çš„æ ¸å¿ƒæ¨¡å—ï¼Œå®ƒæä¾›äº†ç½‘ç»œåŒ…è½¬å‘å’Œè¿‡æ»¤çš„åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">[root@master ~]# vim /etc/sysctl.d/k8s.conf </span><br><span class="line">è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</span><br><span class="line">net.bridge.bridge-nf-call-ip6tables = 1    #å¯ç”¨ipv6æ•°æ®åŒ…çš„è¿‡æ»¤å’Œå¤„ç†</span><br><span class="line">net.bridge.bridge-nf-call-iptables = 1   #å¯ç”¨ipv4æ•°æ®åŒ…çš„è¿‡æ»¤å’Œå¤„ç†</span><br><span class="line">net.ipv4.ip_forward = 1   #å¯ç”¨äº†  IP è½¬å‘åŠŸèƒ½</span><br><span class="line"></span><br><span class="line">[root@master ~]# sysctl -p /etc/sysctl.d/k8s.conf</span><br></pre></td></tr></table></figure><h2 id="8-å…³é—­é˜²ç«å¢™"><a href="#8-å…³é—­é˜²ç«å¢™" class="headerlink" title="8. å…³é—­é˜²ç«å¢™"></a>8. å…³é—­é˜²ç«å¢™</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# systemctl stop firewalld</span><br><span class="line">[root@master ~]# systemctl disable firewalld</span><br></pre></td></tr></table></figure><h2 id="9-é…ç½®repoæº"><a href="#9-é…ç½®repoæº" class="headerlink" title="9. é…ç½®repoæº"></a>9. é…ç½®repoæº</h2><h2 id="10-æ—¶é—´åŒæ­¥"><a href="#10-æ—¶é—´åŒæ­¥" class="headerlink" title="10. æ—¶é—´åŒæ­¥"></a>10. æ—¶é—´åŒæ­¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#å®‰è£…ntpdateå‘½ä»¤</span><br><span class="line">[root@master ~]# yum install ntpdate -y</span><br><span class="line">#è·Ÿç½‘ç»œæ—¶é—´åšåŒæ­¥</span><br><span class="line">[root@master ~]# ntpdate cn.pool.ntp.org</span><br><span class="line">#æŠŠæ—¶é—´åŒæ­¥åšæˆè®¡åˆ’ä»»åŠ¡</span><br><span class="line">[root@master ~]# crontab -e</span><br><span class="line">* *  * * * /usr/sbin/ntpdate   cn.pool.ntp.org</span><br><span class="line">[root@master ~]# systemctl restart crond</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ&quot;&gt;&lt;/a&gt;åˆå§‹åŒ–å®‰è£…k8sé›†ç¾¤çš„ç¯å¢ƒ&lt;/h1&gt;&lt;h2 id=&quot;ç¯å¢ƒä¸æ³¨æ„äº‹é¡¹&quot;&gt;&lt;a href=&quot;#ç¯å¢ƒ</summary>
      
    
    
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="k8s" scheme="https://sosocrown.github.io/categories/%E6%8A%80%E6%9C%AF/k8s/"/>
    
    
    <category term="kubenates" scheme="https://sosocrown.github.io/tags/kubenates/"/>
    
    <category term="è¿ç»´" scheme="https://sosocrown.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>AWS-SAAè®¤è¯å…¨æ”»ç•¥</title>
    <link href="https://sosocrown.github.io/2025/07/15/AWS-SAA%E8%AE%A4%E8%AF%81%E5%85%A8%E6%94%BB%E7%95%A5/"/>
    <id>https://sosocrown.github.io/2025/07/15/AWS-SAA%E8%AE%A4%E8%AF%81%E5%85%A8%E6%94%BB%E7%95%A5/</id>
    <published>2025-07-14T16:00:00.000Z</published>
    <updated>2025-08-05T06:27:30.640Z</updated>
    
    <content type="html"><![CDATA[<p>æ­¤ç¯‡æ–‡ç« æºè‡ªæˆ‘åœ¨WomenStack ç™¾æ ˆç™¾èƒœå…¬ä¼—å·çš„ä¸€æ¬¡åˆ†äº«ï¼Œå…¬ä¼—å·æ–‡ç« é“¾æ¥é™„ä¸‹ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨å¾®ä¿¡å…¬ä¼—å·WomenStack ç™¾æ ˆç™¾èƒœ<br><a href="https://mp.weixin.qq.com/s?__biz=Mzk4ODQ2NzkxOQ==&mid=2247485911&idx=1&sn=82f2435d9600c3b4be6aa200df2c1d7a&chksm=c4d61b2fafa6e6642660c64001f4dd53009cd7a998e79f94e9ff68accda2572c47d9ea51f575&mpshare=1&scene=1&srcid=0729ZToFy994c5rHOusSlaqM&sharer_shareinfo=8993ec30eec70b4e1b042681f1ed1f18&sharer_shareinfo_first=cc8c545add2d44d6f5095cb1a0818068#rd">https://mp.weixin.qq.com/s?__biz=Mzk4ODQ2NzkxOQ==&amp;mid=2247485911&amp;idx=1&amp;sn=82f2435d9600c3b4be6aa200df2c1d7a&amp;chksm=c4d61b2fafa6e6642660c64001f4dd53009cd7a998e79f94e9ff68accda2572c47d9ea51f575&amp;mpshare=1&amp;scene=1&amp;srcid=0729ZToFy994c5rHOusSlaqM&amp;sharer_shareinfo=8993ec30eec70b4e1b042681f1ed1f18&amp;sharer_shareinfo_first=cc8c545add2d44d6f5095cb1a0818068#rd</a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æˆ‘å­¦äº‘è®¡ç®—çš„ç¬¬ä¸€æ­¥ï¼Œæ˜¯é è€ƒä¸‹ <strong>AWS Certified Solutions Architect â€“ Associateï¼ˆç®€ç§° SAA</strong><strong>ï¼‰</strong> å®Œæˆçš„ã€‚</p><p>AWSï¼ˆAmazon Web Servicesï¼‰æ˜¯äºšé©¬é€Šï¼ˆAmazonï¼‰æ——ä¸‹çš„äº‘è®¡ç®—å¹³å°ï¼Œä¸ Microsoft Azureã€Google Cloud Platformï¼ˆGCPï¼‰å¹¶ç§°å…¨çƒä¸‰å¤§äº‘æœåŠ¡å•†ã€‚ å›½å†…åˆ™æœ‰é˜¿é‡Œå·´å·´ã€è…¾è®¯ã€åä¸ºç­‰å…¬å¸æä¾›å„è‡ªçš„äº‘æœåŠ¡ï¼Œåˆ†åˆ«æ˜¯é˜¿é‡Œäº‘ã€è…¾è®¯äº‘å’Œåä¸ºäº‘ã€‚</p><p>è™½ç„¶å„å®¶å‚å•†å‡æ¨å‡ºè‡ªæœ‰è®¤è¯ä½“ç³»ï¼Œä½†AWSçš„å¾ˆå¤šæ¶æ„ä¸æœåŠ¡éƒ½æ˜¯äº‘è®¡ç®—çš„è¡Œä¸šæ ‡å‡†ã€‚å³ä¾¿è€ƒå®Œå¾ˆä¹…ï¼Œå¤§éƒ¨åˆ†çŸ¥è¯†éƒ½å¿˜è®°äº†ï¼Œä½†ç°åœ¨æ— è®ºä½¿ç”¨å“ªå®¶å‚å•†çš„äº‘æœåŠ¡ï¼Œæˆ‘éƒ½èƒ½å°†å…¶å¯¹åº”åˆ° AWS çš„æœåŠ¡ã€‚</p><p>è¿™å¹¶ä¸æ„å‘³ç€è€ƒè¯•ä¸‡èƒ½ï¼Œå¯¹æˆ‘çš„èŒä¸šè·¯å¾„ä¹Ÿæ²¡æœ‰å·¨å¤§å¢ç›Šï¼Œä½†åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡å°†é›¶æ•£çš„æœåŠ¡ç»„ä»¶ç³»ç»Ÿæ€§åœ°æ•´åˆä¸ºå®Œæ•´çš„æ¶æ„ä½“ç³»ï¼Œé‡æ–°å®¡è§†å¹¶ç†è§£ä¼ ç»ŸITæ¶æ„çš„æœ¬è´¨ç‰¹å¾ä¸è¿è¡Œé€»è¾‘ï¼Œè¿™äº›å¯¹æˆ‘è€Œè¨€æ˜¯éå¸¸å®è´µçš„ç»å†ã€‚</p><p>æˆ‘å­¦ä¹ åˆ°çš„ï¼Œ<strong>ä¸åªæ˜¯â€œè¯¥ç”¨å“ªä¸ªæœåŠ¡â€ï¼Œè€Œæ˜¯â€œå¦‚ä½•æ€è€ƒâ€ã€‚<strong>å®ƒå¸®æˆ‘å»ºç«‹äº†</strong>äº‘åŸç”Ÿ****çš„æ€ç»´æ–¹å¼</strong>ï¼Œè®©æˆ‘åœ¨åç»­çš„å®é™…é¡¹ç›®ã€æŠ€æœ¯å†³ç­–ä¸­ï¼Œèƒ½æ›´æ¸…æ™°åœ°åˆ†æé—®é¢˜ã€è®¾è®¡æ¶æ„ã€‚</p><p>AWSæä¾›éå¸¸å¤šçš„è®¤è¯ï¼Œå¯ä»¥é€šè¿‡å®˜ç½‘æŸ¥çœ‹ã€‚å¤§è‡´åˆ†ä¸ºå…¥é—¨ã€åŠ©ç†ã€ä¸“ä¸šã€ä¸“é¡¹ã€‚è¯¦ç»†è®¤è¯ä¿¡æ¯å¯é€šè¿‡æ–‡æœ«é“¾æ¥[2]æŸ¥çœ‹ã€‚</p><p>ä½œä¸ºåˆå­¦è€…ï¼Œåº”è¯¥é€‰æ‹©<strong>å…¥é—¨çº§</strong>çš„Cloud Practitionerè¿˜æ˜¯<strong>åŠ©ç†çº§</strong>çš„Solutions Architect Associateå‘¢ï¼Ÿ</p><p>Cloud Practitionerï¼ˆäº‘è®¡ç®—ä»ä¸šè€…ï¼‰æ›´åŠ å…³æ³¨äº‘æœåŠ¡æœ¬èº«ï¼Œé€‚åˆæ²¡æœ‰æŠ€æœ¯èƒŒæ™¯çš„äººå‘˜ï¼Œéœ€è¦çŸ¥é“æœ‰å“ªäº›äº§å“ã€èƒ½åšä»€ä¹ˆã€å¤§æ¦‚æ€ä¹ˆç”¨å³å¯ï¼Œæ— éœ€æ·±ç©¶æ¶æ„åŸç†ã€‚</p><p>Solutions Architect Associateï¼ˆè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåŠ©ç†çº§ï¼‰é€‚åˆå¼€å‘è€…ã€è¿ç»´å·¥ç¨‹å¸ˆã€ç³»ç»Ÿå·¥ç¨‹å¸ˆï¼Œæ›´åŠ ä¾§é‡äº‘æœåŠ¡åœ¨æ¶æ„ä¸­å¦‚ä½•å‘æŒ¥ä½œç”¨ï¼Œæ›´è¦æŒæ¡å®ƒä»¬å¦‚ä½•ç»„åˆæˆé«˜å¯ç”¨ã€å¯æ‰©å±•ã€æˆæœ¬ä¼˜åŒ–çš„æ•´ä½“è§£å†³æ–¹æ¡ˆã€‚</p><p>æˆ‘æœ¬èº«æ˜¯è®¡ç®—æœºä¸“ä¸šèƒŒæ™¯ï¼Œç©è¿‡è™šæ‹Ÿæœºã€æ­è¿‡æœåŠ¡ï¼Œå¯¹ Linux ã€è®¡ç®—æœºç½‘ç»œä¸é™Œç”Ÿï¼Œä½†ä¸äº†è§£äº‘åŸç”Ÿäº‘è®¡ç®—ï¼Œå½“æ—¶çš„èŒä¸šè§„åˆ’ä¹Ÿæ›´å€¾å‘äºå»ºç«‹ç³»ç»Ÿçš„äº‘æ¶æ„è®¾è®¡èƒ½åŠ›ï¼Œæ‰€ä»¥é€‰æ‹©SAAè€ŒéCPï¼ˆCloud Practitionerï¼‰ã€‚å½“ç„¶ï¼Œå›½å†…çš„äº‘è®¤è¯æ›´æ–¹ä¾¿ï¼Œå¦‚é˜¿é‡Œäº‘çš„ACPï¼ˆé˜¿é‡Œäº‘äº‘è®¡ç®—é«˜çº§å·¥ç¨‹å¸ˆAlibaba Cloud Certified Professional - Cloud Computingï¼‰ï¼Œèµ„æºæ›´åŠ å¥½è·å–ï¼Œè¯­è¨€ä¹Ÿæ²¡æœ‰é—¨æ§›ï¼Œæ€ä¹ˆé€‰çœ‹ä¸ªäººå€¾å‘ã€‚</p><p>æœ¬æ–‡ä¸»è¦åˆ†äº«AWS-SAAï¼ˆè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåŠ©ç†çº§ï¼‰çš„è®¤è¯ç»éªŒã€‚</p><h1 id="ä¸ªäººæƒ…å†µ"><a href="#ä¸ªäººæƒ…å†µ" class="headerlink" title="ä¸ªäººæƒ…å†µ"></a>ä¸ªäººæƒ…å†µ</h1><p>èƒŒæ™¯ï¼šè®¡ç®—æœºä¸“ä¸šï¼Œå¯¹äº‘æœåŠ¡å®Œå…¨ä¸äº†è§£</p><p>å¤‡è€ƒæ—¶é•¿æ—¶é—´ï¼š48å¤©å·¦å³</p><ul><li>å­¦ä¹ ï¼š35å¤©ï¼Œæ¯å¤©æœ‰æ•ˆå­¦ä¹ æ—¶é•¿3~5å°æ—¶ï¼ˆå…¶ä¸­å¯èƒ½æœ‰1-3å¤©å»ç©äº†ï¼‰</li><li>åˆ·é¢˜ï¼š13å¤©</li></ul><p>åˆ·é¢˜æ¥æºï¼šExamTopics</p><h1 id="å…³äº-AWS-SAA-è€ƒè¯•ï¼š"><a href="#å…³äº-AWS-SAA-è€ƒè¯•ï¼š" class="headerlink" title="å…³äº AWS SAA è€ƒè¯•ï¼š"></a>å…³äº AWS SAA è€ƒè¯•ï¼š</h1><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ul><li>SAA-C03 æ˜¯ <strong>AWS SAA</strong> è®¤è¯è€ƒè¯•çš„æœ€æ–°ç‰ˆæœ¬ä»£ç ï¼Œäº 2022 å¹´ 8 æœˆ 30 æ—¥æ­£å¼å¯ç”¨ï¼Œæ›¿ä»£æ—§ç‰ˆ SAA-C02ã€‚åœ¨è·å–èµ„æ–™ã€å­¦ä¹ ã€åˆ·é¢˜è¿‡ç¨‹ä¸­è¯·è®¤å‡†æœ€æ–°ä»£ç ã€‚</li><li>è®¤è¯å¸¸è§é—®é¢˜ï¼ˆé‡è€ƒæ”¿ç­–ç­‰ï¼‰è§æ–‡æœ«[3]ã€‚</li><li>è€ƒå‰ã€è€ƒä¸­å’Œè€ƒåçš„æµç¨‹ä¸è¦æ±‚è§æ–‡æœ«[4]ã€‚</li></ul><h2 id="æŠ˜æ‰£ä¸æŠ¥å"><a href="#æŠ˜æ‰£ä¸æŠ¥å" class="headerlink" title="æŠ˜æ‰£ä¸æŠ¥å"></a>æŠ˜æ‰£ä¸æŠ¥å</h2><ul><li>å®˜æ–¹ä»·æ ¼150 USDï¼ˆçº¦1085å…ƒï¼‰ï¼ŒAWSå®˜æ–¹æä¾›å¤šç§æ´»åŠ¨è·å–æŠ˜æ‰£ä¼˜æƒ ã€‚æ­¤å¤–ï¼Œé€šè¿‡ä»»ä½•ä¸€é¡¹è®¤è¯åèƒ½å¤Ÿé¢†å–äº”æŠ˜ä¼˜æƒ åˆ¸ã€‚</li><li>è€ƒè¯•æ–¹å¼ï¼šçº¿ä¸‹è€ƒè¯•ä¸­å¿ƒæˆ–åœ¨çº¿ç›‘è€ƒè€ƒè¯•ã€‚</li><li>è€ƒè¯•è¯­è¨€ï¼šæ¨èé€‰<strong>ä¸­æ–‡</strong>ï¼Œå› ä¸ºé€‰äº†ä¸­æ–‡ä¹‹åä¹Ÿå¯ä»¥æŸ¥çœ‹è‹±æ–‡è€ƒé¢˜ï¼Œåä¹‹åˆ™ä¸è¡Œã€‚</li><li>æå‰ 1 å‘¨é¢„çº¦å³å¯ï¼Œå¦‚æœéœ€è¦æ›´æ”¹é¢„çº¦æ—¶é—´ï¼Œåœ¨<strong>è€ƒè¯•æ—¶é—´è‡³å°‘ 24 å°æ—¶ä¹‹å‰</strong>å–æ¶ˆæˆ–é‡æ–°é¢„çº¦ã€‚</li><li>æŠ¥è€ƒé“¾æ¥è§æ–‡æœ«[5]ã€‚</li></ul><hr><h2 id="é¢˜ç›®ç»“æ„"><a href="#é¢˜ç›®ç»“æ„" class="headerlink" title="é¢˜ç›®ç»“æ„"></a>é¢˜ç›®ç»“æ„</h2><ul><li>ä¸€å…± <strong>65 é“é¢˜ã€‚</strong></li><li>å…¶ä¸­æœ‰15é“ä¸ºä¸è®¡åˆ†è¯•é¢˜ã€‚AWS æ”¶é›†è¿™äº›ä¸è®¡åˆ†è¯•é¢˜çš„ ç­”é¢˜æƒ…å†µä»¥è¿›è¡Œè¯„ä¼°ï¼Œä»¥ä¾¿å°†æ¥å°†è¿™äº›è¯•é¢˜ä½œä¸ºè®¡åˆ†è¯•é¢˜ã€‚åœ¨è€ƒè¯•ä¸­ä¸ä¼šæ ‡æ˜ä¸è®¡åˆ†è¯•é¢˜ã€‚</li><li>å…¨éƒ¨ä¸º <strong>å•é€‰ &#x2F; å¤šé€‰ã€‚</strong></li><li>é¢˜ç›®æ¯”è¾ƒé•¿ï¼ŒåŒ…å«åœºæ™¯æè¿°ã€ä¸šåŠ¡èƒŒæ™¯ã€æ¶æ„é™åˆ¶ç­‰ã€‚</li></ul><hr><h2 id="è€ƒè¯•æ—¶é—´ä¸ç»“æœ"><a href="#è€ƒè¯•æ—¶é—´ä¸ç»“æœ" class="headerlink" title="è€ƒè¯•æ—¶é—´ä¸ç»“æœ"></a>è€ƒè¯•æ—¶é—´ä¸ç»“æœ</h2><ul><li>è€ƒè¯•æ—¶é•¿ï¼š130 åˆ†é’Ÿï¼Œéè‹±è¯­æ¯è¯­è€…ç”³è¯· Exam Accommodationså°†è€ƒè¯•æ—¶é—´å»¶é•¿ 30 åˆ†é’Ÿã€‚</li><li>è€ƒè¯•ç»“æœæ¢ç®—åˆ†æ•°ä¸º 100 â€“ 1000 åˆ†ã€‚æœ€ä½åŠæ ¼åˆ†æ•°ä¸º 720 åˆ†ã€‚</li><li>å®Œæˆè€ƒè¯•åï¼Œä¸ä¼šç«‹é©¬åœ¨å±å¹•ä¸Šçœ‹åˆ°è€ƒè¯•ç»“æœã€‚</li><li>æœªé€šè¿‡è€ƒè¯•ï¼Œéœ€è¦ 14 å¤©åæ‰èƒ½é‡è€ƒã€‚é‡è€ƒæ¬¡æ•°æ²¡æœ‰é™åˆ¶ï¼Œä½†æ¯æ¬¡é‡è€ƒéƒ½å¿…é¡»å…¨é¢æ”¯ä»˜æŠ¥åè´¹ã€‚</li></ul><h1 id="å­¦ä¹ èµ„æº"><a href="#å­¦ä¹ èµ„æº" class="headerlink" title="å­¦ä¹ èµ„æº"></a>å­¦ä¹ èµ„æº</h1><h2 id="å®˜æ–¹å­¦ä¹ èµ„æ–™â€”â€”AWS-ç™½çš®ä¹¦"><a href="#å®˜æ–¹å­¦ä¹ èµ„æ–™â€”â€”AWS-ç™½çš®ä¹¦" class="headerlink" title="å®˜æ–¹å­¦ä¹ èµ„æ–™â€”â€”AWS ç™½çš®ä¹¦"></a>å®˜æ–¹å­¦ä¹ èµ„æ–™â€”â€”AWS ç™½çš®ä¹¦</h2><p>ç™½çš®ä¹¦æä¾›éå¸¸è¯¦ç»†çš„æ–‡æ¡£æ”¯æŒï¼Œå¤§éƒ¨åˆ†ç–‘é—®éƒ½å¯ä»¥å¾—åˆ°ç­”æ¡ˆã€‚å­¦ä¼šç†Ÿç»ƒæŸ¥é˜…ç™½çš®ä¹¦ï¼Œä»å®˜æ–¹æ–‡æ¡£è·å–æœ€å…¨é¢çš„äº‘äº§å“ä¿¡æ¯ã€‚ç™½çš®ä¹¦é“¾æ¥è§æ–‡æœ«[6]ã€‚</p><h2 id="è€ƒç‚¹çŸ¥è¯†å¤§çº²"><a href="#è€ƒç‚¹çŸ¥è¯†å¤§çº²" class="headerlink" title="è€ƒç‚¹çŸ¥è¯†å¤§çº²"></a>è€ƒç‚¹çŸ¥è¯†å¤§çº²</h2><p>AWSç›®å‰æœ‰è¿‘ç™¾é¡¹æœåŠ¡ï¼Œä¸è¿‡å¦‚æœæƒ³é€šè¿‡AWSçš„åŠ©ç†çº§è®¤è¯ï¼Œåªéœ€è¦ç†Ÿæ‚‰æŒæ¡ä¸»è¦çš„æœåŠ¡å³å¯ã€‚å¯¹å…¶ä»–æœåŠ¡åªéœ€è¦æ˜ç™½å…¶ä½¿ç”¨åœºæ™¯ä»¥åŠä¸€äº›åº”ç”¨é™åˆ¶ã€‚å®˜æ–¹æä¾›çš„å¤§çº²æ›´åŠ è¯¦ç»†ï¼Œä½†æ˜¯ä»¥<strong>è®¾è®¡æ¶æ„</strong>çš„è§’åº¦å‡ºå‘ã€‚å®˜æ–¹å¤§çº²pdfå¯é€šè¿‡æ–‡æœ«[7]è·å–ã€‚</p><p>æˆ‘çš„å¤§çº²æ˜¯ä»å­¦ä¹ è€…è§’åº¦å‡ºå‘æ•´ç†çš„ï¼Œè¿™é‡Œåªä½œä¸ºè¡¥å……å‚è€ƒã€‚ä¸€éƒ¨åˆ†å†…å®¹å¦‚æœºå™¨å­¦ä¹ å‡ ä¹ä¸å æ¯”é‡ï¼Œä¸æ˜¯è€ƒè¯•é‡ç‚¹ï¼Œä½†å¶å°”ä¹Ÿä¼šå‡ºç°åœ¨è€ƒé¢˜ä¸­ï¼Œä½ åªéœ€è¦å¤§æ¦‚çŸ¥é“å³å¯ã€‚</p><ol><li>è®¡ç®—æœåŠ¡ï¼ˆComputeï¼‰<br> EC2ï¼šéœ€æŒæ¡å¯åŠ¨ã€é…ç½®ã€å®‰å…¨ç»„ã€å¼¹æ€§ IPã€Auto Scaling<br> Lambdaï¼šäº‹ä»¶é©±åŠ¨çš„æ— æœåŠ¡å™¨è®¡ç®—æœåŠ¡<br> Elastic Beanstalkï¼šè‡ªåŠ¨åŒ–éƒ¨ç½²ä¸ç®¡ç†<br> ECS &#x2F; EKSï¼ˆå®¹å™¨æœåŠ¡ï¼‰</li><li>å­˜å‚¨æœåŠ¡ï¼ˆStorageï¼‰<br> S3ï¼šå­˜å‚¨æ¡¶ã€å­˜å‚¨ç±»åˆ«ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€ç‰ˆæœ¬æ§åˆ¶ã€åŠ å¯†ç­‰<br> EBSï¼šå·ç±»å‹ï¼ˆgp3ã€io2ï¼‰ã€å¿«ç…§ã€åŠ å¯†<br> EFSï¼šé€‚ç”¨äºå¤šä¸ª EC2 å®ä¾‹å…±äº«è®¿é—®çš„æ–‡ä»¶å­˜å‚¨<br> FSxï¼šé€‚ç”¨äº Windows æ–‡ä»¶æœåŠ¡å™¨æˆ–é«˜æ€§èƒ½è®¡ç®—ï¼ˆLustreï¼‰</li><li>æ•°æ®åº“æœåŠ¡ï¼ˆDatabaseï¼‰ï¼š<br> RDSï¼šæ‰˜ç®¡ç‰ˆæ•°æ®åº“</li></ol><p>Auroraï¼šå…¼å®¹ MySQL&#x2F;PostgreSQLï¼Œæ¯” RDS æ›´å¿«æ›´è´µ</p><p>DynamoDBï¼šNoSQL æ•°æ®åº“</p><p>ElastiCacheï¼šæ‰˜ç®¡ç‰ˆ Redis æˆ– Memcached</p><p>Redshiftï¼šæ•°æ®ä»“åº“ï¼Œè·‘å¤§è§„æ¨¡åˆ†æ SQLï¼Œé€‚åˆ BI æŠ¥è¡¨</p><p>Transfer Familyï¼šç”¨ SFTP&#x2F;FTP&#x2F;FTPS æŠŠæ•°æ®å®‰å…¨åœ°è¿åˆ° AWS ä¸Š</p><p>Snow Familyï¼šå®ä½“ç¡¬ä»¶è®¾å¤‡ï¼Œç”¨æ¥ç‰©ç†è¿ç§»æµ·é‡æ•°æ®è¿›äº‘</p><ol start="4"><li>ç½‘ç»œï¼ˆNetworkingï¼‰<br> VPCï¼šåŒ…å«å­ç½‘ï¼ˆå…¬æœ‰&#x2F;ç§æœ‰ï¼‰ã€è·¯ç”±è¡¨ã€å®‰å…¨ç»„ï¼ˆSGï¼‰ä¸ç½‘ç»œACL<br> IGW NAT Gatewayï¼šåˆ†åˆ«ç”¨äºå…¬ç½‘è®¿é—®ä¸ç§ç½‘å‡ºç«™è®¿é—®<br> Bastion Hostï¼šè·³æ¿æœºï¼Œç”¨äºå®‰å…¨è®¿é—®ç§æœ‰å­ç½‘<br> Route 53ï¼šDNS æœåŠ¡<br> CloudFrontï¼šCDN åŠ é€ŸæœåŠ¡<br> Direct Connect &#x2F; Transit Gateway</li><li>Serverless ã€åº”ç”¨è§£è€¦ä¸é›†æˆ<br> Lambda + API Gateway<br> Kinesis<br> SNSï¼ˆå‘å¸ƒ&#x2F;è®¢é˜…ï¼‰<br> SQSï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰<br> EventBridgeï¼šäº‹ä»¶æ€»çº¿ï¼Œæ”¯æŒè·¨æœåŠ¡äº‹ä»¶é©±åŠ¨æ¶æ„<br> Step Functionsï¼šçŠ¶æ€ç®¡ç† + å·¥ä½œæµç¼–æ’</li><li>ç¾éš¾æ¢å¤ä¸æ•°æ®è¿ç§»ï¼ˆDR &amp; Migrationï¼‰<br> ç¾éš¾æ¢å¤æ–¹æ¡ˆ<br> æ•°æ®è¿ç§»å·¥å…·<br> å¤‡ä»½ç­–ç•¥</li><li>å®‰å…¨ä¸æƒé™æ§åˆ¶ï¼ˆSecurity &amp; Identityï¼‰<br> IAMï¼šèº«ä»½ä¸è®¿é—®ç®¡ç†ï¼ˆç”¨æˆ·ã€ç»„ã€è§’è‰²ã€ç­–ç•¥ï¼‰<br> Organizations &#x2F; SCPï¼šå¤šè´¦æˆ·ç®¡ç†ä¸é›†ä¸­ç­–ç•¥æ§åˆ¶<br> KMSï¼šå¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆå¯¹æ•°æ®åŠ å¯†è§£å¯†ï¼‰<br> CloudTrail &#x2F; Configï¼šæ“ä½œè®°å½•å®¡è®¡ä¸åˆè§„æ€§ç›‘æ§<br> CloudWatchï¼šç›‘æ§æœåŠ¡ï¼Œå«æ—¥å¿—ã€æŒ‡æ ‡ã€æŠ¥è­¦ã€ä»ªè¡¨æ¿</li></ol><h2 id="Udemyè¯¾ç¨‹"><a href="#Udemyè¯¾ç¨‹" class="headerlink" title="Udemyè¯¾ç¨‹"></a>Udemyè¯¾ç¨‹</h2><p>Udemyå¹³å°Stephane Maarekçš„ã€ŠUltimate AWS Certified Solutions Architect Associateã€‹ï¼Œå®˜æ–¹é“¾æ¥è§æ–‡æœ«[8]ã€‚</p><p>è¯¥è¯¾ç¨‹é¢å‘åˆå­¦è€…ï¼Œæ— éœ€äº†è§£ä»»ä½• AWS çŸ¥è¯†ï¼Œæä¾›å®Œæ•´çš„å­¦ä¹ è·¯å¾„ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>å®Œæ•´çš„æ¨¡æ‹Ÿè€ƒè¯•ï¼ŒåŒ…æ‹¬è§£é‡Šï¼</li><li>æ‰€æœ‰ 800 å¤šå¼ å¹»ç¯ç‰‡å‡ä»¥å¯ä¸‹è½½çš„ PDF å½¢å¼æä¾›</li><li>å®æ“éƒ¨åˆ†çš„è¯¦ç»†è®²è§£ï¼ŒåŒ…æ‹¬Troubleshooting</li><li>äº†è§£ AWS åŸºç¡€çŸ¥è¯†ï¼šè®¡ç®—æœåŠ¡ï¼ˆEC2&#x2F;Lambda&#x2F;EKSã€å­˜å‚¨ä½“ç³»ï¼ˆS3&#x2F;EBS&#x2F;EFSï¼‰ã€ ç½‘ç»œæ¶æ„ï¼ˆVPC&#x2F;Route53&#x2F;CloudFrontï¼‰ã€æ•°æ®åº“æœåŠ¡ï¼ˆRDS&#x2F;DynamoDB&#x2F;ElastiCacheï¼‰</li><li>è§£å†³æ–¹æ¡ˆæ¶æ„ï¼šæ¶æ„è®¾è®¡åŸåˆ™ã€é«˜æ€§èƒ½æ¶æ„ã€å®‰å…¨åˆè§„ã€æˆæœ¬ä¼˜åŒ–</li></ul><p>æœ€é‡è¦çš„å‡ ä¸ªäº§å“è®²è§£å¾—éå¸¸ç»†ï¼Œæ­é…åŠ¨æ‰‹æ“ä½œã€‚å¯¹äºäº‘è®¡ç®—å°ç™½æ¥è¯´å¾ˆä¸é”™ï¼ŒåŠ æ·±ç†è§£ï¼Œå·©å›ºè®°å¿†ã€‚è¯¾ç¨‹ä¸ºè‹±æ–‡ï¼Œå‰æœŸæˆ‘æŒ‚äº†ç¿»è¯‘ï¼Œæˆ‘åæœŸåŸºæœ¬å°±ä¸éœ€è¦ç¿»è¯‘ä¹Ÿèƒ½å¤Ÿçœ‹æ‡‚ã€‚</p><h1 id="å­¦ä¹ è·¯å¾„"><a href="#å­¦ä¹ è·¯å¾„" class="headerlink" title="å­¦ä¹ è·¯å¾„"></a>å­¦ä¹ è·¯å¾„</h1><h2 id="åŠ¨æ‰‹å®è·µâ€”â€”ç†è®ºä¸å®æ“ç›¸ç»“åˆ"><a href="#åŠ¨æ‰‹å®è·µâ€”â€”ç†è®ºä¸å®æ“ç›¸ç»“åˆ" class="headerlink" title="åŠ¨æ‰‹å®è·µâ€”â€”ç†è®ºä¸å®æ“ç›¸ç»“åˆ"></a>åŠ¨æ‰‹å®è·µâ€”â€”ç†è®ºä¸å®æ“ç›¸ç»“åˆ</h2><p>æ³¨å†Œ AWS <strong>å…¨çƒåŒº</strong>è´¦å·ï¼Œç»‘å®šä¿¡ç”¨å¡å³å¯æ¿€æ´»ä¸€å¹´çš„ Free Tierã€‚å…è´¹é¢åº¦è¦†ç›–å¤§éƒ¨åˆ†å¤‡è€ƒæ‰€éœ€èµ„æºã€‚</p><p>é’ˆå¯¹é‡è¦æœåŠ¡å¯ä»¥å¤šç»ƒæ‰‹ï¼Œå¦‚EC2ï¼ŒS3ï¼Œç½‘ç»œéƒ¨åˆ†çš„æœåŠ¡ã€‚ä¾‹å¦‚ï¼š</p><ul><li>å¯åŠ¨EC2å®ä¾‹ã€é…ç½®å®‰å…¨ç»„ã€SSH è¿æ¥ã€å®‰è£… web serverï¼›</li><li>S3ï¼š ä¸Šä¼ ä¸‹è½½å¯¹è±¡ã€è®¾ç½® bucket policyã€ç‰ˆæœ¬æ§åˆ¶ç­‰ ï¼›</li><li>VPC + EC2 + S3 ç»„åˆ</li></ul><h2 id="é«˜æ•ˆç¬”è®°ç­–ç•¥â€”â€”è®°å½•ä¸çŸ¥è¯†å†…åŒ–"><a href="#é«˜æ•ˆç¬”è®°ç­–ç•¥â€”â€”è®°å½•ä¸çŸ¥è¯†å†…åŒ–" class="headerlink" title="é«˜æ•ˆç¬”è®°ç­–ç•¥â€”â€”è®°å½•ä¸çŸ¥è¯†å†…åŒ–"></a>é«˜æ•ˆç¬”è®°ç­–ç•¥â€”â€”è®°å½•ä¸çŸ¥è¯†å†…åŒ–</h2><p>å…¥é—¨é˜¶æ®µï¼Œä½ ä¼šè¢«å¤§é‡ç¼©å†™è¯åŒ…å›´ï¼Œå„ä¸ªäº‘å‚å•†çš„å‘½åä¹Ÿä¸å°½ç›¸åŒã€‚ä¾‹å¦‚ï¼ŒAWS æŠŠäº‘æœåŠ¡å™¨å«ä½œ EC2ï¼ˆElastic Compute Cloudï¼‰ï¼Œé˜¿é‡Œäº‘åˆ™å« ECSï¼ˆElastic Compute Serviceï¼‰ã€‚</p><p>ç½‘ä¸Šä¸­è‹±æ–‡å¤‡è€ƒç¬”è®°ä¿¯æ‹¾çš†æ˜¯ï¼Œå®˜æ–¹ç™½çš®ä¹¦æ›´æ˜¯å…¨é¢ï¼ŒStephane Maarekè¯¾ç¨‹æ‰€æä¾›çš„PPTå¹²è´§æ»¡æ»¡ã€‚</p><p>ä½†æˆ‘ä»å¼ºçƒˆå»ºè®®â€”â€”<strong>ç”¨è‡ªå·±çš„è¯å†å†™ä¸€é</strong>ã€‚æŠŠåˆ«äººçš„çŸ¥è¯†å…ˆåš¼ç¢ï¼Œå†ç”¨è‡ªå·±çš„é€»è¾‘åå‡ºæ¥ï¼Œè®°å¿†æœ€æ·±ï¼Œç†è§£ä¹Ÿæœ€é€å½»ã€‚</p><p>æ¯ä¸ªäººçš„ä¹ æƒ¯ä¸åŒï¼Œæˆ‘ä¹ æƒ¯æŠ“ä½å‡ ä¸ªç‚¹è¿›è¡Œè¡å°„ï¼š</p><h3 id="æœåŠ¡ç†è§£"><a href="#æœåŠ¡ç†è§£" class="headerlink" title="æœåŠ¡ç†è§£"></a>æœåŠ¡ç†è§£</h3><ul><li>æ˜¯ä»€ä¹ˆï¼Œæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</li><li>åœ¨ä¼ ç»Ÿæ¶æ„ä¸­å¯¹åº”ä»€ä¹ˆæœåŠ¡ï¼Ÿï¼ˆè¿™ä¸€æ­¥åªæ˜¯åœ¨åˆæœŸå¸®åŠ©å°ç™½å»ºç«‹äº‘åŸç”Ÿçš„åŸºç¡€è®¤çŸ¥ï¼ŒåæœŸåº”å»ºç«‹çº¯ç²¹çš„äº‘åŸç”Ÿæ€ç»´å°±ä¸éœ€è¦è¿™ä¸€æ­¥éª¤äº†ï¼‰</li><li>å’Œåˆ«çš„æœåŠ¡å¦‚ä½•ç»„åˆï¼Œå’Œå…¶ä»–æœåŠ¡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li></ul><p>æ¯”å¦‚<strong>EC2</strong></p><ul><li>æ˜¯ä»€ä¹ˆï¼šæœåŠ¡å™¨ï¼Œä¸è¿‡æ˜¯åœ¨äº‘ä¸Šçš„æœåŠ¡å™¨ï¼Œä½ ä¸éœ€è¦å†å…³æ³¨ä¼ ç»ŸæœåŠ¡å™¨çš„ç¡¬ä»¶ç­‰é—®é¢˜ã€‚</li><li>æœ‰ä»€ä¹ˆç”¨ï¼šè·‘ç½‘ç«™ã€è·‘è„šæœ¬ã€éƒ¨ç½²ç¨‹åºï¼Œç‰©ç†æœåŠ¡å™¨èƒ½å¹²çš„å®ƒå°±èƒ½ï¼Œç‰©ç†æœåŠ¡å™¨ä¸èƒ½å¹²çš„å®ƒä¹Ÿèƒ½ï¼Œè€Œä¸”æ›´åŠ çµæ´»ã€‚</li><li>ä¹‹åå†è¡ç”Ÿåˆ°EC2çš„ç»†èŠ‚ã€‚</li></ul><h3 id="ç»“æ„åŒ–è®°å½•"><a href="#ç»“æ„åŒ–è®°å½•" class="headerlink" title="ç»“æ„åŒ–è®°å½•"></a>ç»“æ„åŒ–è®°å½•</h3><p>é˜¶æ®µæ€§æ•´ç†ç¬”è®°ï¼Œå¡«å……åˆ°å­¦ä¹ å¤§çº²ä¸­ã€‚</p><h3 id="å¯è§†åŒ–è¾“å‡º"><a href="#å¯è§†åŒ–è¾“å‡º" class="headerlink" title="å¯è§†åŒ–è¾“å‡º"></a>å¯è§†åŒ–è¾“å‡º</h3><p>ç”¨ä¸€å¼ å›¾ç†æ¸…æ¶æ„ï¼Œç”¨ä¸€å¼ è¡¨åˆ†æ¸…å·®å¼‚</p><p>ç­‰ä½ å¤§è‡´çŸ¥é“æ¯ä¸ªæœåŠ¡â€œå¹²å•¥ç”¨â€çš„æ—¶å€™ï¼Œå°±è¦å¼€å§‹æƒ³å®ƒä»¬<strong>æ€ä¹ˆç»„åˆ</strong>ï¼Œä»¥åŠä¸¤ä¸ªç›¸ä¼¼äº§å“çš„<strong>å·®å¼‚</strong>ã€‚ è¿™é‡Œæ¨èdraw.ioç»˜åˆ¶æ¶æ„å›¾ï¼Œå®ƒæä¾›äº†å¾ˆå¤šå‚å•†çš„å›¾æ ‡ï¼Œå¦‚AWSã€Ciscoã€Azureã€Googleç­‰ã€‚</p><p>å½“ä½ å­¦ä¹ åˆ°ç½‘ç»œè¿™ä¸€éƒ¨åˆ†æ—¶ï¼š</p><p>æ€æ ·åšæ‰èƒ½å®ç°ç§æœ‰å­ç½‘çš„ Internet è®¿é—®ï¼Ÿ</p><p>VPCå’ŒInternetä¹‹é—´ç›¸äº’é€šä¿¡å¯ä»¥ç”¨ä»€ä¹ˆæœåŠ¡ï¼Ÿ</p><p>åŒºåŸŸåˆ°åŒºåŸŸã€ å¯ç”¨åŒºåˆ°å¯ç”¨åŒºã€ç§æœ‰åˆ°å…¬æœ‰é—´çš„é€šä¿¡æ–¹å¼ï¼Ÿ</p><p>è¿™æ—¶å€™ï¼Œä½ å¯ä»¥é€šè¿‡æ¶æ„å›¾æ¥å¸®åŠ©è‡ªå·±ç†è§£ã€‚</p><p><img src="/2025/07/15/AWS-SAA%E8%AE%A4%E8%AF%81%E5%85%A8%E6%94%BB%E7%95%A5/AWS-%E7%BD%91png.png" title="null"><img src="https://cdn.nlark.com/yuque/0/2025/png/58720042/1752744653217-7fd7970f-3bd9-4e4c-bd8d-233e0d4504ba.png" title="æˆ‘ç»˜åˆ¶çš„ç½‘ç»œéƒ¨åˆ†æ¶æ„å›¾"></p><p>é‚£SGå’ŒNACLæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½ å¯ä»¥é€šè¿‡è¡¨æ ¼æ¥ç›´è§‚æ„Ÿå—ä»–ä»¬çš„ç›¸ä¼¼å’Œä¸åŒï¼š</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>ç‰¹ç‚¹ &#x2F; æ³¨æ„äº‹é¡¹</td><td>å®‰å…¨ç»„ (SG)</td><td>ç½‘ç»œè®¿é—®æ§åˆ¶åˆ—è¡¨ (NACL)</td></tr><tr><td>ç±»å‹</td><td>instanceçº§åˆ«é˜²ç«å¢™</td><td>subnetçº§åˆ«é˜²ç«å¢™</td></tr><tr><td>æ–¹å‘</td><td>å¯ä»¥é…ç½®å…¥ç«™å’Œå‡ºç«™è§„åˆ™</td><td><strong>å¿…é¡»</strong>åŒæ—¶é…ç½®å…¥ç«™å’Œå‡ºç«™è§„åˆ™</td></tr><tr><td>é»˜è®¤è§„åˆ™</td><td>æ‹’ç»æ‰€æœ‰æµé‡</td><td>å…è®¸æ‰€æœ‰æµé‡</td></tr><tr><td>æœ‰çŠ¶æ€æ€§</td><td>æœ‰çŠ¶æ€ï¼Œè‡ªåŠ¨å…è®¸ç›¸å…³å›å¤æµé‡</td><td>æ— çŠ¶æ€ï¼Œå…¥ç«™å’Œå‡ºç«™æµé‡çš„çŠ¶æ€æ˜¯åˆ†å¼€ç»´æŠ¤</td></tr><tr><td>æ•°é‡é™åˆ¶</td><td>ä¸€ä¸ªå®ä¾‹å¯ä»¥å…³è”å¤šä¸ªSG</td><td>ä¸€ä¸ªå­ç½‘åªèƒ½å…³è”ä¸€ä¸ªNACL</td></tr><tr><td>åŠŸèƒ½</td><td>ç®€å•ï¼Œæ˜“äºä½¿ç”¨</td><td>è¾ƒä¸ºå¤æ‚ï¼Œå¯ç”¨äºæ›´ç»†ç²’åº¦çš„æ§åˆ¶</td></tr></tbody></table><h2 id="åˆ·é¢˜"><a href="#åˆ·é¢˜" class="headerlink" title="åˆ·é¢˜"></a>åˆ·é¢˜</h2><p><strong>æ‡‚äº§å“ â‰  ä¼šåšé¢˜</strong>ã€‚ä¼ ç»Ÿé€‰æ‹©é¢˜å¾€å¾€æ˜¯é€‰æ‹©æ­£ç¡®ç­”æ¡ˆï¼Œä½†AWS-SAAè®¤è¯ä¸­ï¼Œé¢˜å¹²å¾€å¾€æ˜¯ï¼š</p><ul><li>å“ªä¸ªæœåŠ¡åœ¨ç‰¹å®šåœºæ™¯ä¸‹æœ€åˆé€‚ï¼Ÿ</li><li>å“ªç§æ–¹æ¡ˆæœ€å®‰å…¨ &#x2F; æœ€çœé’± &#x2F; æœ€å°‘è¿ç»´ï¼Ÿ</li></ul><p>è®¸å¤šè€ƒç”Ÿå¸¸é™·å…¥ä¸€ä¸ªè®¤çŸ¥è¯¯åŒºï¼šè®¤ä¸ºæŒæ¡AWSäº§å“åŠŸèƒ½å°±ç­‰åŒäºå…·å¤‡é€šè¿‡è®¤è¯è€ƒè¯•çš„èƒ½åŠ›ã€‚å®é™…ä¸Šï¼ŒAWSè®¤è¯è€ƒæ ¸çš„æ˜¯ä¸€ç§æ›´é«˜é˜¶çš„æ¶æ„æ€ç»´ã€‚è€ƒè¯•è®¾è®¡çš„æ·±å±‚é€»è¾‘ï¼š</p><ul><li>åœºæ™¯åŒ–å†³ç­–</li><li>å¯èƒ½æ²¡æœ‰ç»å¯¹â€æ­£ç¡®â€çš„ç­”æ¡ˆï¼Œåªæœ‰é’ˆå¯¹ç‰¹å®šçº¦æŸæ¡ä»¶çš„â€æœ€ä¼˜è§£â€</li></ul><h3 id="åˆ·é¢˜èµ„æº"><a href="#åˆ·é¢˜èµ„æº" class="headerlink" title="åˆ·é¢˜èµ„æº"></a>åˆ·é¢˜èµ„æº</h3><p>ä¸»è¦ä½¿ç”¨ <strong>ExamTopics</strong>ï¼Œå®˜æ–¹ç›®å‰é¢˜é‡è¶… 1000 é¢˜ã€‚å®˜æ–¹é“¾æ¥è§æ–‡æœ«[9]ã€‚</p><ul><li><strong>ä¼˜ç‚¹</strong>ï¼š<br>  é¢˜ç›®è´¨é‡æ¥è¿‘è€ƒè¯•çœŸå®éš¾åº¦ï¼Œå‘½ä¸­ç‡é«˜ï¼Œå›½å†…å¤§å¤šæ•°äººé€‰æ‹©è¯¥é¢˜åº“ã€‚æˆ‘å®é™…è€ƒè¯•ä¸­ç¢°åˆ°å¥½å‡ é“åŸé¢˜ã€‚å³ä½¿åªåˆ·äº†çº¦ 400 é¢˜ç²¾é€‰é¢˜ï¼Œæ”¶è·ä¹Ÿå¾ˆå¤§ã€‚å›½å†…ä¹Ÿå¾ˆå®¹æ˜“æ‰¾åˆ°æ•´ç†å¥½çš„ä¸­è‹±åŒè¯­ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬é«˜é¢‘ç²¾é€‰é¢˜ã€å„ç§æ ¼å¼çš„ PDF æˆ–è¡¨æ ¼ï¼Œè·å–æˆæœ¬ä¸é«˜ã€‚</li><li><strong>ç¼ºç‚¹</strong>ï¼š<br>  ä¸ªåˆ«é¢˜ç›®å­˜åœ¨ç­”æ¡ˆäº‰è®®ï¼Œç«™å†…è®¨è®ºå’Œ AI è§£è¯»ä¹Ÿæ— æ³•ç»Ÿä¸€ã€‚å¥½åœ¨è¿™ç±»é¢˜å æ¯”æä½ï¼Œå½±å“ä¸å¤§ã€‚</li></ul><p><strong>å…¶ä»–æ¥æº</strong><br>Udemy çš„Practice Exams ï¼šéš¾åº¦æ™®éé«˜äºçœŸé¢˜ï¼Œæˆ‘è¯„ä¼°åæ²¡æœ‰é‡‡ç”¨ï¼›</p><p>Whizlabs &#x2F; Tutorial Dojoï¼ˆTDï¼‰ï¼š è§£é‡Šè¯¦ç»†ï¼Œå‘½ä¸­ç‡ç•¥ä½äº ExamTopics ï¼›</p><p>Ping-Tï¼šæ—¥è¯­ï¼›</p><h3 id="åˆ·é¢˜ç­–ç•¥ï¼šé«˜æ•ˆè§„åˆ’ä½ çš„å­¦ä¹ è·¯å¾„"><a href="#åˆ·é¢˜ç­–ç•¥ï¼šé«˜æ•ˆè§„åˆ’ä½ çš„å­¦ä¹ è·¯å¾„" class="headerlink" title="åˆ·é¢˜ç­–ç•¥ï¼šé«˜æ•ˆè§„åˆ’ä½ çš„å­¦ä¹ è·¯å¾„"></a>åˆ·é¢˜ç­–ç•¥ï¼šé«˜æ•ˆè§„åˆ’ä½ çš„å­¦ä¹ è·¯å¾„</h3><p>ä¸ªäººåˆ·é¢˜æ–¹æ³•ï¼šæ¯å¤© 50 é¢˜å·¦å³ï¼Œä¸æ±‚å¤šä½†æ±‚ç²¾ã€‚åšå®Œä¸€å®šä¼šæç‚¼æ¯é¢˜çš„å…³é”®è€ƒç‚¹ï¼Œé”™é¢˜æˆ–æˆ‘è§‰å¾—æœ‰æ„ä¹‰çš„é¢˜è¿›è¡Œå½’æ¡£ï¼Œæ ‡æ³¨é”™å› ä¸æ­£ç¡®æ€è·¯ï¼›æŠŠç›¸å…³çŸ¥è¯†ç‚¹å†å¤ä¹ ä¸€éã€‚æˆ‘é€‰æ‹©çš„æ˜¯æœ€é€‚åˆè‡ªå·±çš„æ–¹å¼ï¼Œä¹Ÿæœ‰å¾ˆå¤šäººé€‰æ‹©èƒŒé¢˜å¤‡è€ƒï¼Œé€Ÿåº¦æ›´å¿«ã€‚</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/58720042/1753077463133-334e4d8b-3d34-4e65-89f7-106b9cc09867.png" title="å½“æ—¶çš„åšé¢˜è®°å½•"></p><h3 id="åˆ·é¢˜ç²¾é«“ï¼šæŒæ¡è¿™äº›æŠ€å·§è®©æ•ˆç‡å€å¢"><a href="#åˆ·é¢˜ç²¾é«“ï¼šæŒæ¡è¿™äº›æŠ€å·§è®©æ•ˆç‡å€å¢" class="headerlink" title="åˆ·é¢˜ç²¾é«“ï¼šæŒæ¡è¿™äº›æŠ€å·§è®©æ•ˆç‡å€å¢"></a>åˆ·é¢˜ç²¾é«“ï¼šæŒæ¡è¿™äº›æŠ€å·§è®©æ•ˆç‡å€å¢</h3><p><strong>ä½¿ç”¨ AI è¾…åŠ©å­¦ä¹ ï¼š</strong><br>å½“ä½ å­¦å®Œè¯¾ç¨‹å¼€å§‹åšé¢˜ï¼Œæœ€å¼€å§‹å¯èƒ½å®Œå…¨çœ‹ä¸æ‡‚é¢˜å¹²ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œè¿™å¾ˆæ­£å¸¸ã€‚æ­¤æ—¶ä½ å¯ä»¥å€ŸåŠ©AIï¼Œè®©å®ƒå‘ä½ è§£é‡Šã€‚ä½ éœ€è¦10-20é¢˜çš„é€‚åº”æœŸæ¥ç†è§£å‡ºé¢˜é€»è¾‘ã€‚</p><p><strong>é€‚å½“æ€»ç»“è®°å¿†ï¼š</strong></p><ul><li><p>EBS åŠ å¯† â†’ æƒ³åˆ° <strong>KMS</strong></p></li><li><p>ç§»åŠ¨&#x2F;ç½‘ç»œåº”ç”¨ç¨‹åºèº«ä»½éªŒè¯ â†’ æƒ³åˆ° <strong>Cognito</strong> å’Œ <strong>MFA</strong></p></li><li><p><img src="https://cdn.nlark.com/yuque/0/2025/png/58720042/1753112096433-c0311260-b1ca-4687-9dfb-1df87d8f04f0.png" title="ä¸åŒæœåŠ¡çš„å»¶è¿Ÿæ—¶é—´"></p></li></ul><p><strong>å…³é”®è¯è¯†åˆ«æŠ€å·§ï¼š</strong><br>å½“é¢˜ç›®ä¸­å‡ºç° <strong>â€œç»†ç²’åº¦â€</strong> æ—¶ï¼Œè¦ç‰¹åˆ«å…³æ³¨ï¼š</p><ul><li>æ˜¯å¦ä»…æˆäºˆç‰¹å®šå®ä½“ï¼ˆç”¨æˆ·ã€è§’è‰²ã€æœåŠ¡ï¼‰<strong>æœ€å°å¿…è¦æƒé™</strong></li><li>æ˜¯å¦é™å®šæƒé™åªä½œç”¨äº<strong>ç‰¹å®šèµ„æº</strong>ï¼Œè€Œä¸æ˜¯æ•´å—æœåŠ¡æˆ–æ•´ä¸ª bucket</li></ul><h3 id="å®ä¾‹è§£æï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åšé¢˜"><a href="#å®ä¾‹è§£æï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åšé¢˜" class="headerlink" title="å®ä¾‹è§£æï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åšé¢˜"></a>å®ä¾‹è§£æï¼šæ‰‹æŠŠæ‰‹æ•™ä½ åšé¢˜</h3><p>ä¸€å®¶å…¬å¸ä½¿ç”¨åœ¨ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œçš„ RESTful Web æœåŠ¡åº”ç”¨ç¨‹åºä»æ•°åƒä¸ªè¿œç¨‹è®¾å¤‡æ”¶é›†æ•°æ®ã€‚ EC2 å®ä¾‹æ¥æ”¶åŸå§‹æ•°æ®ï¼Œè½¬æ¢åŸå§‹æ•°æ®ï¼Œå¹¶å°†æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ Amazon S3å­˜å‚¨æ¡¶ä¸­ã€‚è¿œç¨‹è®¾å¤‡çš„æ•°é‡å¾ˆå¿«å°†å¢åŠ åˆ°æ•°ç™¾ä¸‡ã€‚è¯¥å…¬å¸éœ€è¦ä¸€ä¸ª<strong>é«˜åº¦å¯æ‰©å±•</strong>çš„è§£å†³æ–¹æ¡ˆï¼Œ<strong>æœ€å¤§é™åº¦åœ°å‡å°‘è¿ç»´å¼€é”€</strong>ã€‚</p><p>è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›æ­¥éª¤<strong>ç»„åˆ</strong>æ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>A. ä½¿ç”¨ AWS Glue å¤„ç† Amazon S3 ä¸­çš„åŸå§‹æ•°æ®ã€‚</p><p>B. ä½¿ç”¨ Amazon Route 53 å°†æµé‡è·¯ç”±åˆ°ä¸åŒçš„ EC2 å®ä¾‹ã€‚</p><p>C. æ·»åŠ æ›´å¤š EC2 å®ä¾‹ä»¥é€‚åº”ä¸æ–­å¢åŠ çš„ä¼ å…¥æ•°æ®é‡ã€‚</p><p>D. å°†åŸå§‹æ•°æ®å‘é€åˆ° Amazon Simple Queue Service (Amazon SQS)ã€‚ä½¿ç”¨ EC2 å®ä¾‹æ¥å¤„ç†æ•°æ®ã€‚</p><p>E. ä½¿ç”¨ Amazon API Gateway å°†åŸå§‹æ•°æ®å‘é€åˆ° Amazon Kinesis æ•°æ®æµã€‚é…ç½® Amazon Kinesis Data Firehose ä»¥ä½¿ç”¨æ•°æ®æµä½œä¸ºæºå°†æ•°æ®ä¼ è¾“åˆ° Amazon S3</p><p>ç®€å•æ¥è¯´å°±æ˜¯æœ‰å®¶å…¬å¸å°† Web æœåŠ¡éƒ¨ç½²åœ¨ EC2 ï¼ˆäº‘æœåŠ¡å™¨ï¼‰ä¸Šï¼Œå®ƒä¼šæ¥æ”¶å¤§é‡æ•°æ®ï¼Œç„¶ååšäº›å¤„ç†ï¼Œæœ€åæŠŠç»“æœå­˜åˆ° S3ï¼ˆä¸€ä¸ªå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼‰ï¼Œç°åœ¨æ•°æ®å¼€å§‹å˜å¤šã€‚</p><p>ç­‰ä½ å¼€å§‹å­¦ä¹ è¯¾ç¨‹ï¼Œä½ ä¸€å®šä¼šæ•æ‰åˆ°é¢˜å¹²ä¸­å¾ˆå…³é”®çš„ä¸¤ç‚¹ï¼š</p><ul><li><strong>é«˜åº¦å¯æ‰©å±•ï¼Œ highly scalable,ï¼šéœ€è¦èƒ½è‡ªåŠ¨æ‰©å®¹çš„æ¶æ„</strong></li><li><strong>å‡å°‘è¿ç»´å¼€é”€ï¼šä¼˜å…ˆé€‰æ‹©Serverlessï¼ˆæ— æœåŠ¡å™¨ï¼‰æ–¹æ¡ˆ</strong></li></ul><p>ç›®å‰ä¸šåŠ¡æ¶æ„ï¼šEC2 æ¥æ”¶æ•°æ®ï¼ŒEC2 å¤„ç†æ•°æ®ï¼ŒEC2 å­˜å…¥ S3</p><p><img src="https://cdn.nlark.com/yuque/0/2025/png/58720042/1752744723175-04471ffc-e54e-490b-a6f1-3a1c98e45993.png" title="å…¬å¸å½“å‰çš„ä¸šåŠ¡æ¶æ„"></p><p>æ¥ç€æˆ‘ä»¬äº†è§£ä¸€ä¸‹é€‰é¡¹ä¸­çš„æœåŠ¡ï¼š</p><ul><li>AWS Glue ï¼šé›†æˆã€è½¬æ¢å’ŒåŠ è½½æ•°æ®çš„æœåŠ¡ã€‚scalableï¼Œseverless</li><li>Amazon Route 53ï¼šDNS æœåŠ¡ï¼Œç”¨æ¥è§£æåŸŸå</li><li>Amazon SQSï¼šæ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡ï¼Œç¼“å†²æµé‡ã€è§£è€¦ç³»ç»Ÿã€‚ scalableï¼Œseverless</li><li>Amazon API Gatewayï¼šå¹¶å°†ä¸åŒçš„åç«¯æœåŠ¡æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ä¸­ã€‚è‡ªåŠ¨æ‰©å®¹èƒ½åŠ›ï¼Œæ— éœ€å…³å¿ƒå¹¶å‘æ•°severless</li><li>Amazon Kinesisï¼š<strong>å®Œå…¨æ‰˜ç®¡</strong>çš„æµæ•°æ®å¤„ç†æœåŠ¡ã€‚ scalableï¼Œseverless</li></ul><p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦è€ƒè™‘ï¼Œå¦‚ä½•é«˜æ•ˆæ¥æ”¶æµ·é‡æ•°æ®ï¼Œå¦‚ä½•å¤„ç†è¿™äº›æ•°æ®ã€‚</p><ul><li><p>Bé€‰é¡¹ï¼šä½¿ç”¨ Amazon Route 53 å°†æµé‡è·¯ç”±åˆ°ä¸åŒçš„ EC2 å®ä¾‹ã€‚</p></li><li><p>Amazon Route 53æ˜¯ DNS è·¯ç”±æœåŠ¡ï¼Œä¸èƒ½ç›´æ¥å¤„ç†è¯·æ±‚æˆ–åšè´Ÿè½½å‡è¡¡</p></li><li><p>Cé€‰é¡¹ï¼š æ·»åŠ æ›´å¤š EC2 å®ä¾‹ä»¥é€‚åº”ä¸æ–­å¢åŠ çš„ä¼ å…¥æ•°æ®é‡ã€‚</p></li><li><p>å¯æ‰©å±•æ˜¯å¯æ‰©å±•ï¼Œä½†æ­ Auto Scalingä¹‹åï¼Œç®¡ç†å¤§é‡ EC2 å®ä¾‹ä¼šå¸¦æ¥é«˜æ˜‚çš„è¿ç»´æˆæœ¬</p></li><li><p>Dé€‰é¡¹ï¼šå°†åŸå§‹æ•°æ®å‘é€åˆ° Amazon Simple Queue Service (Amazon SQS)ã€‚ä½¿ç”¨ EC2 å®ä¾‹æ¥å¤„ç†æ•°æ®ã€‚</p></li><li><p>SQSè™½ç„¶è§£è€¦äº†æµé‡ï¼Œä½†ä»ç„¶è¦è¿ç»´ EC2å®ä¾‹</p></li></ul><p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹é€‰æ‹©AEä¹‹åï¼Œä¸šåŠ¡æ¶æ„å˜æˆä¸‹å›¾ï¼š</p><p><img src="/2025/07/15/AWS-SAA%E8%AE%A4%E8%AF%81%E5%85%A8%E6%94%BB%E7%95%A5/question.drawio.png" title="null"><img src="https://cdn.nlark.com/yuque/0/2025/png/58720042/1752744740911-0f5b4518-68d2-4203-ba5e-2856a6dd92c6.png" title="AEé€‰é¡¹ç»„åˆåçš„ä¸šåŠ¡æ¶æ„"></p><p>è¿™æ—¶å€™ï¼ŒAPI Gateway ä½œä¸ºæµé‡å…¥å£ï¼Œ<strong>åŠ¨æ€åº”å¯¹é«˜å¹¶å‘</strong>ï¼›</p><p>Kinesis Data Streamå¯<strong>åŠ¨æ€æ‰©å±•</strong>åº”å¯¹æ¿€å¢çš„è¯·æ±‚é‡ï¼›</p><p>Firehose ä»æ•°æ®æµä¸­è¯»å–æ•°æ®ï¼Œç„¶åå†™å…¥ S3ï¼Œ<strong>æ— éœ€äººå·¥å¹²é¢„ï¼Œå…¨è‡ªåŠ¨äº¤ä»˜</strong>ï¼›</p><p>S3å­˜å‚¨åŸå§‹æ•°æ®ï¼ŒAWS Glueå¤„ç†æ•°æ®ï¼Œ<strong>å®Œå…¨æ‰˜ç®¡æ— éœ€è¿ç»´</strong>ã€‚</p><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>ä»¥ä¸Šå†…å®¹éƒ½æ˜¯æˆ‘çš„ä¸ªäººç»éªŒåˆ†äº«ï¼Œä¸å…·å¤‡æƒå¨æ€§ï¼Œä¹Ÿå¯èƒ½å› æ—¶é—´æ¨ç§»è€Œæœ‰æ‰€æ»åï¼Œä»…ä¾›å‚è€ƒã€‚</p><p>æœ€åç§å¿ƒæ”¾ä¸ŠStephane Maarekçš„å‡ å¥è¯ï¼š</p><p>å½“å¼€å§‹å­¦ä¹ å¹¶ä½¿ç”¨äº‘æœåŠ¡æ—¶ï¼Œä½ ä¼šé‡åˆ°ä¸€äº›å›°éš¾ï¼Œä½ ä¼šå°–å«ï¼š</p><p>Nothing is working - â€œaaaahhhhhhâ€</p><p>Donâ€™t panic.</p><p>If you still donâ€™t understand it, no worries, this is not a blocker for the course.</p><p>Keep on going, and come back to this concept towards the end.</p><p>è¿™ä¸ä»…æ˜¯æˆ‘å…¥é—¨äº‘åŸç”Ÿçš„èµ·ç‚¹ï¼Œæ›´è®©æˆ‘åˆ‡å®æ„Ÿå—åˆ°å­¦ä¹ çš„å¿«ä¹ã€é­…åŠ›ï¼Œè¿˜æœ‰ä¸€ç§è¿‘ä¹ç‹‚å–œçš„å…´å¥‹ã€‚å¸Œæœ›ä½ ä¹Ÿèƒ½å¤Ÿè·å¾—ï¼</p><p>Happy learning!</p><h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><p>[1]AWSå®˜ç½‘</p><p>aws.amazon.com</p><p>[2]AWSçš„è®¤è¯ä¿¡æ¯</p><p><a href="https://aws.amazon.com/cn/certification/?nc2=h_ql_le_tc_c&ams%23interactive-card-vertical%23pattern-data.filter=%257B%2522filters%2522%253A%255B%255D%257D">https://aws.amazon.com/cn/certification/?nc2=h_ql_le_tc_c&amp;ams%23interactive-card-vertical%23pattern-data.filter=%257B%2522filters%2522%253A%255B%255D%257D</a></p><p>[3]AWSè®¤è¯å¸¸è§é—®é¢˜ï¼ˆåŒ…æ‹¬é‡è€ƒæ”¿ç­–ï¼Œè€ƒè¯•æ›´æ–°é¢‘ç‡ç­‰ï¼‰</p><p><a href="https://aws.amazon.com/cn/certification/faqs/">https://aws.amazon.com/cn/certification/faqs/</a></p><p>[4]è€ƒå‰ã€è€ƒä¸­å’Œè€ƒåçš„æµç¨‹ä¸è¦æ±‚</p><p><a href="https://aws.amazon.com/cn/certification/policies/">https://aws.amazon.com/cn/certification/policies/</a></p><p>[5]AWS-SAAçš„æŠ¥è€ƒé“¾æ¥</p><p><a href="https://aws.amazon.com/cn/certification/certified-solutions-architect-associate/">https://aws.amazon.com/cn/certification/certified-solutions-architect-associate/</a></p><p>[6]AWSç™½çš®ä¹¦æ–‡æ¡£</p><p><a href="https://docs.aws.amazon.com/zh_cn/">https://docs.aws.amazon.com/zh_cn/</a></p><p>[7]å®˜æ–¹æä¾›çš„å¤§çº²ï¼ˆé“¾æ¥å¯ç›´æ¥ä¸‹è½½PDFï¼‰</p><p><a href="https://d1.awsstatic.com/zh_CN/training-and-certification/docs-sa-assoc/">https://d1.awsstatic.com/zh_CN/training-and-certification/docs-sa-assoc/</a></p><p>[8]demyå¹³å°Stephane Maarekçš„ã€ŠUltimate AWS Certified Solutions Architect Associateã€‹è¯¾ç¨‹é“¾æ¥</p><p><a href="https://www.udemy.com/course/aws-certified-solutions-architect-associate-saa-c03/?couponCode=KEEPLEARNING">https://www.udemy.com/course/aws-certified-solutions-architect-associate-saa-c03/?couponCode=KEEPLEARNING</a></p><p>[9]examtopicsé“¾æ¥</p><p><a href="https://www.examtopics.com/exams/amazon/aws-certified-solutions-architect-associate-saa-c03/">https://www.examtopics.com/exams/amazon/aws-certified-solutions-architect-associate-saa-c03/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æ­¤ç¯‡æ–‡ç« æºè‡ªæˆ‘åœ¨WomenStack ç™¾æ ˆç™¾èƒœå…¬ä¼—å·çš„ä¸€æ¬¡åˆ†äº«ï¼Œå…¬ä¼—å·æ–‡ç« é“¾æ¥é™„ä¸‹ï¼Œæ¬¢è¿å¤§å®¶å…³æ³¨å¾®ä¿¡å…¬ä¼—å·WomenStack ç™¾æ ˆç™¾èƒœ&lt;br&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=Mzk4ODQ2NzkxOQ==&amp;mid=22</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    
    <category term="DevOps" scheme="https://sosocrown.github.io/tags/DevOps/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>WSL-Windows Subsystem for Linux</title>
    <link href="https://sosocrown.github.io/2025/05/06/WSL/"/>
    <id>https://sosocrown.github.io/2025/05/06/WSL/</id>
    <published>2025-05-05T16:00:00.000Z</published>
    <updated>2025-08-05T06:28:08.429Z</updated>
    
    <content type="html"><![CDATA[<h1 id="WSL-Windows-Subsystem-for-Linux"><a href="#WSL-Windows-Subsystem-for-Linux" class="headerlink" title="WSL-Windows Subsystem for Linux"></a>WSL-Windows Subsystem for Linux</h1><h4 id="wslæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#wslæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="wslæ˜¯ä»€ä¹ˆï¼Ÿ"></a>wslæ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>é€‚ç”¨äºWindowsçš„Linuxå­ç³»ç»Ÿï¼Œå¯ä»¥åœ¨windowsä¸‹è¿è¡Œlinuxæ“ä½œç³»ç»Ÿã€‚</p><ol><li>è½»é‡ï¼šä¸åƒè™šæ‹Ÿæœºé‚£æ ·åƒå†…å­˜ï¼Œä¸è·‘å®Œæ•´ Linux ç³»ç»Ÿï¼Œè¿è¡Œé€Ÿåº¦å¿«ï¼Œèµ„æºå ç”¨å°‘</li><li>æ— ç¼ï¼šèƒ½å’Œ Windows ç³»ç»Ÿå…±äº«æ–‡ä»¶ã€å‰ªè´´æ¿ã€ç½‘ç»œ</li><li>æ— éœ€è™šæ‹Ÿæœºï¼šä¸éœ€è¦è£… VMwareã€VirtualBoxï¼Œä¹Ÿä¸ç”¨é‡å¯ï¼Œç›´æ¥åœ¨ Win ä¸‹è·‘ Linux</li><li>å¼€å‘å‹å¥½ï¼šæ”¯æŒç»å¤§å¤šæ•° Linux å·¥å…·é“¾ï¼ˆå¦‚ aptã€gitã€dockerã€conda ç­‰ï¼‰ï¼Œå°¤å…¶é€‚åˆå¼€å‘è€…</li></ol><h4 id="wslç”¨æ¥å¹²ä»€ä¹ˆ"><a href="#wslç”¨æ¥å¹²ä»€ä¹ˆ" class="headerlink" title="wslç”¨æ¥å¹²ä»€ä¹ˆ"></a>wslç”¨æ¥å¹²ä»€ä¹ˆ</h4><h4 id="å®‰è£…æ•™ç¨‹"><a href="#å®‰è£…æ•™ç¨‹" class="headerlink" title="å®‰è£…æ•™ç¨‹"></a>å®‰è£…æ•™ç¨‹</h4><p><a href="https://blog.csdn.net/u011119817/article/details/130745551?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522ae299346a694700a68e917c31739a4f5%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=ae299346a694700a68e917c31739a4f5&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-130745551-null-null.142%5Ev102%5Epc_search_result_base3&utm_term=wsl%E5%AE%89%E8%A3%85&spm=1018.2226.3001.4187">windows11 å®‰è£…WSL2å…¨æµç¨‹_wsl2å®‰è£…-CSDNåšå®¢</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;WSL-Windows-Subsystem-for-Linux&quot;&gt;&lt;a href=&quot;#WSL-Windows-Subsystem-for-Linux&quot; class=&quot;headerlink&quot; title=&quot;WSL-Windows Subsystem for Linu</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="linux" scheme="https://sosocrown.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>a glass of Baileys</title>
    <link href="https://sosocrown.github.io/2025/05/06/a%20glass%20of%20Baileys/"/>
    <id>https://sosocrown.github.io/2025/05/06/a%20glass%20of%20Baileys/</id>
    <published>2025-05-05T16:00:00.000Z</published>
    <updated>2025-05-06T10:23:38.366Z</updated>
    
    <content type="html"><![CDATA[<p>The Labor Day holiday ended.<br>I was on a delayed flight back to Guangzhou when I saw the newsâ€”Joan had passed away.<br>She chose to leave before summer even began.</p><p>The meaninglessness of work, of career, of life itselfâ€”and the grief of her deathâ€”<strong>haunt me.</strong></p><p>A line from a movie has been echoing in my head:</p><blockquote><p><em>Is life always this hard, or is it just when youâ€™re a kid?</em><br><em>Always like this.</em></p></blockquote><p>I rewrote it into something that belongs to me now:</p><blockquote><p><em>Is work always this hard, or is it just because Iâ€™m in this place?</em></p></blockquote><p>Iâ€™ve been enduring.<br>Enduring the performance of working life.<br>Enduring the unspoken rule that <em>if youâ€™re not exhausted, youâ€™re not working hard enough.</em><br>Iâ€™m anxious. Iâ€™m overwhelmed. Iâ€™m becoming unrecognizable to myself.</p><p>And still, people keep telling me,</p><blockquote><p><em>â€œYouâ€™re already so lucky.â€</em></p></blockquote><p>Just like the comments under Joanâ€™s old videos:</p><blockquote><p><em>â€œYouâ€™re so beautiful, so talented, so brilliant.â€</em></p></blockquote><p>But none of those words can save you.<br>They canâ€™t protect you from the quiet truth that <strong>some of us simply canâ€™t live in blurred, diluted versions of life.</strong><br>That clarityâ€”too much of itâ€”hurts.</p><p>Sometimes I wonder:<br>Is it naÃ¯ve to still want growth, meaning, and selfhood through work?</p><p>I donâ€™t know.</p><p>But I do know this:</p><p>This job, this system, this cultureâ€”<br>is not where my soul belongs.</p><p>Summer has come, Joan<br>And I want to drink a glass of Baileys </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;The Labor Day holiday ended.&lt;br&gt;I was on a delayed flight back to Guangzhou when I saw the newsâ€”Joan had passed away.&lt;br&gt;She chose to lea</summary>
      
    
    
    
    <category term="flee as a bird to your mountain" scheme="https://sosocrown.github.io/categories/flee-as-a-bird-to-your-mountain/"/>
    
    
    <category term="life" scheme="https://sosocrown.github.io/tags/life/"/>
    
  </entry>
  
  <entry>
    <title>git</title>
    <link href="https://sosocrown.github.io/2025/02/08/git-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"/>
    <id>https://sosocrown.github.io/2025/02/08/git-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/</id>
    <published>2025-02-08T07:48:57.013Z</published>
    <updated>2025-05-07T02:38:47.016Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Git-æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚"><a href="#Git-æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚" class="headerlink" title="Git æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚"></a>Git æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</h1><p><img src="/images/git.png" alt="Untitled"></p><h1 id="ç‰ˆæœ¬æ§åˆ¶-Revision-control"><a href="#ç‰ˆæœ¬æ§åˆ¶-Revision-control" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶-Revision control"></a>ç‰ˆæœ¬æ§åˆ¶-Revision control</h1><p>åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ç”¨äºç®¡ç†æˆ‘ä»¬å¯¹æ–‡ä»¶ã€ç›®å½•æˆ–å·¥ç¨‹ç­‰å†…å®¹çš„ä¿®æ”¹å†å²ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ›´æ”¹å†å²è®°å½•ï¼Œå¤‡ä»½ä»¥ä¾¿æ¢å¤ä»¥å‰çš„ç‰ˆæœ¬çš„è½¯ä»¶å·¥ç¨‹æŠ€æœ¯ã€‚</p><p>ä¸»æµçš„ç‰ˆæœ¬æ§åˆ¶å™¨æœ‰å¦‚ä¸‹è¿™äº›ï¼š</p><ul><li><strong>Git</strong></li><li><strong>SVN</strong>ï¼ˆSubversionï¼‰</li><li><strong>CVS</strong>ï¼ˆConcurrent Versions Systemï¼‰</li><li><strong>VSS</strong>ï¼ˆMicorosoft Visual SourceSafeï¼‰</li><li><strong>TFS</strong>ï¼ˆTeam Foundation Serverï¼‰</li><li>Visual Studio Online</li></ul><h2 id="ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»"><a href="#ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»"></a>ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»</h2><h3 id="1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶"><a href="#1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶"></a><strong>1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶</strong></h3><p>è®°å½•æ–‡ä»¶æ¯æ¬¡çš„æ›´æ–°ï¼Œå¯ä»¥å¯¹æ¯ä¸ªç‰ˆæœ¬åšä¸€ä¸ªå¿«ç…§ï¼Œæˆ–æ˜¯è®°å½•è¡¥ä¸æ–‡ä»¶ï¼Œé€‚åˆä¸ªäººç”¨ï¼Œå¦‚RCSã€‚</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7Ksu8UlITwMlbX3kMGtZ9p0Dg3fHrbPqbNEOMO9GTjFhVaukMZWx54icS7eS2x8A7BEu0VB9ibwEhzQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1">https://mmbiz.qpic.cn/mmbiz_png&#x2F;uJDAUKrGC7Ksu8UlITwMlbX3kMGtZ9p0Dg3fHrbPqbNEOMO9GTjFhVaukMZWx54icS7eS2x8A7BEu0VB9ibwEhzQ&#x2F;640?wx_fmt&#x3D;png&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1</a></p><h3 id="2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶-SVN"><a href="#2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶-SVN" class="headerlink" title="2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶ Â SVN"></a><strong>2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶ Â SVN</strong></h3><p>æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼ŒååŒå¼€å‘è€…ä»æœåŠ¡å™¨ä¸ŠåŒæ­¥æ›´æ–°æˆ–ä¸Šä¼ è‡ªå·±çš„ä¿®æ”¹</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7Ksu8UlITwMlbX3kMGtZ9p00V4uLaibxtZI9RLpq7tkSdlWiaF92AVeZ0ib9DicqBkS2poo5u8sEU2mCQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1">https://mmbiz.qpic.cn/mmbiz_png&#x2F;uJDAUKrGC7Ksu8UlITwMlbX3kMGtZ9p00V4uLaibxtZI9RLpq7tkSdlWiaF92AVeZ0ib9DicqBkS2poo5u8sEU2mCQ&#x2F;640?wx_fmt&#x3D;png&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1</a></p><p>æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·çš„æœ¬åœ°åªæœ‰è‡ªå·±ä»¥å‰æ‰€åŒæ­¥çš„ç‰ˆæœ¬ï¼Œå¦‚æœä¸è¿ç½‘çš„è¯ï¼Œç”¨æˆ·å°±çœ‹ä¸åˆ°å†å²ç‰ˆæœ¬ï¼Œä¹Ÿæ— æ³•åˆ‡æ¢ç‰ˆæœ¬éªŒè¯é—®é¢˜ï¼Œæˆ–åœ¨ä¸åŒåˆ†æ”¯å·¥ä½œã€‚</p><p>è€Œä¸”ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å•ä¸€çš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰å¾ˆå¤§çš„é£é™©è¿™ä¸ªæœåŠ¡å™¨ä¼šæŸåï¼Œè¿™æ ·å°±ä¼šä¸¢å¤±æ‰€æœ‰çš„æ•°æ®ï¼Œå½“ç„¶å¯ä»¥å®šæœŸå¤‡ä»½ã€‚ä»£è¡¨äº§å“ï¼šSVNã€CVSã€VSS</p><h3 id="3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶-Git"><a href="#3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶-Git" class="headerlink" title="3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ Git"></a><strong>3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ Git</strong></h3><h3 id="æœåŠ¡å™¨æ–­ç½‘ä¹Ÿå¯ä»¥å¼€å‘ï¼Œä¸”æ¯ä¸ªå®¢æˆ·ç«¯éƒ½ä¿å­˜ç€å®Œæ•´ä»£ç "><a href="#æœåŠ¡å™¨æ–­ç½‘ä¹Ÿå¯ä»¥å¼€å‘ï¼Œä¸”æ¯ä¸ªå®¢æˆ·ç«¯éƒ½ä¿å­˜ç€å®Œæ•´ä»£ç " class="headerlink" title="æœåŠ¡å™¨æ–­ç½‘ä¹Ÿå¯ä»¥å¼€å‘ï¼Œä¸”æ¯ä¸ªå®¢æˆ·ç«¯éƒ½ä¿å­˜ç€å®Œæ•´ä»£ç "></a>æœåŠ¡å™¨æ–­ç½‘ä¹Ÿå¯ä»¥å¼€å‘ï¼Œä¸”æ¯ä¸ªå®¢æˆ·ç«¯éƒ½ä¿å­˜ç€å®Œæ•´ä»£ç </h3><p>æ¯ä¸ªäººéƒ½æ‹¥æœ‰å…¨éƒ¨çš„ä»£ç ï¼å®‰å…¨éšæ‚£ï¼</p><p>æ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯ä»“åº“å…¨éƒ¨åŒæ­¥åˆ°æœ¬åœ°çš„æ¯ä¸ªç”¨æˆ·ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æœ¬åœ°æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬å†å²ï¼Œå¯ä»¥ç¦»çº¿åœ¨æœ¬åœ°æäº¤ï¼Œåªéœ€åœ¨è¿ç½‘æ—¶pushåˆ°ç›¸åº”çš„æœåŠ¡å™¨æˆ–å…¶ä»–ç”¨æˆ·é‚£é‡Œã€‚ç”±äºæ¯ä¸ªç”¨æˆ·é‚£é‡Œä¿å­˜çš„éƒ½æ˜¯æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®ï¼Œåªè¦æœ‰ä¸€ä¸ªç”¨æˆ·çš„è®¾å¤‡æ²¡æœ‰é—®é¢˜å°±å¯ä»¥æ¢å¤æ‰€æœ‰çš„æ•°æ®ï¼Œä½†è¿™å¢åŠ äº†æœ¬åœ°å­˜å‚¨ç©ºé—´çš„å ç”¨ã€‚</p><p>ä¸ä¼šå› ä¸ºæœåŠ¡å™¨æŸåæˆ–è€…ç½‘ç»œé—®é¢˜ï¼Œé€ æˆä¸èƒ½å·¥ä½œçš„æƒ…å†µï¼</p><p><a href="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7Ksu8UlITwMlbX3kMGtZ9p0ev8Q7qXjsTfeSwFexdA4tGjFAiaVEKQzAHdGcINXILKflI2cfk9BiawQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1">https://mmbiz.qpic.cn/mmbiz_png&#x2F;uJDAUKrGC7Ksu8UlITwMlbX3kMGtZ9p0ev8Q7qXjsTfeSwFexdA4tGjFAiaVEKQzAHdGcINXILKflI2cfk9BiawQ&#x2F;640?wx_fmt&#x3D;png&amp;wxfrom&#x3D;5&amp;wx_lazy&#x3D;1&amp;wx_co&#x3D;1</a></p><h1 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a><strong>åŸºæœ¬æ¦‚å¿µ</strong></h1><h2 id="ä¸‰ä¸ªåŒºåŸŸ"><a href="#ä¸‰ä¸ªåŒºåŸŸ" class="headerlink" title="ä¸‰ä¸ªåŒºåŸŸ"></a>ä¸‰ä¸ªåŒºåŸŸ</h2><ul><li><p><strong>å·¥ä½œåŒºï¼ˆWorking Directoryæˆ–Workspaceï¼‰</strong>ï¼šçœ‹åˆ°çš„ç›®å½•ï¼Œå¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹</p></li><li><p><strong>æš‚å­˜åŒºï¼ˆStage&#x2F;Indexï¼‰</strong>ï¼šè‹±æ–‡åstageæˆ–è€…indexï¼Œç”¨äºå‡†å¤‡æäº¤çš„æ–‡ä»¶åŒºåŸŸã€‚</p><ul><li>ä¸€èˆ¬å­˜æ”¾åœ¨**<code>.git</code>**ç›®å½•ä¸‹indexæ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥ä¹Ÿç§°ä¸ºç´¢å¼•index</li></ul></li><li><p><strong>ä»“åº“ï¼ˆRepositoryæˆ–Git Directoryï¼‰</strong>ï¼šç”¨äºå­˜å‚¨é¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶å’Œå†å²è®°å½•ã€‚</p><ul><li>é€šå¸¸å­˜å‚¨åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ <strong><code>.git</code></strong> å­ç›®å½•ä¸­ã€‚</li><li>å…¶ä¸­**<code>HEAD</code>**æŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬</li></ul><p>  <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/3afe2fdd-cad2-43f1-8adc-f1d3b699ee5c/627d280e-15d4-47b3-997b-8a0ec484a12d/Untitled.png" alt="Untitled"></p></li></ul><p>**è¿œç¨‹çš„gitä»“åº“(Remote Directory)ï¼š**å­˜å‚¨åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»“åº“å‰¯æœ¬ï¼Œç”¨äºå¤šäººåä½œå’Œå¤‡ä»½ã€‚ä½ å¯ä»¥ä½¿ç”¨ <strong><code>git push</code></strong> å‘½ä»¤å°†æœ¬åœ°ä»“åº“çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <strong><code>git pull</code></strong> å‘½ä»¤ä»è¿œç¨‹ä»“åº“æ‹‰å–æœ€æ–°çš„æ›´æ”¹ã€‚</p><h2 id="git-å·¥ä½œæµç¨‹"><a href="#git-å·¥ä½œæµç¨‹" class="headerlink" title="git å·¥ä½œæµç¨‹"></a>git <strong>å·¥ä½œæµç¨‹</strong></h2><ul><li><p><strong>å·¥ä½œåŒº -&gt; æš‚å­˜åŒº -&gt; æœ¬åœ°ä»“åº“ -&gt; è¿œç¨‹ä»“åº“</strong></p></li><li><p>å·¥ä½œåŒºï¼šä»£ç å­˜æ”¾çš„ä½ç½®ã€‚åœ¨å·¥ä½œåŒºå¯ä»¥ä¿®æ”¹ä»£ç ï¼Œä¸”æ²¡æœ‰å†å²è®°å½•ï¼›</p></li><li><p>æš‚å­˜åŒºï¼šå°†å·¥ä½œåŒºçš„ä»£ç Â æ·»åŠ (<code>git add</code>) åˆ°æš‚å­˜åŒºï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹ä»£ç å¹¶ä¸”æ²¡æœ‰å†å²è®°å½•ï¼›</p></li><li><p>æœ¬åœ°åº“ï¼šå°†æš‚å­˜åŒºçš„ä»£ç æäº¤Â (<code>git commit</code>) åˆ°æœ¬åœ°åº“ï¼Œå°±ä¼šç”Ÿæˆå†å²ç‰ˆæœ¬ã€‚åœ¨æœ¬åœ°åº“çš„ç‰ˆæœ¬ä¸èƒ½ä¿®æ”¹ã€‚è‹¥å‘ç°ä»£ç ä¸å°½äººæ„ï¼Œåªèƒ½åœ¨å·¥ä½œåŒºä¿®æ”¹åå†æ¬¡æäº¤ï¼Œæ­¤æ—¶æœ¬åœ°åº“åŒæ—¶å­˜åœ¨è¿™ä¸¤ä¸ªç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼Œå…ˆæäº¤äº† v1 ç‰ˆæœ¬ï¼Œå‘ç°ä¸å¥½ï¼Œåˆ™åªèƒ½åœ¨ v1 ç‰ˆæœ¬åŸºç¡€ä¸Šä¿®æ”¹ç„¶åæäº¤ä¸º v2ï¼›</p></li><li><p>ä»£ç æ‰˜ç®¡ä¸­å¿ƒï¼ˆè¿œç¨‹åº“ï¼‰ï¼šå°†æœ¬åœ°åº“çš„ä»£ç æ¨é€Â (<code>git push</code>) è‡³è¿œç¨‹åº“ã€‚</p><p>  <img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/3afe2fdd-cad2-43f1-8adc-f1d3b699ee5c/108604d8-e083-4eee-87e5-aae75338e618/Untitled.png" alt="Untitled"></p></li></ul><p>æ–‡ä»¶åœ¨è¿™å››ä¸ªåŒºåŸŸä¹‹é—´çš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š</p><h2 id="git-æ–‡ä»¶çŠ¶æ€"><a href="#git-æ–‡ä»¶çŠ¶æ€" class="headerlink" title="git æ–‡ä»¶çŠ¶æ€"></a>git æ–‡ä»¶çŠ¶æ€</h2><p><strong>æŸ¥çœ‹å·¥ä½œåŒºçš„æ–‡ä»¶çŠ¶æ€</strong><code>git status</code></p><ol><li><strong>æœªè¿½è¸ªï¼ˆUntrackedï¼‰</strong>ï¼š<ul><li>è¿™æ˜¯æŒ‡åœ¨Gitä»“åº“ä¸­æ²¡æœ‰è®°å½•çš„æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶å­˜åœ¨äºå·¥ä½œåŒºä¸­ï¼Œä½†å°šæœªè¢«æ·»åŠ åˆ°Gitçš„ç‰ˆæœ¬æ§åˆ¶ä¸­ã€‚</li></ul></li><li><strong>å·²æš‚å­˜ï¼ˆStagedï¼‰</strong>ï¼š<ul><li>è¿™æ˜¯æŒ‡å°†å·¥ä½œåŒºä¸­çš„æ–‡ä»¶æ·»åŠ åˆ°äº†æš‚å­˜åŒºï¼ˆä¹Ÿå«ç´¢å¼•ï¼‰ä¸­ï¼Œè¡¨ç¤ºä½ æ‰“ç®—åœ¨ä¸‹ä¸€æ¬¡æäº¤ä¸­åŒ…æ‹¬è¿™äº›æ›´æ”¹ã€‚</li></ul></li><li><strong>å·²ä¿®æ”¹ï¼ˆModifiedï¼‰</strong>ï¼š<ul><li>è¿™æ˜¯æŒ‡å·²ç»ä¿®æ”¹äº†æŸä¸ªæ–‡ä»¶ï¼Œä½†å°šæœªå°†è¿™äº›æ›´æ”¹æ·»åŠ åˆ°æš‚å­˜åŒºã€‚</li></ul></li><li><strong>å·²æäº¤ï¼ˆCommittedï¼‰</strong>ï¼š<ul><li>è¿™æ˜¯æŒ‡å·²ç»å°†æ–‡ä»¶çš„æ›´æ”¹ä¿å­˜åˆ°äº†æœ¬åœ°ç‰ˆæœ¬åº“ä¸­ã€‚</li></ul></li></ol><h2 id="gitåˆ†æ”¯-Branch"><a href="#gitåˆ†æ”¯-Branch" class="headerlink" title="gitåˆ†æ”¯-Branch"></a>git<strong>åˆ†æ”¯-Branch</strong></h2><p>åˆ†æ”¯ï¼ˆBranchï¼‰æ˜¯ç”¨æ¥å¼€å‘æ–°åŠŸèƒ½æˆ–ä¿®å¤é”™è¯¯çš„ç‹¬ç«‹å·¥ä½œæµã€‚å®ƒå…è®¸ä½ å°†å·¥ä½œä»ä¸»çº¿ï¼ˆé€šå¸¸æ˜¯**<code>master</code>**åˆ†æ”¯ï¼‰ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»¥ä¾¿ä¸ä¼šå½±å“åˆ°ä¸»çº¿ä¸Šçš„å…¶ä»–å¼€å‘å·¥ä½œã€‚</p><p>masterä¸»åˆ†æ”¯åº”è¯¥éå¸¸ç¨³å®šï¼Œç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å·¥ä½œ</p><p>å·¥ä½œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå·¥ä½œï¼Œdevåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚</p><p><img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/3afe2fdd-cad2-43f1-8adc-f1d3b699ee5c/38ae47d3-468a-4d9a-9bda-71a05d71ccfa/Untitled.png" alt="Untitled"></p><p>å¤šä¸ªåˆ†æ”¯ï¼šç”¨æˆ·åˆ†æ”¯ï¼Œæµ‹è¯•åˆ†æ”¯ï¼Œå¼€å‘åˆ†æ”¯â€¦â€¦ ä¸åŒåˆ†æ”¯äº’ä¸å¹²æ‰°ï¼Œå¯ä»¥åŒæ—¶æ¨è¿›ï¼Œå®Œæˆå¼€å‘åå°±å¯ä»¥è¿›è¡Œåˆ†æ”¯åˆå¹¶ï¼ˆåœ¨ç”¨æˆ·çœ‹æ¥å°±æ˜¯æ›´æ–°ï¼‰ã€‚åˆ†æ”¯åº•å±‚å°±æ˜¯æŒ‡é’ˆçš„å¼•ç”¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span></span><br><span class="line">git branch</span><br><span class="line"><span class="comment">#è¿™ä¼šåˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„åˆ†æ”¯ï¼Œå¹¶ç”¨ä¸€ä¸ª**æ˜Ÿå·æ ‡è®°å½“å‰æ‰€åœ¨çš„åˆ†æ”¯**ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">git branch -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯</span></span><br><span class="line">git branch [branch-name]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span></span><br><span class="line">git checkout -b [branch]</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ‡æ¢åˆ†æ”¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span></span><br><span class="line">$ git merge [branch]</span><br><span class="line"></span><br><span class="line"><span class="comment">#å°†devåˆ†æ”¯åˆå¹¶åˆ°masteråˆ†æ”¯</span></span><br><span class="line">git merge dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤åˆ†æ”¯</span></span><br><span class="line">$ git branch -d [branch-name]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span></span><br><span class="line">$ git push origin --delete [branch-name]</span><br><span class="line">$ git branch -dr [remote/branch]</span><br></pre></td></tr></table></figure><h2 id="è§£å†³å†²çª"><a href="#è§£å†³å†²çª" class="headerlink" title="è§£å†³å†²çª"></a><strong>è§£å†³å†²çª</strong></h2><ul><li>åœ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå¦‚æœGitæ— æ³•è‡ªåŠ¨åˆå¹¶ï¼Œä¼šäº§ç”Ÿå†²çªã€‚éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªåå†æäº¤ã€‚</li></ul><h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><h3 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h3><ol><li><p>æœ¬åœ°ä»“åº“æ­å»º</p></li><li><p>å…‹éš†è¿œç¨‹ä»“åº“ï¼šå…‹éš†è¿œç¨‹ç›®å½•ï¼Œç”±äºæ˜¯å°†è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»“åº“å®Œå…¨é•œåƒä¸€ä»½è‡³æœ¬åœ°</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.åˆå§‹åŒ–</span><br><span class="line"></span><br><span class="line">git init <span class="comment"># åˆå§‹åŒ–ä»“åº“</span></span><br><span class="line">git <span class="built_in">clone</span> <span class="comment"># æ‹·è´ä¸€ä»½è¿œç¨‹ä»“åº“ï¼Œä¹Ÿå°±æ˜¯ä¸‹è½½ä¸€ä¸ªé¡¹ç›®</span></span><br><span class="line"></span><br><span class="line">git init --bare shell.git</span><br><span class="line">git init æ˜¯ Git çš„ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨äºåˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Git ä»“åº“ã€‚</span><br><span class="line">--bare æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œå®ƒå‘Šè¯‰ Git åˆ›å»ºä¸€ä¸ªè£¸ä»“åº“</span><br><span class="line">  ä¹Ÿå°±æ˜¯ä¸åŒ…å«å·¥ä½œåŒºï¼ˆWorking Directoryï¼‰çš„ä»“åº“ã€‚**è£¸ä»“åº“åªåŒ…å«ç‰ˆæœ¬å†å²è®°å½•ã€‚**</span><br><span class="line">shell.git æ˜¯ä½ ä¸ºæ–°ä»“åº“é€‰æ‹©çš„åç§°ï¼Œå®é™…ä¸Šå°±æ˜¯ä»“åº“çš„ç›®å½•åã€‚</span><br><span class="line"></span><br><span class="line">2.å…‹éš†</span><br><span class="line">git <span class="built_in">clone</span> &lt;https://github.com/repository.git&gt;</span><br><span class="line"><span class="comment">#URLå…‹éš†</span></span><br><span class="line">git <span class="built_in">clone</span> git@github.com:username/repository.git</span><br><span class="line"><span class="comment">#SSHåè®®æ¥è¿›è¡Œå…‹éš†</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="æäº¤ä¸ä¿®æ”¹"><a href="#æäº¤ä¸ä¿®æ”¹" class="headerlink" title="æäº¤ä¸ä¿®æ”¹"></a>æäº¤ä¸ä¿®æ”¹</h3><p>åœ¨å·¥ä½œåŒºcommit</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git add <span class="comment"># æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº</span></span><br><span class="line">git status <span class="comment"># æŸ¥çœ‹ä»“åº“å½“å‰çš„çŠ¶æ€ï¼Œæ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">git diff <span class="comment"># æ¯”è¾ƒæ–‡ä»¶çš„ä¸åŒï¼Œå³æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span></span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">&quot;commit message&quot;</span> <span class="comment"># æäº¤æš‚å­˜åŒºåˆ°æœ¬åœ°ä»“åº“</span></span><br><span class="line"></span><br><span class="line">git reset <span class="comment"># å›é€€ç‰ˆæœ¬</span></span><br><span class="line">git <span class="built_in">rm</span> <span class="comment"># åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶</span></span><br><span class="line">git <span class="built_in">mv</span> <span class="comment"># ç§»åŠ¨æˆ–é‡å‘½åå·¥ä½œåŒºæ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>æäº¤æ—¥å¿—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment"># æŸ¥çœ‹å†å²æäº¤è®°å½•</span></span><br><span class="line">git blame&lt;file&gt; <span class="comment"># ä»¥åˆ—è¡¨å½¢å¼æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çš„å†å²ä¿®æ”¹è®°å½•</span></span><br><span class="line">è¿œç¨‹æ“ä½œ</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Git-æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚&quot;&gt;&lt;a href=&quot;#Git-æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚&quot; class=&quot;headerlink&quot; title=&quot;Git æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚&quot;&gt;&lt;/a&gt;Git æ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/images/</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux å†…æ ¸--Cgroupä¸namespace</title>
    <link href="https://sosocrown.github.io/2025/02/08/Linux%20%E5%86%85%E6%A0%B8--Cgroup%E4%B8%8Enamespace/"/>
    <id>https://sosocrown.github.io/2025/02/08/Linux%20%E5%86%85%E6%A0%B8--Cgroup%E4%B8%8Enamespace/</id>
    <published>2025-02-08T07:43:55.000Z</published>
    <updated>2025-05-07T02:38:58.078Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å®¹å™¨-cgroup-namespace-rootfs-å®¹å™¨å¼•æ“"><a href="#å®¹å™¨-cgroup-namespace-rootfs-å®¹å™¨å¼•æ“" class="headerlink" title="å®¹å™¨ &#x3D; cgroup + namespace + rootfs + å®¹å™¨å¼•æ“"></a>å®¹å™¨ &#x3D; cgroup + namespace + rootfs + å®¹å™¨å¼•æ“</h2><p>å®¹å™¨çš„æ ¸å¿ƒæŠ€æœ¯æ˜¯ <strong>Cgroup</strong> + <strong>Namespace</strong></p><ul><li>â€‹Cgroupï¼š èµ„æºæ§åˆ¶ </li><li>â€‹namespaceï¼š è®¿é—®éš”ç¦»</li><li>â€‹rootfsï¼šæ–‡ä»¶ç³»ç»Ÿéš”ç¦»ã€‚é•œåƒçš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªrootfsæ–‡ä»¶</li><li>â€‹å®¹å™¨å¼•æ“ï¼šç”Ÿå‘½å‘¨æœŸæ§åˆ¶</li></ul><p><strong>cgroupï¼ˆæ§åˆ¶ç»„ï¼‰å’Œnamespaceï¼ˆå‘½åç©ºé—´ï¼‰</strong> æ˜¯ Linux å†…æ ¸ä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒæŠ€æœ¯ï¼Œä¸»è¦ç”¨äºå®ç°<strong>èµ„æºç®¡ç†</strong>å’Œ<strong>ç¯å¢ƒéš”ç¦»</strong>ï¼Œå®ƒä»¬æ˜¯å®¹å™¨æŠ€æœ¯ï¼ˆå¦‚ Dockerï¼‰çš„åº•å±‚åŸºç¡€ã€‚</p><hr><h3 id="cgroupï¼ˆæ§åˆ¶ç»„ï¼‰ï¼š"><a href="#cgroupï¼ˆæ§åˆ¶ç»„ï¼‰ï¼š" class="headerlink" title="cgroupï¼ˆæ§åˆ¶ç»„ï¼‰ï¼š"></a><strong>cgroupï¼ˆæ§åˆ¶ç»„ï¼‰ï¼š</strong></h3><p><strong>æ ¸å¿ƒä½œç”¨</strong>ï¼š<strong>é™åˆ¶ã€åˆ†é…å’Œç›‘æ§è¿›ç¨‹çš„èµ„æºä½¿ç”¨</strong>ï¼Œæ¯”å¦‚ CPUã€å†…å­˜ã€ç£ç›˜ I&#x2F;O ç­‰ã€‚</p><ul><li><strong>ä½œç”¨ï¼š</strong> é€šè¿‡cgroupï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥ä¸ºä¸€ç»„è¿›ç¨‹åˆ†é…èµ„æºï¼Œå¹¶é™åˆ¶å®ƒä»¬å¯¹ç³»ç»Ÿèµ„æºçš„ä½¿ç”¨ã€‚è¿™å¯¹äºå®ç°èµ„æºéš”ç¦»å’Œç®¡ç†æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œç‰¹åˆ«æ˜¯åœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­ï¼Œå¯ä»¥ç¡®ä¿å®¹å™¨ä¹‹é—´ä¸ä¼šç›¸äº’å¹²æ‰°ï¼ŒåŒæ—¶å…è®¸å¯¹èµ„æºè¿›è¡Œæœ‰æ•ˆçš„åˆ†é…å’Œæ§åˆ¶ã€‚</li></ul><h3 id="namespaceï¼ˆå‘½åç©ºé—´ï¼‰ï¼š"><a href="#namespaceï¼ˆå‘½åç©ºé—´ï¼‰ï¼š" class="headerlink" title="namespaceï¼ˆå‘½åç©ºé—´ï¼‰ï¼š"></a><strong>namespaceï¼ˆå‘½åç©ºé—´ï¼‰ï¼š</strong></h3><p>å‘½åç©ºé—´æ˜¯ Linux å†…æ ¸æä¾›çš„ä¸€ç§éš”ç¦»æœºåˆ¶ï¼Œç”¨äº<strong>éš”ç¦»</strong>å®¹å™¨çš„è¿›ç¨‹å’Œæ–‡ä»¶ç³»ç»Ÿç­‰ã€‚</p><ul><li><strong>ä½œç”¨ï¼š</strong> å‘½åç©ºé—´æä¾›äº†ä¸€ç§éš”ç¦»çš„æ‰‹æ®µï¼Œä½¿å¾—è¿›ç¨‹å¯ä»¥åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒä¸­è¿è¡Œï¼Œä¸å…¶ä»–å‘½åç©ºé—´ä¸­çš„è¿›ç¨‹éš”ç¦»å¼€ã€‚å¸¸ç”¨çš„å‘½åç©ºé—´åŒ…æ‹¬ PIDï¼ˆè¿›ç¨‹ IDï¼‰ã€NETï¼ˆç½‘ç»œï¼‰ã€UTSï¼ˆä¸»æœºåå’ŒåŸŸåï¼‰ã€IPCï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰ã€MNTï¼ˆæŒ‚è½½ç‚¹ï¼‰ç­‰ã€‚åœ¨å®¹å™¨æŠ€æœ¯ä¸­ï¼Œå‘½åç©ºé—´æ˜¯å®ç°å®¹å™¨éš”ç¦»çš„åŸºç¡€ï¼Œä½¿å¾—å®¹å™¨å†…çš„è¿›ç¨‹å’Œèµ„æºä¸ä¸»æœºåŠå…¶ä»–å®¹å™¨éš”ç¦»å¼€ã€‚</li></ul><hr><h3 id="cgroup-vs-namespace-çš„åŒºåˆ«"><a href="#cgroup-vs-namespace-çš„åŒºåˆ«" class="headerlink" title="cgroup vs namespace çš„åŒºåˆ«"></a>cgroup vs namespace çš„åŒºåˆ«</h3><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>cgroup</strong></th><th><strong>namespace</strong></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒç›®æ ‡</strong></td><td>é™åˆ¶èµ„æºç”¨é‡ï¼ˆå¦‚ CPUã€å†…å­˜ï¼‰</td><td>éš”ç¦»èµ„æºè§†å›¾ï¼ˆå¦‚è¿›ç¨‹ã€ç½‘ç»œï¼‰</td></tr><tr><td><strong>å…³æ³¨ç‚¹</strong></td><td><strong>èµ„æºæ§åˆ¶</strong></td><td><strong>ç¯å¢ƒéš”ç¦»</strong></td></tr><tr><td><strong>ç±»æ¯”</strong></td><td>ç»™è¿›ç¨‹åˆ†é…â€œèµ„æºé…é¢â€</td><td>ç»™è¿›ç¨‹åˆ›é€ ä¸€ä¸ªâ€œç‹¬ç«‹æˆ¿é—´â€</td></tr></tbody></table>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å®¹å™¨-cgroup-namespace-rootfs-å®¹å™¨å¼•æ“&quot;&gt;&lt;a href=&quot;#å®¹å™¨-cgroup-namespace-rootfs-å®¹å™¨å¼•æ“&quot; class=&quot;headerlink&quot; title=&quot;å®¹å™¨ &amp;#x3D; cgroup + namespace +</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="linux" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/linux/"/>
    
    
    <category term="DevOps" scheme="https://sosocrown.github.io/tags/DevOps/"/>
    
    <category term="linux" scheme="https://sosocrown.github.io/tags/linux/"/>
    
    <category term="å®¹å™¨" scheme="https://sosocrown.github.io/tags/%E5%AE%B9%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>SElinux-å®‰å…¨ä¸Šä¸‹æ–‡</title>
    <link href="https://sosocrown.github.io/2025/01/21/SElinux-%E5%AE%89%E5%85%A8%E4%B8%8A%E4%B8%8B%E6%96%87/"/>
    <id>https://sosocrown.github.io/2025/01/21/SElinux-%E5%AE%89%E5%85%A8%E4%B8%8A%E4%B8%8B%E6%96%87/</id>
    <published>2025-01-21T08:59:08.643Z</published>
    <updated>2025-05-07T02:39:16.603Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SElinux-Security-Enhanced-Linux-å®‰å…¨å¢å¼ºå‹-linux"><a href="#SElinux-Security-Enhanced-Linux-å®‰å…¨å¢å¼ºå‹-linux" class="headerlink" title="SElinux-Security-Enhanced Linux å®‰å…¨å¢å¼ºå‹ linux"></a>SElinux-Security-Enhanced Linux å®‰å…¨å¢å¼ºå‹ linux</h2><p>Linuxç³»ç»Ÿå®‰å…¨çš„å¼ºåˆ¶è®¿é—®æ§åˆ¶ä½“ç³»</p><h3 id="ä¸‰ç§é…ç½®æ¨¡å¼"><a href="#ä¸‰ç§é…ç½®æ¨¡å¼" class="headerlink" title="ä¸‰ç§é…ç½®æ¨¡å¼"></a>ä¸‰ç§é…ç½®æ¨¡å¼</h3><ol><li>selinuxçš„é…ç½®æ–‡ä»¶ï¼š&#x2F;etc&#x2F;sysconfig&#x2F;selinux</li></ol><table><thead><tr><th>çŠ¶æ€</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>enforcing</td><td>çº§åˆ«ä¸ºå¼ºåˆ¶</td></tr><tr><td>permissive</td><td>çº§åˆ«ä¸ºè­¦å‘Š</td></tr><tr><td>disable</td><td>å…³é—­</td></tr></tbody></table><ol start="2"><li>æ¨¡å¼ç®¡ç†</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹å½“å‰å·¥ä½œæ¨¡å¼</span></span><br><span class="line">[root@server ~]# getenforce</span><br><span class="line"></span><br><span class="line">[root@server ~]# getenforce</span><br><span class="line">Enforcing</span><br><span class="line"><span class="comment"># ä¸´æ—¶å…³é—­è¿›å…¥å®½å®¹æ¨¡å¼</span></span><br><span class="line">[root@server ~]# setenforce  0  </span><br><span class="line">[root@server ~]# getenforce</span><br><span class="line">Permissive</span><br><span class="line"> <span class="comment"># ä¸´æ—¶å¼€å¯</span></span><br><span class="line">[root@server ~]# setenforce  1 </span><br><span class="line">[root@server ~]# getenforce</span><br><span class="line">Enforcing</span><br><span class="line"></span><br><span class="line"><span class="comment">#æ°¸ä¹…æ€§å…³é—­</span></span><br><span class="line">[root@server ~]# vim  /etc/selinux/config </span><br><span class="line">SELINUX=disabled    </span><br></pre></td></tr></table></figure><p><code>æ³¨æ„</code>ï¼šenforceingä¸permissiveäºŒè€…å¯ä»¥ç›´æ¥è¿›è¡Œåˆ‡æ¢ï¼Œä½†æ˜¯å…³é—­selinuxï¼ˆdisabledï¼‰è¿›è¡Œåˆ‡æ¢æ—¶è¦é‡å¯reboot</p><h3 id="å®‰å…¨ä¸Šä¸‹æ–‡ï¼ˆsecurity-contextï¼‰"><a href="#å®‰å…¨ä¸Šä¸‹æ–‡ï¼ˆsecurity-contextï¼‰" class="headerlink" title="å®‰å…¨ä¸Šä¸‹æ–‡ï¼ˆsecurity contextï¼‰"></a><strong>å®‰å…¨ä¸Šä¸‹æ–‡ï¼ˆsecurity contextï¼‰</strong></h3><ul><li>æ‰€æœ‰è¿›ç¨‹ã€æ–‡ä»¶å’Œç›®å½•éƒ½æœ‰è‡ªå·±çš„å®‰å…¨ä¸Šä¸‹æ–‡</li><li>è¿›ç¨‹æ˜¯å¦èƒ½å¤Ÿè®¿é—®æ–‡ä»¶æˆ–ç›®å½•ï¼Œå°±è¦å…¶å®‰å…¨ä¸Šä¸‹æ–‡æ˜¯å¦åŒ¹é…</li></ul><p><strong>å®‰å…¨ä¸Šä¸‹æ–‡ç”¨å†’å·åˆ†ä¸ºå››ä¸ªå­—æ®µï¼šIdentifyï¼šroleï¼štypeï¼š</strong></p><ul><li>èº«ä»½æ ‡è¯†ï¼ˆIdentifyï¼‰ï¼šç›¸å½“äºè´¦å·æ–¹é¢çš„èº«ä»½æ ‡è¯†ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§å¸¸è§çš„ç±»å‹ï¼š<ul><li>rootï¼šè¡¨ç¤ºrootçš„è´¦å·èº«ä»½ï¼›</li><li>system_uï¼šè¡¨ç¤ºç¨‹åºæ–¹é¢çš„æ ‡è¯†ï¼Œé€šå¸¸å°±æ˜¯è¿›ç¨‹</li><li>unconfined_uï¼šä»£è¡¨çš„æ˜¯ä¸€èˆ¬ç”¨æˆ·è´¦å·ç›¸å…³çš„èº«ä»½ã€‚</li></ul></li><li>è§’è‰²ï¼ˆroleï¼‰ï¼šé€šè¿‡è§’è‰²å­—æ®µï¼Œå¯çŸ¥é“è¿™ä¸ªæ•°æ®æ˜¯å±äºç¨‹åºã€æ–‡ä»¶èµ„æºè¿˜æ˜¯ä»£è¡¨ç”¨æˆ·ã€‚ä¸€èˆ¬è§’è‰²æœ‰ï¼š<ul><li>object_rï¼šä»£è¡¨çš„æ˜¯æ–‡ä»¶æˆ–ç›®å½•ç­‰æ–‡ä»¶èµ„æºï¼›</li><li>system_rï¼šä»£è¡¨çš„æ˜¯è¿›ç¨‹ã€‚</li></ul></li><li><strong>ç±»å‹ï¼ˆtypeï¼‰ï¼š</strong><ul><li>typeï¼šåœ¨æ–‡ä»¶èµ„æºä¸Šé¢ç§°ä¸ºç±»å‹ã€‚</li><li>domainï¼šåœ¨ä¸»ä½“ç¨‹åºä¸­åˆ™ç§°ä¸ºåŸŸã€‚domainéœ€è¦ä¸typeæ­é…ï¼Œåˆ™è¯¥ç¨‹åºæ‰èƒ½å¤Ÿé¡ºåˆ©è¯»å–æ–‡ä»¶èµ„æºã€‚</li></ul></li><li>æœ€åä¸€ä¸ªå­—æ®µæ˜¯å’ŒMLSå’ŒMCSç›¸å…³çš„ä¸œè¥¿ï¼Œä»£è¡¨çµæ•åº¦ï¼Œä¸€èˆ¬ç”¨s0ã€s1ã€s2æ¥å‘½åï¼Œæ•°å­—ä»£è¡¨çµæ•åº¦çš„åˆ†çº§ã€‚æ•°å€¼è¶Šå¤§ã€çµæ•åº¦è¶Šé«˜ã€‚</li></ul><p><strong>æŸ¥çœ‹å®‰å…¨ä¸Šä¸‹æ–‡</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -Z</span><br></pre></td></tr></table></figure><p><strong>chconæ‰‹åŠ¨ä¿®æ”¹æ–‡ä»¶çš„SELinuxç±»å‹</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chcon</span> [-R] [-t <span class="built_in">type</span>] [-u user] [-r role] æ–‡ä»¶</span><br><span class="line"><span class="built_in">chcon</span> [-R] --reference=èŒƒä¾‹æ–‡ä»¶ æ–‡ä»¶</span><br><span class="line">é€‰é¡¹ï¼š</span><br><span class="line">-Rï¼šè¿åŒè¯¥ç›®å½•ä¸‹çš„å­ç›®å½•ä¹ŸåŒæ—¶ä¿®æ”¹</span><br><span class="line">-tï¼šåé¢æ¥å®‰å…¨ä¸Šä¸‹æ–‡çš„ç±»å‹æ ä½ï¼Œä¾‹å¦‚httpd_sys_content_t</span><br><span class="line">-uï¼šåé¢æ¥èº«ä»½è¯†åˆ«ï¼Œä¾‹å¦‚system_u</span><br><span class="line">-rï¼šåé¢æ¥è§’è‰²ï¼Œä¾‹å¦‚ system_r</span><br><span class="line">-vï¼šè‹¥æœ‰å˜åŒ–æˆåŠŸï¼Œè¯·å°†å˜åŠ¨çš„ç»“æœåˆ—å‡ºæ¥</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>restoreconè®©æ–‡ä»¶æ¢å¤æ­£ç¡®çš„SELinuxç±»å‹</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">restorecon [-Rv] æ–‡ä»¶ç›®å½•</span><br><span class="line">é€‰é¡¹ï¼š</span><br><span class="line">-Rï¼šè¿åŒå­ç›®å½•ä¸€èµ·ä¿®æ”¹</span><br><span class="line">-vï¼šå°†è¿‡ç¨‹æ˜¾ç¤ºåˆ°å±å¹•</span><br></pre></td></tr></table></figure><p><strong>semanageé»˜è®¤ç›®å½•çš„å®‰å…¨ä¸Šä¸‹æ–‡æŸ¥è¯¢ä¸ä¿®æ”¹</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum -y install policycoreutils-python semanage</span><br><span class="line"></span><br><span class="line">semanage é€‰é¡¹ å‚æ•°  æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">é€‰é¡¹ï¼š</span><br><span class="line">login</span><br><span class="line">user</span><br><span class="line">port</span><br><span class="line">interface</span><br><span class="line">fcontext  <span class="comment">#æ³¨æ„ï¼šfcontextæŸ¥è¯¢é»˜è®¤å®‰å…¨ä¸Šä¸‹æ–‡ï¼ˆé‡è¦ï¼‰</span></span><br><span class="line">translation</span><br><span class="line">boolean</span><br><span class="line">å‚æ•°ï¼š</span><br><span class="line"> -l :æŸ¥è¯¢ï¼›</span><br><span class="line"> -a :æ·»åŠ </span><br><span class="line"> -m :ä¿®æ”¹</span><br><span class="line"> -d :åˆ é™¤</span><br><span class="line"> -t :ç±»å‹</span><br><span class="line"> -r :è§’è‰²</span><br><span class="line"> -s :ç”¨æˆ·</span><br><span class="line"> -f :æ–‡ä»¶</span><br><span class="line">æ–‡ä»¶ï¼š</span><br><span class="line">æ–‡ä»¶æˆ–ç›®å½•</span><br><span class="line"></span><br><span class="line">semanage  fcontext  -l |  grep  æ–‡ä»¶å</span><br><span class="line">semanage  port  -l  |  grep  åè®®</span><br><span class="line">semanage port -a -t http_port_t  -p  tcp  7777 <span class="comment"># æ·»åŠ æ–°ç«¯å£</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¤ºä¾‹1 æŸ¥è¯¢ä¸€ä¸‹/etc/  /etc/cron.dé»˜è®¤çš„SELinuxç±»å‹æ˜¯ä»€ä¹ˆ</span></span><br><span class="line">[root@chenshiren ~]# semanage  fcontext -l |grep -E <span class="string">&#x27;^/etc|^/etc/cron&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>å®éªŒ1</strong></li></ul>]]></content>
    
    
    <summary type="html">&quot;Linuxç³»ç»Ÿå®‰å…¨çš„å¼ºåˆ¶è®¿é—®æ§åˆ¶ä½“ç³»&quot;</summary>
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="linux" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/linux/"/>
    
    
    <category term="è¿ç»´" scheme="https://sosocrown.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="linux" scheme="https://sosocrown.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>æ–‡ä»¶ç³»ç»Ÿä¸ç£ç›˜ç®¡ç†</title>
    <link href="https://sosocrown.github.io/2025/01/21/linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/"/>
    <id>https://sosocrown.github.io/2025/01/21/linux-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86/</id>
    <published>2025-01-21T08:59:08.631Z</published>
    <updated>2025-05-07T02:39:09.625Z</updated>
    
    <content type="html"><![CDATA[<p><strong>disk -&gt; partition -&gt; PV -&gt; VG -&gt; LV -&gt; fs</strong></p><p><strong>ç£ç›˜-&gt;åˆ†åŒº-&gt;ç‰©ç†å·-&gt;å·ç»„-&gt;é€»è¾‘å·-&gt;æ–‡ä»¶ç³»ç»Ÿã€‚</strong><br>![[&#x2F;images&#x2F;disk.drawio.png]]</p><h4 id="æ–‡ä»¶ç³»ç»Ÿ-File-System"><a href="#æ–‡ä»¶ç³»ç»Ÿ-File-System" class="headerlink" title="æ–‡ä»¶ç³»ç»Ÿ File System"></a>æ–‡ä»¶ç³»ç»Ÿ <strong>File System</strong></h4><ol><li>EXT4ï¼šEXT4æ˜¯Linuxé»˜è®¤æ–‡ä»¶ç³»ç»Ÿ</li><li>XFS</li><li><strong>SWAP</strong>ï¼šäº¤æ¢æ–‡ä»¶ç³»ç»Ÿï¼Œç›¸å½“äºè™šæ‹Ÿå†…å­˜</li></ol><h4 id="df"><a href="#df" class="headerlink" title="df"></a>df</h4><p>åˆ—å‡ºæ–‡ä»¶ç³»ç»Ÿçš„æ•´ä½“ç£ç›˜ä½¿ç”¨é‡</p><p>df -h</p><h4 id="du"><a href="#du" class="headerlink" title="du"></a>du</h4><p>æ£€æŸ¥ç£ç›˜ç©ºé—´ä½¿ç”¨é‡</p><h4 id="lsblk"><a href="#lsblk" class="headerlink" title="lsblk"></a>lsblk</h4><ul><li>åˆ—å‡ºå—è®¾å¤‡çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç£ç›˜å’Œåˆ†åŒºã€‚å®ƒä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤º</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ—å‡ºå½“å‰ç³»ç»Ÿæ‰€æœ‰ç£ç›˜ä¸ç£ç›˜å†…çš„åˆ†åŒºä¿¡æ¯</span></span><br><span class="line">[root@master ~]# lsblk</span><br><span class="line">NAME              MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda                 8:0    0   20G  0 disk</span><br><span class="line">â”œâ”€sda1              8:1    0    1G  0 part /boot</span><br><span class="line">â””â”€sda2              8:2    0   19G  0 part</span><br><span class="line">  â”œâ”€centos-root   253:0    0   17G  0 lvm  /</span><br><span class="line">  â””â”€centos-swap   253:1    0    2G  0 lvm  [SWAP]</span><br><span class="line">sdb                 8:16   0  100G  0 disk</span><br><span class="line">â”œâ”€datavg-data1_lv 253:2    0   45G  0 lvm</span><br><span class="line">â””â”€datavg-data2_lv 253:3    0  200M  0 lvm</span><br><span class="line">sr0                11:0    1  9.5G  0 rom</span><br><span class="line"></span><br><span class="line"><span class="comment">#sda1ï¼šsdä»£è¡¨SCSIç£ç›˜ï¼Œaä»£è¡¨ç¬¬ä¸€å—ç£ç›˜ï¼Œ1ä»£è¡¨ç¬¬ä¸€ä¸ªåˆ†åŒº</span></span><br><span class="line"><span class="comment">#sdbï¼šsdä»£è¡¨SCSIç£ç›˜ï¼Œbä»£è¡¨ç¬¬äºŒå—ç£ç›˜ï¼Œ1ä»£è¡¨ç¬¬ä¸€ä¸ªåˆ†åŒº</span></span><br><span class="line"><span class="comment">#è§£é‡Šï¼š</span></span><br><span class="line">NAME <span class="comment">#è®¾å¤‡åç§°</span></span><br><span class="line">MAJ:MIN <span class="comment">#ä¸»è®¾å¤‡å·:æ¬¡è®¾å¤‡å·ï¼Œå†…æ ¸é€šè¿‡ä¸»æ¬¡è®¾å¤‡å·è¯†åˆ«ç£ç›˜</span></span><br><span class="line">RM <span class="comment">#æ˜¯å¦ä¸ºå¯å¸è½½è®¾å¤‡ï¼Œ1å¯å¸è½½ï¼Œ0ä¸å¯å¸è½½</span></span><br><span class="line">SIZE <span class="comment">#è®¾å¤‡çš„å®¹é‡å¤§å°</span></span><br><span class="line">RO <span class="comment">#è¡¨ç¤ºè®¾å¤‡æ˜¯å¦ä¸ºåªè¯»ï¼Œ0éåªè¯»è®¾å¤‡ï¼Œ1åªè¯»è®¾å¤‡</span></span><br><span class="line">TYPE <span class="comment">#è¡¨ç¤ºè®¾å¤‡ç±»å‹ï¼ˆdiskä¸ºç£ç›˜ï¼Œpartä¸ºåˆ†åŒºï¼Œlvmé€»è¾‘å·ï¼Œromåªè¯»ï¼‰</span></span><br><span class="line">MOUNTPOINT <span class="comment">#è®¾å¤‡æŒ‚è½½ç‚¹ï¼ˆSWAPæ²¡æœ‰æŒ‚è½½ç‚¹ï¼‰</span></span><br><span class="line"></span><br><span class="line">lsblk -f <span class="comment">##åˆ—å‡ºæ‰€æœ‰ç£ç›˜åˆ†åŒºå†…ä½¿ç”¨çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹</span></span><br></pre></td></tr></table></figure><h2 id="ç£ç›˜åˆ†åŒº"><a href="#ç£ç›˜åˆ†åŒº" class="headerlink" title="ç£ç›˜åˆ†åŒº"></a>ç£ç›˜åˆ†åŒº</h2><ul><li>**åˆ†åŒºè¿‡ç¨‹ï¼š**æ·»åŠ æ–°ç¡¬ç›˜â€“åˆ†åŒºâ€“æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿâ€“æŒ‚è½½ä½¿ç”¨</li></ul><h3 id="1-fdisk-ç£ç›˜åˆ†åŒº"><a href="#1-fdisk-ç£ç›˜åˆ†åŒº" class="headerlink" title="1.fdisk-ç£ç›˜åˆ†åŒº"></a>1.fdisk-ç£ç›˜åˆ†åŒº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sdb</span><br><span class="line">**m <span class="comment">#è·å–å‘½ä»¤å¸®åŠ© â€»**</span></span><br><span class="line">**p <span class="comment">#æ˜¾ç¤ºç£ç›˜åˆ†åŒºè¡¨ â€»**</span></span><br><span class="line">**n <span class="comment">#æ–°å¢åŠ ä¸€ä¸ªåˆ†åŒº â€»**</span></span><br><span class="line">q <span class="comment">#ä¸ä¿å­˜åˆ†åŒºé€€å‡º â€»</span></span><br><span class="line">d <span class="comment">#åˆ é™¤ä¸€ä¸ªåˆ†åŒº â€»</span></span><br><span class="line">**w <span class="comment">#ä¿å­˜åˆ†åŒºé€€å‡º â€»  è®°å¾—ä¿å­˜**   </span></span><br><span class="line">a <span class="comment">#è®¾ç½®å¯å¼•å¯¼æ ‡è®°</span></span><br><span class="line">b <span class="comment">#ç¼–è¾‘bsdç£ç›˜æ ‡ç­¾</span></span><br><span class="line">c <span class="comment">#è®¾ç½®DOSæ“ä½œç³»ç»Ÿå…¼å®¹æ ‡è®°</span></span><br><span class="line">l <span class="comment">#æ˜¾ç¤ºå·²çŸ¥çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œ82ä¸ºswapäº¤æ¢åˆ†åŒºï¼Œ83ä¸ºLinuxåˆ†åŒº</span></span><br><span class="line">o <span class="comment">#å»ºç«‹ç©ºç™½DOSåˆ†åŒºè¡¨</span></span><br><span class="line">s <span class="comment">#æ–°å»ºç©ºç™½SUNç£ç›˜æ ‡ç­¾</span></span><br><span class="line">t <span class="comment">#æ”¹å˜åˆ†åŒºçš„ç³»ç»ŸID</span></span><br><span class="line">u <span class="comment">#æ”¹å˜æ˜¾ç¤ºè®°å½•å•ä½</span></span><br><span class="line">v <span class="comment">#éªŒè¯åˆ†åŒºè¡¨</span></span><br><span class="line">x <span class="comment">#é™„åŠ åŠŸèƒ½</span></span><br></pre></td></tr></table></figure><ul><li><p>ç¤ºä¾‹</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">[root@master ~]# fdisk /dev/sdb   **#*å¯¹sdbè¿›è¡Œåˆ†åŒº***   </span><br><span class="line">Welcome to fdisk (util-linux 2.23.2).</span><br><span class="line"></span><br><span class="line">Changes will remain <span class="keyword">in</span> memory only, <span class="keyword">until</span> you decide to write them.</span><br><span class="line">Be careful before using the write <span class="built_in">command</span>.</span><br><span class="line"></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): n  **#å¢åŠ åˆ†åŒº**  </span><br><span class="line">Partition <span class="built_in">type</span>:</span><br><span class="line">   p   primary (2 primary, 0 extended, 2 free)</span><br><span class="line">   e   extended</span><br><span class="line">Select (default p):  <span class="comment">#**å›è½¦é€‰æ‹©é»˜è®¤ä¸»åˆ†åŒº**    </span></span><br><span class="line">Using default response p</span><br><span class="line">Partition number (2,4, default 2): 2   **#è¾“å…¥åˆ†åŒºå·ä¸º2**    </span><br><span class="line">First sector (4097-209715199, default 26624):  **#å›è½¦é€‰æ‹©é»˜è®¤èµ·å§‹ä½ç½®**   </span><br><span class="line">Using default value 26624</span><br><span class="line">Last sector, +sectors or +size&#123;K,M,G&#125; (26624-209715199, default 209715199): 409600</span><br><span class="line"><span class="comment">#**è¾“å…¥ç£æŸ±ç»“æŸä½ç½®**  </span></span><br><span class="line">Partition 2 of <span class="built_in">type</span> Linux and of size 187 MiB is <span class="built_in">set</span></span><br><span class="line"></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): </span><br><span class="line"></span><br><span class="line">Disk /dev/sdb: 107.4 GB, 107374182400 bytes, 209715200 sectors</span><br><span class="line">Units = sectors of 1 * 512 = 512 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk label <span class="built_in">type</span>: dos</span><br><span class="line">Disk identifier: 0xbf03ef25</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/sdb1            2048        4096        1024+  83  Linux</span><br><span class="line">/dev/sdb2           26624      409600      191488+  83  Linux</span><br><span class="line">/dev/sdb3            6144       24689        9273   83  Linux</span><br><span class="line"></span><br><span class="line">Partition table entries are not <span class="keyword">in</span> disk order</span><br><span class="line"></span><br><span class="line">Command (m <span class="keyword">for</span> <span class="built_in">help</span>): w   **#ä¿å­˜åˆ†åŒºå¹¶é€€å‡º**    </span><br><span class="line">The partition table has been altered!</span><br><span class="line"></span><br><span class="line">Calling ioctl() to re-read partition table.</span><br><span class="line">Syncing disks.</span><br><span class="line">[root@master ~]# lsblk   **#æŸ¥çœ‹ç£ç›˜ä¿¡æ¯ï¼Œsdbåˆ†åŒº2å·²ç»åˆ›å»º**    </span><br><span class="line">NAME              MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda                 8:0    0   20G  0 disk</span><br><span class="line">â”œâ”€sda1              8:1    0    1G  0 part /boot</span><br><span class="line">â””â”€sda2              8:2    0   19G  0 part</span><br><span class="line">  â”œâ”€centos-root   253:0    0   17G  0 lvm  /</span><br><span class="line">  â””â”€centos-swap   253:1    0    2G  0 lvm  [SWAP]</span><br><span class="line">sdb                 8:16   0  100G  0 disk</span><br><span class="line">â”œâ”€sdb1              8:17   0    1M  0 part</span><br><span class="line">â”œâ”€sdb2              8:18   0  187M  0 part</span><br><span class="line">â”œâ”€sdb3              8:19   0  9.1M  0 part</span><br><span class="line">â”œâ”€datavg-data1_lv 253:2    0   45G  0 lvm</span><br><span class="line">â””â”€datavg-data2_lv 253:3    0  200M  0 lvm</span><br><span class="line">sr0                11:0    1  9.5G  0 rom</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h3 id="2-mkxfsæ ¼å¼åŒ–åˆ†åŒºä¸ºæ–‡ä»¶ç³»ç»Ÿ"><a href="#2-mkxfsæ ¼å¼åŒ–åˆ†åŒºä¸ºæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="2.mkxfsæ ¼å¼åŒ–åˆ†åŒºä¸ºæ–‡ä»¶ç³»ç»Ÿ"></a>2.mkxfs<strong>æ ¼å¼åŒ–åˆ†åŒºä¸ºæ–‡ä»¶ç³»ç»Ÿ</strong></h3><ul><li>mkfså‘½ä»¤ç”¨äºåœ¨åˆ†åŒºä¸Šå»ºç«‹æ–‡ä»¶ç³»ç»Ÿ</li><li>å¸¸ç”¨æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼šext4ï¼Œxfs</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfs -t æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ /dev/sdb1</span><br><span class="line">mkfs.æ–‡ä»¶æ ¼å¼ /dev/sdb1  </span><br></pre></td></tr></table></figure><h3 id="3-mountæŒ‚è½½åˆ†åŒº"><a href="#3-mountæŒ‚è½½åˆ†åŒº" class="headerlink" title="3.mountæŒ‚è½½åˆ†åŒº"></a>3.mountæŒ‚è½½åˆ†åŒº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºæŒ‚è½½ç‚¹ç›®å½•</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mkdir</span> /mybak</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">[root@localhost ~]# mount /dev/sdb1 /mybak</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹æ­£åœ¨ä½¿ç”¨ä¸­çš„åˆ†åŒºä¿¡æ¯</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">df</span> -Th</span><br></pre></td></tr></table></figure><h3 id="4-æ°¸ä¹…æŒ‚è½½"><a href="#4-æ°¸ä¹…æŒ‚è½½" class="headerlink" title="4.æ°¸ä¹…æŒ‚è½½"></a>4.æ°¸ä¹…æŒ‚è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">5. **æ°¸ä¹…æŒ‚è½½ï¼š** æ›´æ–° /etc/fstab æ–‡ä»¶ï¼Œä»¥ç¡®ä¿åœ¨ç³»ç»Ÿé‡æ–°å¯åŠ¨æ—¶åˆ†åŒºä¼šè‡ªåŠ¨æŒ‚è½½</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼€æœºè‡ªåŠ¨æŒ‚è½½</span></span><br><span class="line">[root@localhost ~]# vim /etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment">#æœ«è¡Œ æ·»åŠ   </span></span><br><span class="line">/dev/sdc1 /mnt/sdc_drive ext4 defaults 0 0</span><br><span class="line"><span class="comment">#è®¾å¤‡ æŒ‚è½½ç‚¹ æ–‡ä»¶ç±»å‹ defaults 0 0    </span></span><br></pre></td></tr></table></figure><h2 id="SWAP"><a href="#SWAP" class="headerlink" title="SWAP"></a>SWAP</h2><p>åœ¨ç‰©ç†å†…å­˜ç©ºé—´ä¸è¶³æ—¶ï¼Œå¯ä»¥å°†ç‰©ç†å†…å­˜ä¸­çš„ä¸€äº›ä¸é‡è¦æ•°æ®æ‹·è´åˆ°ç£ç›˜çš„ swap åˆ†åŒºä¸­ï¼Œä»è€Œè®©å‡ºå†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”åœ¨éœ€è¦é‚£äº›å·²è¢«æ‹·å‡ºæ•°æ®æ—¶å†ä» swap åˆ†åŒºä¸­æ‹·å›åˆ°å†…å­˜ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹å†…å­˜åŠswap</span></span><br><span class="line">free</span><br><span class="line">free -h</span><br><span class="line">free -m</span><br></pre></td></tr></table></figure><h3 id="å¢åŠ swapåˆ†åŒº"><a href="#å¢åŠ swapåˆ†åŒº" class="headerlink" title="å¢åŠ swapåˆ†åŒº"></a>å¢åŠ swapåˆ†åŒº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">**æ–¹æ³•ä¸€**</span><br><span class="line"><span class="comment">#åˆ›å»ºåˆ†åŒº</span></span><br><span class="line">[root@node2 ~]# fdisk /dev/vdb</span><br><span class="line"><span class="comment">#æ ¼å¼åŒ–ä¸ºæ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">[root@node2 ~]# mkswap /dev/vdb3</span><br><span class="line"><span class="comment">#ä¿å­˜è®¾ç½®ä½¿å…¶æ°¸ä¹…ç”Ÿæ•ˆ</span></span><br><span class="line">[root@node2 ~]# vim /etc/fstab</span><br><span class="line">/dev/vdb3 swap swap defaults 0 0</span><br><span class="line"><span class="comment"># æ¿€æ´»SWAPæ–‡ä»¶</span></span><br><span class="line">swapon -a</span><br><span class="line"><span class="comment">#æŸ¥çœ‹äº¤æ¢åˆ†åŒºç»„æˆ</span></span><br><span class="line">swapon -s</span><br><span class="line">free -h</span><br><span class="line"></span><br><span class="line">**æ–¹æ³•äºŒ**</span><br><span class="line"><span class="comment"># åœ¨æ ¹ç›®å½•åˆ›å»ºåˆ†åŒºè·¯å¾„</span></span><br><span class="line">$ <span class="built_in">mkdir</span> -p /swap/</span><br><span class="line"><span class="comment"># è®¾ç½®åˆ†åŒºçš„å¤§å°</span></span><br><span class="line"><span class="comment"># bs=64Mæ˜¯å—å¤§å°ï¼Œcount=64æ˜¯å—æ•°é‡ï¼Œæ‰€ä»¥swapç©ºé—´å¤§å°æ˜¯bs*count=4096MB=4GB</span></span><br><span class="line">$ <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/swap/swap0 bs=64M count=64</span><br><span class="line"><span class="comment"># è®¾ç½®è¯¥ç›®å½•æƒé™</span></span><br><span class="line">$ <span class="built_in">chmod</span> 0600 /swap/swap0</span><br><span class="line"><span class="comment"># åˆ›å»ºSWAPæ–‡ä»¶</span></span><br><span class="line">$ mkswap /swap/swap0</span><br><span class="line"><span class="comment"># æ¿€æ´»SWAPæ–‡ä»¶</span></span><br><span class="line">$ swapon /swap/swap0</span><br><span class="line"><span class="comment"># æŸ¥çœ‹SWAPä¿¡æ¯æ˜¯å¦æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="LVM"><a href="#LVM" class="headerlink" title="LVM"></a>LVM</h2><table><thead><tr><th>PV</th><th>ç‰©ç†å·physical volume</th></tr></thead><tbody><tr><td>VG</td><td>å·ç»„Volume Group</td></tr><tr><td>LV</td><td>é€»è¾‘å·logical volume</td></tr></tbody></table><p><img src="https://prod-files-secure.s3.us-west-2.amazonaws.com/3afe2fdd-cad2-43f1-8adc-f1d3b699ee5c/94a1f2ee-e740-44cf-bd2c-a6c21df5515a/image.png" alt="image.png"></p><h3 id="pv-ç‰©ç†å·"><a href="#pv-ç‰©ç†å·" class="headerlink" title="pv-ç‰©ç†å·"></a>pv-ç‰©ç†å·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# pvcreate /dev/sdb1  /dev/sbd2</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹ç‰©ç†å·</span></span><br><span class="line">[root@newrain ~]# pvs</span><br></pre></td></tr></table></figure><h3 id="vg-å·ç»„"><a href="#vg-å·ç»„" class="headerlink" title="vg-å·ç»„"></a>vg-å·ç»„</h3><p>å°†åˆ›å»ºå¥½çš„ç‰©ç†å·ç»„æˆå·ç»„</p><p>ç›´æ¥åˆ›å»ºå·ç»„(ç³»ç»Ÿä¼šå…ˆå°†åˆ†åŒºæˆ–ç£ç›˜åˆ›å»ºä¸ºPVå†åˆ›å»ºå·ç»„ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# vgcreate vg1 /dev/sdb1</span><br><span class="line"> Volume group <span class="string">&quot;vg1&quot;</span> successfully created</span><br><span class="line">  </span><br><span class="line"> vgcreate -s [PEå¤§å°] </span><br><span class="line">  </span><br><span class="line">[root@localhost ~]# vgs</span><br></pre></td></tr></table></figure><h3 id="lv-é€»è¾‘å·"><a href="#lv-é€»è¾‘å·" class="headerlink" title="lv-é€»è¾‘å·"></a>lv-é€»è¾‘å·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºé€»è¾‘å·</span></span><br><span class="line">[root@localhost ~]# lvcreate -L 10G -n mylv vg1</span><br><span class="line">Logical volume <span class="string">&quot;mylv&quot;</span> created.</span><br><span class="line"></span><br><span class="line">-Lï¼šæŒ‡å®šé€»è¾‘å·çš„å¤§å°ï¼Œå¦‚ -L 10G è¡¨ç¤º 10GBã€‚</span><br><span class="line">-l [PEä¸ªæ•°] PEç‰©ç†æ‹“å±•å—</span><br><span class="line"></span><br><span class="line">æŸ¥çœ‹é€»è¾‘å·ä¿¡æ¯ï¼š</span><br><span class="line">lvs       //æ˜¾ç¤ºæœ‰å…³é€»è¾‘å·çš„ä¿¡æ¯</span><br><span class="line">lvscan     //æ‰«æå¹¶æ˜¾ç¤ºLVMé€»è¾‘å·</span><br><span class="line">lvdisplay   //æ˜¾ç¤ºLVMé€»è¾‘å·å±æ€§</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ ¼å¼åŒ–å¹¶æŒ‚è½½ä½¿ç”¨"><a href="#æ ¼å¼åŒ–å¹¶æŒ‚è½½ä½¿ç”¨" class="headerlink" title="æ ¼å¼åŒ–å¹¶æŒ‚è½½ä½¿ç”¨"></a><strong>æ ¼å¼åŒ–å¹¶æŒ‚è½½ä½¿ç”¨</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">[root@localhost ~]# mkfs.xfs /dev/vg1/mylv</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‚è½½ä½¿ç”¨</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">mkdir</span> /mount</span><br><span class="line">[root@localhost ~]# mount /dev/vg1/mylv /mount</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ‹“å±•ç©ºé—´"><a href="#æ‹“å±•ç©ºé—´" class="headerlink" title="æ‹“å±•ç©ºé—´"></a>æ‹“å±•ç©ºé—´</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æ‹“å±•å·ç»„  </span></span><br><span class="line">[root@localhost ~]# vgextend vg1 /dev/sdb5 </span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰©å®¹é€»è¾‘å·</span></span><br><span class="line">[root@localhost ~]# lvextend -L +9G /dev/vg1/mylv</span><br><span class="line"></span><br><span class="line">æ‰©å±•æ–‡ä»¶ç³»ç»Ÿï¼šå½“é€»è¾‘å·æ‰©å¤§ä»¥åï¼Œä¹Ÿéœ€è¦å¯¹é€»è¾‘å·çš„æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œæ‰©å±•</span><br><span class="line">æ‰©å±•æ–‡ä»¶ç³»ç»Ÿå®¹é‡ï¼š</span><br><span class="line">xfs_growfs <span class="comment">#ç”¨äºæ‰©å®¹XFSè®¾å¤‡</span></span><br><span class="line">resize2fs <span class="comment">#ç”¨äºæ‰©å®¹EXT3/EXT4è®¾å¤‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æ‰©å±•æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line"> xfs_growfs /dbbak</span><br><span class="line"> resize2fs /dev/myvol/vo</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&quot;FSæ–‡ä»¶ç³»ç»Ÿä¸ç£ç›˜ç®¡ç†&quot;</summary>
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="linux" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/linux/"/>
    
    
    <category term="linux" scheme="https://sosocrown.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>linux-æ–‡ä»¶çš„è®¿é—®æ§åˆ¶åˆ—è¡¨facl</title>
    <link href="https://sosocrown.github.io/2025/01/21/%E6%96%87%E4%BB%B6%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%88%97%E8%A1%A8facl/"/>
    <id>https://sosocrown.github.io/2025/01/21/%E6%96%87%E4%BB%B6%E7%9A%84%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E5%88%97%E8%A1%A8facl/</id>
    <published>2025-01-21T08:59:08.627Z</published>
    <updated>2025-05-07T09:52:42.995Z</updated>
    
    <content type="html"><![CDATA[<p><code>setfacl</code>å·¥å…·ï¼š è®¾ç½®å’Œä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLsï¼‰çš„å‘½ä»¤è¡Œå·¥å…·ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setfacl -m option:name[:permission] file</span><br></pre></td></tr></table></figure><ul><li><code>-m</code>Â è¡¨ç¤ºä¿®æ”¹ç°æœ‰çš„ ACL æ¡ç›®ã€‚</li><li><code>option</code>Â å¯ä»¥æ˜¯Â <code>u</code>ï¼ˆç”¨æˆ·ï¼‰ã€<code>g</code>ï¼ˆç»„ï¼‰ã€<code>o</code>ï¼ˆå…¶ä»–ï¼‰ã€<code>d</code>ï¼ˆé»˜è®¤ï¼‰ã€<code>-</code>ï¼ˆæ©ç ï¼Œç”¨äºé™åˆ¶é€šè¿‡ ACL æˆäºˆçš„æƒé™ï¼‰ã€‚</li><li><code>name</code>Â æ˜¯ç”¨æˆ·æˆ–ç»„çš„åç§°ã€‚</li><li><code>permission</code>Â æ˜¯é€—å·åˆ†éš”çš„æƒé™åˆ—è¡¨ï¼Œå¯ä»¥æ˜¯Â <code>r</code>ï¼ˆè¯»ï¼‰ã€<code>w</code>ï¼ˆå†™ï¼‰ã€<code>x</code>ï¼ˆæ‰§è¡Œï¼‰ã€<code>R</code>ï¼ˆè¯»ï¼Œä½†ä¸å…è®¸æ‰§è¡Œï¼‰ã€<code>W</code>ï¼ˆå†™ï¼Œä½†ä¸å…è®¸æ‰§è¡Œï¼‰ã€<code>X</code>ï¼ˆæ‰§è¡Œï¼Œä½†ä¸å…è®¸å†™ï¼‰ã€‚</li></ul>]]></content>
    
    
    <summary type="html">&quot;æ›´ç»†ç²’åº¦åœ°æ§åˆ¶æ–‡ä»¶å’Œç›®å½•çš„è®¿é—®æƒé™&quot;</summary>
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="linux" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/linux/"/>
    
    
    <category term="linux" scheme="https://sosocrown.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>ansible</title>
    <link href="https://sosocrown.github.io/2024/10/30/ansible/"/>
    <id>https://sosocrown.github.io/2024/10/30/ansible/</id>
    <published>2024-10-30T06:47:12.000Z</published>
    <updated>2025-05-07T01:34:22.738Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€å®‰è£…ä¸é…ç½®"><a href="#ä¸€ã€å®‰è£…ä¸é…ç½®" class="headerlink" title="ä¸€ã€å®‰è£…ä¸é…ç½®"></a><span style>ä¸€ã€å®‰è£…ä¸é…ç½®</span></h1><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1.å®‰è£…"></a>1.å®‰è£…</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#yumå®‰è£…</span></span><br><span class="line">yum install epel-release -y</span><br><span class="line">yum install ansible â€“y</span><br><span class="line"></span><br><span class="line"><span class="comment">#æŸ¥çœ‹ansibleç‰ˆæœ¬</span></span><br><span class="line">ansible --version</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-ç®¡ç†èŠ‚ç‚¹ä¸è¢«ç®¡ç†èŠ‚ç‚¹å»ºâ½´SSHä¿¡ä»»å…³ç³»"><a href="#2-ç®¡ç†èŠ‚ç‚¹ä¸è¢«ç®¡ç†èŠ‚ç‚¹å»ºâ½´SSHä¿¡ä»»å…³ç³»" class="headerlink" title="2.ç®¡ç†èŠ‚ç‚¹ä¸è¢«ç®¡ç†èŠ‚ç‚¹å»ºâ½´SSHä¿¡ä»»å…³ç³»"></a>2.ç®¡ç†èŠ‚ç‚¹ä¸è¢«ç®¡ç†èŠ‚ç‚¹å»ºâ½´SSHä¿¡ä»»å…³ç³»</h2><pre><code>2.1.ç”Ÿæˆç§é’¥[root@server ~]# ssh-keygen   2.2.å‘ä¸»æœºåˆ†å‘ç§é’¥[root@server ~]# ssh-copy-id root@192.168.37.122[root@server ~]# ssh-copy-id root@192.168.37.133</code></pre><h2 id="3-ansibleé…ç½®æ–‡ä»¶"><a href="#3-ansibleé…ç½®æ–‡ä»¶" class="headerlink" title="3. ansibleé…ç½®æ–‡ä»¶"></a>3. ansibleé…ç½®æ–‡ä»¶</h2><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºä¸»æœºæ¸…å•æ–‡ä»¶ ï¼šå†™åœ¨[]é‡Œçš„æ˜¯ç»„åï¼Œ[ ]ä¸‹é¢çš„æ˜¯ç»„å†…çš„ä¸»æœºå<br>[root@server ~]# vim &#x2F;etc&#x2F;ansible&#x2F;hosts<br>[web]<br>192.168.37.122<br>192.168.37.133</p><h1 id="äºŒã€æ ¸å¿ƒç»„ä»¶"><a href="#äºŒã€æ ¸å¿ƒç»„ä»¶" class="headerlink" title="äºŒã€æ ¸å¿ƒç»„ä»¶"></a>äºŒã€æ ¸å¿ƒç»„ä»¶</h1><p>ä¸»æœºæ¸…å•ï¼ˆInventoryï¼‰<br>æ¨¡å—ï¼ˆModulesï¼‰<br>ä»»åŠ¡ï¼ˆTasksï¼‰å’Œå‰§æœ¬ï¼ˆPlaybooksï¼‰<br>è§’è‰²ï¼ˆRolesï¼‰</p><h1 id="ä¸‰ã€ansible-doc-å‘½ä»¤è¡Œæ¨¡å—"><a href="#ä¸‰ã€ansible-doc-å‘½ä»¤è¡Œæ¨¡å—" class="headerlink" title=" ä¸‰ã€ansible-doc å‘½ä»¤è¡Œæ¨¡å—"></a><span style> ä¸‰ã€ansible-doc å‘½ä»¤è¡Œæ¨¡å—</span></h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ansible &lt;ipç»„&gt; -m &lt;æ¨¡å—&gt; -a &lt;argumentå‚æ•°&gt; [options]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ansible dev,<span class="built_in">test</span>,prod -a <span class="string">&#x27;getenforce&#x27;</span> </span><br></pre></td></tr></table></figure><p>å‘½ä»¤çš„å·¥ä½œç›®å½•é»˜è®¤æ˜¯è¿œç¨‹ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆ~ï¼‰ï¼Œcommand æ¨¡å—ä¸ä¼šä¿ç•™shellçš„ç¯å¢ƒçŠ¶æ€ï¼ˆåŒ…æ‹¬å½“å‰å·¥ä½œç›®å½•ï¼‰</p><p> ansible-doc -l  #åˆ—å‡ºå½“å‰ç³»ç»Ÿä¸­ansibleçš„æ‰€æœ‰æ¨¡å—<br>ansible-doc  -s  æ¨¡å—å   #æŸ¥çœ‹æ¨¡å—çš„å‚æ•°<br>ansible-doc  æ¨¡å—å   #æŸ¥çœ‹æ¨¡å—çš„è¯¦ç»†ä¿¡æ¯åŒ…æ‹¬ç”¨æ³•</p><h3 id="1-pingæ¨¡å—"><a href="#1-pingæ¨¡å—" class="headerlink" title="1.pingæ¨¡å—"></a>1.pingæ¨¡å—</h3><p><code>ansible all -m ping</code></p><h3 id="2-commandæ¨¡å—"><a href="#2-commandæ¨¡å—" class="headerlink" title="2.commandæ¨¡å—"></a>2.commandæ¨¡å—</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chdir=/etc/sysconfig  ---æ‰§è¡Œå‘½ä»¤å‰å…ˆåˆ‡æ¢åˆ°æŒ‡å®šç›®å½•</span><br><span class="line">creates=/doc/1.txtï¼šåˆ¤æ–­æŒ‡å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œä¸æ‰§è¡Œåé¢çš„æ“ä½œ</span><br><span class="line">removesï¼šåˆ¤æ–­æŒ‡å®šæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œæ‰§è¡Œåé¢çš„æ“ä½œ</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ï¼Œè¯¥å‘½ä»¤ä¸æ”¯æŒ&#x3D;&#x3D;<code>| ç®¡é“å‘½ä»¤</code>&#x3D;&#x3D;ã€‚</li></ul><p><code>ansible all -m command -a â€˜removes=/etc/sysconfig/network-scripts/ifcfg-ens33 ip addr â€™</code></p><h3 id="3-shellæ¨¡å—"><a href="#3-shellæ¨¡å—" class="headerlink" title="3.shellæ¨¡å—"></a>3.shellæ¨¡å—</h3><p>ansible all -m shell -a â€˜echo â€œniki_ansibleâ€ |cat &gt;&gt;1.txt&#96;</p><p>ansible webservers -m shell -a â€˜ifconfig | grep ens33â€™</p><p>ansible webservers -m shell -a â€˜ifconfig &gt; &#x2F;opt&#x2F;kx.txtâ€™</p><h3 id="4-fileæ¨¡å—"><a href="#4-fileæ¨¡å—" class="headerlink" title="4.fileæ¨¡å—"></a>4.fileæ¨¡å—</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">stateã€€ã€€#çŠ¶æ€ï¼Œæœ‰ä»¥ä¸‹é€‰é¡¹ï¼š</span><br><span class="line"></span><br><span class="line">directoryï¼šå¦‚æœç›®å½•ä¸å­˜åœ¨ï¼Œå°±åˆ›å»ºç›®å½•</span><br><span class="line">fileï¼šæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¸ä¼šè¢«åˆ›å»º</span><br><span class="line">touchï¼šæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶æˆ–ç›®å½•å·²å­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶æœ€åä¿®æ”¹æ—¶é—´</span><br><span class="line">absentï¼šåˆ é™¤ç›®å½•ã€æ–‡ä»¶æˆ–è€…å–æ¶ˆé“¾æ¥æ–‡ä»¶</span><br><span class="line">linkï¼šåˆ›å»ºè½¯é“¾æ¥ï¼Œhardï¼šåˆ›å»ºç¡¬é“¾æ¥</span><br></pre></td></tr></table></figure><p><code>ansible web -m file -a &#39;path=/data/app state=directoryâ€™</code>   åˆ›å»ºç›®å½•</p><p><code>ansible web -m file -a &#39;path=/data/a state=absentâ€™</code>      åˆ é™¤æ–‡ä»¶</p><p><code>ansible dbservers -m file -a &#39; group=root mode=644 path=/opt/host_ansible&#39;</code>Â #ä¿®æ”¹æ–‡ä»¶çš„å±ä¸»å±ç»„æƒé™ç­‰</p><h3 id="5-copyæ¨¡å—-å°†æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœº"><a href="#5-copyæ¨¡å—-å°†æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœº" class="headerlink" title="5.copyæ¨¡å—-å°†æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœº"></a>5.copyæ¨¡å—-å°†æ–‡ä»¶å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">srcã€€ã€€ã€€ã€€<span class="comment">#è¢«å¤åˆ¶åˆ°è¿œç¨‹ä¸»æœºçš„æœ¬åœ°æ–‡ä»¶ã€‚å¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚å¦‚æœè·¯å¾„æ˜¯ä¸€ä¸ªç›®å½•ï¼Œåˆ™ä¼šé€’å½’å¤åˆ¶ï¼Œç”¨æ³•ç±»ä¼¼äº&quot;rsync&quot;</span></span><br><span class="line">contentã€€ã€€ã€€<span class="comment">#ç”¨äºæ›¿æ¢&quot;src&quot;ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šæ–‡ä»¶çš„å€¼</span></span><br><span class="line">destã€€ã€€ã€€ã€€<span class="comment">#å¿…é€‰é¡¹ï¼Œå°†æºæ–‡ä»¶å¤åˆ¶åˆ°çš„è¿œç¨‹ä¸»æœºçš„ç»å¯¹è·¯å¾„</span></span><br><span class="line">backupã€€ã€€ã€€<span class="comment">#å½“æ–‡ä»¶å†…å®¹å‘ç”Ÿæ”¹å˜åï¼Œåœ¨è¦†ç›–ä¹‹å‰æŠŠæºæ–‡ä»¶å¤‡ä»½ï¼Œå¤‡ä»½æ–‡ä»¶åŒ…å«æ—¶é—´ä¿¡æ¯</span></span><br><span class="line">directory_modeã€€ã€€ã€€ã€€<span class="comment">#é€’å½’è®¾å®šç›®å½•çš„æƒé™ï¼Œé»˜è®¤ä¸ºç³»ç»Ÿé»˜è®¤æƒé™</span></span><br></pre></td></tr></table></figure><p> <code>ansible web -m copy -a &#39;src=~/hello dest=/data/hello&#39;</code> </p><p><code>ansible web -m copy -a &#39;content=&quot;I am keer\n&quot; dest=/data/name mode=666â€™</code></p><h3 id="6-fetch-æ¨¡å—-ä»è¿œç¨‹ä¸»æœºè·å–æ–‡ä»¶åˆ°æœ¬åœ°"><a href="#6-fetch-æ¨¡å—-ä»è¿œç¨‹ä¸»æœºè·å–æ–‡ä»¶åˆ°æœ¬åœ°" class="headerlink" title="6.fetch æ¨¡å—-ä»è¿œç¨‹ä¸»æœºè·å–æ–‡ä»¶åˆ°æœ¬åœ°"></a>6.<strong>fetch æ¨¡å—-ä»è¿œç¨‹ä¸»æœºè·å–æ–‡ä»¶åˆ°æœ¬åœ°</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">destï¼šç”¨æ¥å­˜æ”¾æ–‡ä»¶çš„ç›®å½•</span><br><span class="line">srcï¼šåœ¨è¿œç¨‹æ‹‰å–çš„æ–‡ä»¶ï¼Œ**å¹¶ä¸”å¿…é¡»æ˜¯ä¸€ä¸ªfile**ï¼Œä¸èƒ½æ˜¯ç›®å½•</span><br></pre></td></tr></table></figure><p><code>ansible web -m fetch -a &#39;src=/data/hello dest=/data&#39;</code>  </p><h3 id="7-yum-apt-æ¨¡å—"><a href="#7-yum-apt-æ¨¡å—" class="headerlink" title="7.yum&#x2F;apt æ¨¡å—"></a>7.<strong>yum&#x2F;apt æ¨¡å—</strong></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">nameï¼šè¦ç®¡ç†çš„åŒ…å</span></span><br><span class="line"><span class="string">stateï¼š#present---&gt;å®‰è£…</span> <span class="string">latest---&gt;å®‰è£…æœ€æ–°çš„,</span> <span class="string">absent---&gt;</span> <span class="string">å¸è½½è½¯ä»¶ã€‚</span></span><br></pre></td></tr></table></figure><hr><h3 id="8-service-æ¨¡å—"><a href="#8-service-æ¨¡å—" class="headerlink" title="8. service æ¨¡å—"></a>8. service æ¨¡å—</h3><p>ã€€ã€€è¯¥æ¨¡å—ç”¨äºæœåŠ¡ç¨‹åºçš„ç®¡ç†ã€‚<br>ã€€ã€€å…¶ä¸»è¦é€‰é¡¹å¦‚ä¸‹ï¼š</p><blockquote><p><code>arguments</code>Â #å‘½ä»¤è¡Œæä¾›é¢å¤–çš„å‚æ•°<br><code>enabled</code>Â #è®¾ç½®å¼€æœºå¯åŠ¨ã€‚<br><code>name=</code>Â #æœåŠ¡åç§°<br><code>runlevel</code>Â #å¼€æœºå¯åŠ¨çš„çº§åˆ«ï¼Œä¸€èˆ¬ä¸ç”¨æŒ‡å®šã€‚<br><code>sleep</code>Â #åœ¨é‡å¯æœåŠ¡çš„è¿‡ç¨‹ä¸­ï¼Œæ˜¯å¦ç­‰å¾…ã€‚å¦‚åœ¨æœåŠ¡å…³é—­ä»¥åç­‰å¾…2ç§’å†å¯åŠ¨ã€‚(å®šä¹‰åœ¨å‰§æœ¬ä¸­ã€‚)<br><code>state</code>Â #æœ‰å››ç§çŠ¶æ€ï¼Œåˆ†åˆ«ä¸ºï¼š<code>started</code>â€”&gt;å¯åŠ¨æœåŠ¡ï¼ŒÂ <code>stopped</code>â€”&gt;åœæ­¢æœåŠ¡ï¼ŒÂ <code>restarted</code>â€”&gt;é‡å¯æœåŠ¡ï¼ŒÂ <code>reloaded</code>â€”&gt;é‡è½½é…ç½®</p></blockquote><p>ã€€ã€€ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ï¼š<br><strong>â‘  å¼€å¯æœåŠ¡å¹¶è®¾ç½®è‡ªå¯åŠ¨</strong></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="meta">@server</span> ~]# ansible web -m service -a <span class="string">&#x27;name=nginx state=started enabled=true&#x27;</span> </span><br><span class="line"><span class="number">192.168</span>.<span class="number">37.122</span> | SUCCESS =&gt; &#123;</span><br><span class="line">    <span class="string">&quot;changed&quot;</span>: <span class="keyword">true</span>, </span><br><span class="line">    <span class="string">&quot;enabled&quot;</span>: <span class="keyword">true</span>, </span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;nginx&quot;</span>, </span><br><span class="line">    <span class="string">&quot;state&quot;</span>: <span class="string">&quot;started&quot;</span>, </span><br><span class="line">    â€¦â€¦</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">192.168</span>.<span class="number">37.133</span> | SUCCESS =&gt; &#123;</span><br><span class="line">    <span class="string">&quot;changed&quot;</span>: <span class="keyword">true</span>, </span><br><span class="line">    <span class="string">&quot;enabled&quot;</span>: <span class="keyword">true</span>, </span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;nginx&quot;</span>, </span><br><span class="line">    <span class="string">&quot;state&quot;</span>: <span class="string">&quot;started&quot;</span>, </span><br><span class="line">    â€¦â€¦</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="firewalld-æ¨¡å—"><a href="#firewalld-æ¨¡å—" class="headerlink" title="firewalld æ¨¡å—"></a>firewalld æ¨¡å—</h2><p>ä¸€ä¸ªåŠ¨æ€é˜²ç«å¢™ç®¡ç†å·¥å…·<br><strong>1. <strong>state</strong>ï¼šè®¾ç½®è§„åˆ™çš„çŠ¶æ€ã€‚<br>    - <code>enabled</code>ï¼šå¯ç”¨è§„åˆ™ã€‚<br>    - <code>disabled</code>ï¼šç¦ç”¨è§„åˆ™ã€‚<br>2. <strong>permanent</strong>ï¼šè®¾ç½®è§„åˆ™æ˜¯å¦æ°¸ä¹…ç”Ÿæ•ˆã€‚<br>    - <code>yes</code>ï¼šè§„åˆ™æ°¸ä¹…ç”Ÿæ•ˆï¼Œé‡å¯åä¾ç„¶æœ‰æ•ˆã€‚<br>    - <code>no</code>ï¼šè§„åˆ™ä¸´æ—¶ç”Ÿæ•ˆï¼Œé‡å¯åå¤±æ•ˆã€‚<br>3. <strong>immediate</strong>ï¼šæ˜¯å¦ç«‹å³åº”ç”¨è§„åˆ™å˜æ›´ã€‚<br>    - <code>yes</code>ï¼šç«‹å³åº”ç”¨è§„åˆ™å˜æ›´ã€‚<br>    - <code>no</code>ï¼šè§„åˆ™å˜æ›´å°†åœ¨ä¸‹ä¸€æ¬¡Â <code>firewalld</code>Â é‡å¯æ—¶ç”Ÿæ•ˆã€‚<br>4. <strong>service</strong>ï¼šæŒ‡å®šè¦å…è®¸æˆ–æ‹’ç»çš„æœåŠ¡åç§°ï¼Œä¾‹å¦‚ <code>http</code>ã€<code>https</code>ã€<code>ssh</code> ç­‰ã€‚<br>5. <strong>port</strong>ï¼šæŒ‡å®šè¦å…è®¸æˆ–æ‹’ç»çš„ç«¯å£ï¼Œå¯ä»¥æ˜¯å•ä¸ªç«¯å£ï¼ˆå¦‚ <code>8080/tcp</code>ï¼‰æˆ–ç«¯å£èŒƒå›´ï¼ˆå¦‚ <code>1024-2048/tcp</code>ï¼‰ã€‚</strong></p><pre><code><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#å¯åŠ¨ firewalld æœåŠ¡**ï¼š</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Start</span> <span class="string">firewalld</span> <span class="string">service</span></span><br><span class="line">  <span class="attr">ansible.builtin.firewalld:</span></span><br><span class="line">    <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line">    <span class="string">enabledï¼š</span> <span class="literal">yes</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#æ·»åŠ å…è®¸è§„åˆ™ï¼š</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Open</span> <span class="string">port</span> <span class="number">80</span> <span class="string">in</span> <span class="string">firewalld</span></span><br><span class="line">  <span class="attr">ansible.builtin.firewalld:</span></span><br><span class="line">    <span class="attr">service:</span> <span class="string">http</span></span><br><span class="line">    <span class="attr">permanent:</span> <span class="literal">yes</span></span><br><span class="line">    <span class="attr">state:</span> <span class="string">enabled</span></span><br><span class="line">    <span class="attr">immediate:</span> <span class="literal">yes</span></span><br></pre></td></tr></table></figure></code></pre><h2 id="Setupæ¨¡å—"><a href="#Setupæ¨¡å—" class="headerlink" title="Setupæ¨¡å—"></a>Setupæ¨¡å—</h2><p>ä½¿ç”¨<strong>setupæ¨¡å—</strong>è·å–è¢«ç®¡ç†ä¸»æœºçš„æ‰€æœ‰factsä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨filteræ¥æŸ¥çœ‹æŒ‡å®šçš„ä¿¡æ¯ã€‚setupæ¨¡å—è·å–çš„æ•´ä¸ªfactsä¿¡æ¯è¢«åŒ…è£…åœ¨ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ç»“æ„ä¸­ï¼Œansible_factsæ˜¯æœ€å¤–å±‚çš„å€¼ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹Ansible Ad-Hocå‘½ä»¤æŸ¥çœ‹factsä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ansible all -m setup | grep hostname</span><br><span class="line"></span><br><span class="line"> ansible all -m setup -a &#x27;filter=&quot;ansible_nodename&quot;&#x27;   </span><br></pre></td></tr></table></figure><h1 id="å››ã€playbook-å‰§æœ¬"><a href="#å››ã€playbook-å‰§æœ¬" class="headerlink" title="å››ã€playbook-å‰§æœ¬"></a>å››ã€playbook-å‰§æœ¬</h1><h3 id="playbookæ ¼å¼"><a href="#playbookæ ¼å¼" class="headerlink" title="playbookæ ¼å¼"></a>playbookæ ¼å¼</h3><p><strong>playbook æ˜¯ ansible ç”¨äºé…ç½®ï¼Œéƒ¨ç½²ï¼Œå’Œç®¡ç†è¢«æ§èŠ‚ç‚¹çš„å‰§æœ¬ã€‚</strong><code>ç±»ä¼¼äºè„šæœ¬</code></p><ol><li><code>-</code>å’Œ<code>:</code>åå¿…é¡»<font color="#ff0000">ç©ºä¸€æ ¼</font></li><li>å¤§å°å†™æ•æ„Ÿ,ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</li><li>ç¼©è¿›æ—¶ä¸å…è®¸ä½¿ç”¨tabé”®ã€åªå…è®¸ä½¿ç”¨ç©ºæ ¼</li><li>ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯</li><li><strong>ä»»åŠ¡åˆ—è¡¨</strong>ï¼šæ¯ä¸ªä»»åŠ¡å‰ä½¿ç”¨<code>-</code> è¡¨ç¤ºä¸€ä¸ªæ–°çš„ä»»åŠ¡ã€‚</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---   </span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Example</span> <span class="string">playbook</span>  </span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">webï¼štest</span>  <span class="comment"># æŒ‡å®šæ­¤ Play å°†åœ¨å“ªäº›ä¸»æœºä¸Šè¿è¡Œ</span></span><br><span class="line">  <span class="attr">remote_user:</span> <span class="string">root</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">tasks:</span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">connect</span> <span class="string">test</span>  </span><br><span class="line">      <span class="attr">ping:</span>    </span><br><span class="line">  </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">new</span> <span class="string">file</span>  </span><br><span class="line">      <span class="attr">file:</span> </span><br><span class="line">        <span class="attr">group:</span> <span class="string">root</span></span><br><span class="line">        <span class="attr">mode:</span> <span class="number">744</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/niki1/file1</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">touch</span> </span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    <span class="comment">#ä»¥ä¸Šä¸ºæ™®é€šå½¢å¼ï¼Œè¡Œæ•°è¾ƒå¤šï¼Œä½†æ›´å®¹æ˜“æ“ä½œã€‚ä»»åŠ¡çš„å…³é”®å­—å‚ç›´å †å ï¼Œæ›´å®¹æ˜“åŒºåˆ†ã€‚</span></span><br><span class="line">    <span class="comment">#ä»¥ä¸‹å¯ä»¥è¿è¡Œä½†ä¸æ¨è</span></span><br><span class="line">    <span class="attr">tasks:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">shorthand</span> <span class="string">form</span></span><br><span class="line">        <span class="attr">service:</span> <span class="string">name=httpd</span> <span class="string">enabled=true</span> <span class="string">state=started</span></span><br><span class="line">        </span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œå‰§æœ¬"><a href="#è¿è¡Œå‰§æœ¬" class="headerlink" title="è¿è¡Œå‰§æœ¬"></a>è¿è¡Œå‰§æœ¬</h3><p>ç©ºè¿è¡Œ <code>ansible-playbook -C pb.yml</code></p><p>ç›´æ¥è¿è¡Œ <code>ansible-playbook pb.yml</code></p><p>è¯­æ³•éªŒè¯ <strong><code>ansible-playbook --syntax-check pb.yml</code></strong></p><p>æŒ‡å®šä»æŸä¸ªtaskå¼€å§‹è¿è¡Œ<code>ansible-playbook pb.yml --start-at-task=&#39;xxx&#39;</code>  </p><p><font color="#00b050">| ç»¿è‰²ä»£è¡¨æ‰§è¡ŒæˆåŠŸï¼Œç³»ç»Ÿä¿æŒåŸæ ·</font></p><p><font color="#ffff00">| é»„è‰²ä»£è¡¨ç³»ç»Ÿä»£è¡¨ç³»ç»ŸçŠ¶æ€å‘ç”Ÿæ”¹å˜</font></p><p><font color="#ff0000">| çº¢è‰²ä»£è¡¨æ‰§è¡Œå¤±è´¥ï¼Œæ˜¾ç¤ºé”™è¯¯è¾“å‡º</font></p><h4 id="ansible-navigatorå®¹å™¨ä¸­è¿è¡Œå‰§æœ¬"><a href="#ansible-navigatorå®¹å™¨ä¸­è¿è¡Œå‰§æœ¬" class="headerlink" title="ansible-navigatorå®¹å™¨ä¸­è¿è¡Œå‰§æœ¬"></a>ansible-navigatorå®¹å™¨ä¸­è¿è¡Œå‰§æœ¬</h4><p>ansible-navigatorÂ åˆ©ç”¨å®¹å™¨åŒ–çš„æ‰§è¡Œç¯å¢ƒï¼Œç”¨äºä¸ Ansible Playbooksã€Rolesã€Collections ç­‰äº¤äº’ã€‚<br>ansible-navigator run playbook.yml <span style="background:rgba(173, 239, 239, 0.55)">-m stdout</span><br>-<code>-m stdout</code>ï¼šè¿™ä¸ªé€‰é¡¹æŒ‡å®šè¾“å‡ºæ¨¡å¼ä¸ºÂ <code>stdout</code>ï¼Œå³å°†æ‰§è¡Œç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼ˆç»ˆç«¯ï¼‰ï¼Œè€Œä¸æ˜¯ä½¿ç”¨äº¤äº’å¼ç•Œé¢ã€‚</p><h3 id="Handler-notify-è§¦å‘å™¨"><a href="#Handler-notify-è§¦å‘å™¨" class="headerlink" title="Handler+notify-è§¦å‘å™¨"></a><strong>Handler+notify-è§¦å‘å™¨</strong></h3><p>åœ¨ç‰¹å®šæ¡ä»¶ä¸‹è§¦å‘ï¼›æ¥æ”¶åˆ°å…¶å®ƒä»»åŠ¡çš„é€šçŸ¥<code>notify</code>æ—¶è¢«è§¦å‘</p><p>Handlers æœ€ä½³çš„åº”ç”¨åœºæ™¯æ˜¯ç”¨æ¥é‡å¯æœåŠ¡,æˆ–è€…è§¦å‘ç³»ç»Ÿé‡å¯æ“ä½œ.é™¤æ­¤ä»¥å¤–å¾ˆå°‘ç”¨åˆ°äº†.</p><h3 id="Tag-æ ‡ç­¾"><a href="#Tag-æ ‡ç­¾" class="headerlink" title="Tag-æ ‡ç­¾"></a>Tag-æ ‡ç­¾</h3><p>ä¸ºtasksæˆ–playæ·»åŠ æ ‡è®°ï¼Œé€‰æ‹©æ€§åœ°æ‰§è¡Œplaybookçš„ç‰¹å®šéƒ¨åˆ†ã€‚</p><h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><p>å¦‚æœå‘½ä»¤æˆ–è„šæœ¬çš„é€€å‡ºç ä¸ä¸ºé›¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ›¿ä»£</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">tasks:</span></span><br><span class="line">  <span class="string">-name:</span> <span class="string">run</span> <span class="string">this</span> <span class="string">command</span> <span class="string">and</span> <span class="string">ignore</span> <span class="string">the</span> <span class="string">result</span></span><br><span class="line">   <span class="attr">shell:</span> <span class="string">/usr/bin/somecommand</span> <span class="string">||</span> <span class="string">/bin/true</span></span><br><span class="line"><span class="string">è½¬é”™ä¸ºæ­£</span> <span class="string">å¦‚æœå‘½ä»¤å¤±è´¥åˆ™æ‰§è¡Œ</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="string">æˆ–è€…ä½¿ç”¨ignore_errorsæ¥å¿½ç•¥é”™è¯¯ä¿¡æ¯</span></span><br><span class="line"><span class="attr">tasks:</span></span><br><span class="line"><span class="string">-name:</span> <span class="string">run</span> <span class="string">this</span> <span class="string">command</span> <span class="string">and</span> <span class="string">ignore</span> <span class="string">the</span> <span class="string">result</span></span><br><span class="line"> <span class="attr">shell:</span> <span class="string">/usr/bin/somecommand</span></span><br><span class="line"> <span class="attr">ignore_errors:</span> <span class="literal">True</span> <span class="string">å¿½ç•¥é”™è¯¯</span></span><br></pre></td></tr></table></figure><h3 id="Variable-å˜é‡"><a href="#Variable-å˜é‡" class="headerlink" title="Variable-å˜é‡"></a><strong>Variable-å˜é‡</strong></h3><p>å˜é‡åï¼šä»…èƒ½ç”±å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ç»„æˆï¼Œä¸”åªèƒ½ä»¥å­—æ¯å¼€å¤´<br>å˜é‡å®šä¹‰ï¼šç›´æ¥å®šä¹‰  key&#x3D;value<br>æ ¹æ®å˜é‡çš„ä½œâ½¤èŒƒå›´â¼¤ä½“çš„å°†å˜é‡åˆ†ä¸º:</p><pre><code>å…¨å±€å˜é‡å‰§æœ¬å˜é‡èµ„äº§å˜é‡å†…ç½®å˜é‡:å†…ç½®å˜é‡â¼ä¹éƒ½æ˜¯ä»¥ ansible_ ä¸ºå‰ç¼€ã€‚ç³»ç»Ÿè‡ªå¸¦äº‹å®å˜é‡factsï¼šansible setupæ¨¡å—   </code></pre><p>  ansible all -m setup -a â€˜filter&#x3D;â€ansible_nodenameâ€â€˜     #æŸ¥è¯¢ä¸»æœºå</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">.ç³»ç»Ÿè‡ªå¸¦äº‹å®å˜é‡factsï¼šansible</span> <span class="string">setupæ¨¡å—</span>   </span><br><span class="line">  <span class="string">ansible</span> <span class="string">all</span> <span class="string">-m</span> <span class="string">setup</span> <span class="string">-a</span> <span class="string">&#x27;filter=&quot;ansible_nodename&quot;&#x27;</span>     <span class="comment">#æŸ¥è¯¢ä¸»æœºå</span></span><br><span class="line">  </span><br><span class="line"><span class="number">2</span><span class="string">./etc/ansible/hosts(ä¸»æœºæ¸…å•)ä¸­å®šä¹‰å˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span><span class="string">.åœ¨playbookä¸­å®šä¹‰</span></span><br><span class="line">       <span class="attr">vars:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">var1:</span> <span class="string">value1</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">var2:</span> <span class="string">value2</span></span><br><span class="line"></span><br><span class="line"><span class="number">4</span><span class="string">.åœ¨ç‹¬ç«‹çš„å˜é‡YAMLæ–‡ä»¶ä¸­å®šä¹‰</span></span><br><span class="line"><span class="string">vim</span> <span class="string">vars.yml</span></span><br><span class="line"><span class="attr">pack:</span> <span class="string">vsftpd</span></span><br><span class="line"><span class="attr">service:</span> <span class="string">vsftpd</span></span><br><span class="line"></span><br><span class="line"><span class="string">å¼•ç”¨å˜é‡æ–‡ä»¶</span></span><br><span class="line"><span class="attr">vars_files:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">vars.yml</span></span><br><span class="line">  </span><br></pre></td></tr></table></figure><p>å˜é‡è°ƒç”¨ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">é€šè¿‡&#123;&#123;</span> <span class="string">variable_name</span> <span class="string">&#125;&#125;</span> <span class="string">è°ƒç”¨å˜é‡</span></span><br><span class="line"><span class="string">é€šè¿‡-eæŒ‡å®š</span>  </span><br><span class="line"><span class="string">ansible-playbook</span> <span class="string">test.yml</span> <span class="string">-e</span> <span class="string">&quot;hosts=123&quot;</span></span><br></pre></td></tr></table></figure><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è°ƒç”¨å˜é‡æ–‡ä»¶   </span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">web</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">vars_log</span> <span class="string">file</span></span><br><span class="line">  <span class="attr">vars_files:</span></span><br><span class="line">     <span class="bullet">-</span> <span class="string">/niki2/vars.yml</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">new</span> <span class="string">file</span></span><br><span class="line">      <span class="attr">file:</span></span><br><span class="line">         <span class="attr">path:</span> <span class="string">/niki1/&#123;&#123;</span> <span class="string">name1</span> <span class="string">&#125;&#125;_log.txt</span></span><br><span class="line">         <span class="attr">mode:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; mode1 &#125;&#125;</span>&quot;</span></span><br><span class="line">         <span class="attr">state:</span> <span class="string">touch</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Template-æ¨¡æ¿"><a href="#Template-æ¨¡æ¿" class="headerlink" title="Template-æ¨¡æ¿"></a><strong>Template-æ¨¡æ¿</strong></h3><p>æ ¹æ®æ¨¡æ¿æ–‡ä»¶<strong>åŠ¨æ€</strong>ç”Ÿæˆå¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œå‘½åå¿…é¡»ä»¥Â <strong>.j2</strong>Â ç»“å°¾ï¼ˆ<code>Jinja2</code>ï¼šJinja2æ˜¯pythonçš„ä¸€ç§æ¨¡æ¿è¯­è¨€ï¼‰</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">remote_user:</span> <span class="string">root</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">install</span> <span class="string">nginx</span>  <span class="comment">#å®‰è£…nginxï¼Œè‹¥ä¸ºcentos7éœ€è¦å¯ç”¨ EPEL ä»“åº“</span></span><br><span class="line">      <span class="attr">yum:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">present</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">copy</span> <span class="string">template</span></span><br><span class="line">      <span class="attr">template:</span></span><br><span class="line">        <span class="attr">src:</span> <span class="string">/etc/ansible/templates/nginx.conf.j2</span> </span><br><span class="line">        <span class="comment">#nginx.conf.j2æ¨¡æ¿è®¾ç½®worker_processes çš„å€¼ä¸º   &#123;&#123; ansible_processor_vcpus*2&#125;&#125;;</span></span><br><span class="line">        <span class="attr">dest:</span> <span class="string">/etc/nginx/nginx.conf</span></span><br><span class="line">      <span class="attr">notify:</span> <span class="string">restart</span> <span class="string">service</span></span><br><span class="line">      </span><br><span class="line">     </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">service</span> <span class="string">start</span></span><br><span class="line">      <span class="attr">service:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">started</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">yes</span> <span class="comment">#å¼€æœºè‡ªå¯</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">handlers:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">restart</span> <span class="string">service</span></span><br><span class="line">      <span class="attr">service:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">restarted</span></span><br></pre></td></tr></table></figure><h3 id="æ¡ä»¶æµ‹è¯•whenä¸å¾ªç¯è¿­ä»£-with-items"><a href="#æ¡ä»¶æµ‹è¯•whenä¸å¾ªç¯è¿­ä»£-with-items" class="headerlink" title="æ¡ä»¶æµ‹è¯•whenä¸å¾ªç¯è¿­ä»£  with_items"></a>æ¡ä»¶æµ‹è¯•whenä¸å¾ªç¯è¿­ä»£  with_items</h3><ul><li><p>whenè¯­å¥ï¼šåœ¨taskä¸­ä½¿ç”¨</p></li><li><p>å¾ªç¯ï¼šè¿­ä»£ï¼Œéœ€è¦é‡å¤æ‰§è¡Œçš„ä»»åŠ¡ï¼›</p><p>  å¯¹è¿­ä»£é¡¹çš„å¼•ç”¨ï¼Œå›ºå®šå˜é‡åä¸ºâ€itemâ€ï¼Œè€Œåï¼Œè¦åœ¨taskä¸­ä½¿ç”¨with_itemsç»™å®šè¦è¿­ä»£çš„å…ƒç´ åˆ—è¡¨ï¼›</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">remote_user:</span> <span class="string">root</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">add</span> <span class="string">groups</span></span><br><span class="line">      <span class="attr">group:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; item &#125;&#125;</span>&quot;</span></span><br><span class="line">      <span class="attr">with_items:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">group1</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">group2</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">group3</span></span><br><span class="line"></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">add</span> <span class="string">users</span></span><br><span class="line">      <span class="attr">user:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; item.name &#125;&#125;</span>&quot;</span></span><br><span class="line">        <span class="attr">group:</span> <span class="string">&quot;<span class="template-variable">&#123;&#123; item.group &#125;&#125;</span>&quot;</span></span><br><span class="line">      <span class="attr">with_items:</span></span><br><span class="line">        <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">&#x27;u1&#x27;</span>,<span class="attr">group:</span> <span class="string">&#x27;group1&#x27;</span>&#125;</span><br><span class="line">        <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">&#x27;u2&#x27;</span>,<span class="attr">group:</span> <span class="string">&#x27;group2&#x27;</span>&#125;</span><br><span class="line">        <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">&#x27;u3&#x27;</span>,<span class="attr">group:</span> <span class="string">&#x27;group3&#x27;</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="äº”ã€roles-è§’è‰²"><a href="#äº”ã€roles-è§’è‰²" class="headerlink" title="äº”ã€roles-è§’è‰²"></a>äº”ã€roles-è§’è‰²</h1><p>ç”¨äº<strong>å±‚æ¬¡æ€§ï¼Œç»“æ„åŒ–</strong>åœ°ç»„ç»‡playbook<br>rolesé€šè¿‡åˆ†åˆ«å°†å˜é‡(vars)ã€æ–‡ä»¶(file)ã€ä»»åŠ¡(tasks)ã€æ¨¡å—(modules)åŠå¤„ç†å™¨(handlers)æ”¾ç½®äºå•ç‹¬çš„ç›®å½•ä¸­ï¼Œå¹¶å¯ä»¥ä¾¿æ·åœ°includeå®ƒä»¬çš„ä¸€ç§æœºåˆ¶ã€‚è§’è‰²ä¸€èˆ¬ç”¨äºåŸºäºä¸»æœºæ„å»ºæœåŠ¡çš„åœºæ™¯ä¸­ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯ç”¨äºæ„å»ºå®ˆæŠ¤è¿›ç¨‹ç­‰åœºæ™¯ä¸­ã€‚ </p><h3 id="åˆ›å»ºrole"><a href="#åˆ›å»ºrole" class="headerlink" title="åˆ›å»ºrole"></a>åˆ›å»ºrole</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ansible-galaxy init my_role</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å®‰è£…roels"><a href="#å®‰è£…roels" class="headerlink" title="å®‰è£…roels"></a>å®‰è£…roels</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç›´æ¥ä»galaxyå®‰è£…</span></span><br><span class="line">ansible-galaxy install &lt;role_name&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä» requirements.yml æ–‡ä»¶å®‰è£…å¤šä¸ªè§’è‰²</span></span><br><span class="line">vim requirements.yml</span><br><span class="line"></span><br><span class="line">- src: geerlingguy.apache</span><br><span class="line">- src: geerlingguy.mysql</span><br><span class="line">- </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®‰è£…</span></span><br><span class="line">ansible-galaxy install -r requirements.yml</span><br><span class="line">---</span><br><span class="line"> - name: webservers role</span><br><span class="line">   hosts: webservers</span><br><span class="line">   roles:</span><br><span class="line"> - apache</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="å…­ã€collection-é›†åˆ"><a href="#å…­ã€collection-é›†åˆ" class="headerlink" title="å…­ã€collection-é›†åˆ"></a>å…­ã€collection-é›†åˆ</h1><p>Collection æ˜¯ä¸€ä¸ªæ›´é«˜çº§çš„å°è£…ï¼ŒåŒ…å«å¤šä¸ª Rolesã€æ¨¡å—ã€æ’ä»¶ç­‰ï¼Œå…è®¸ç”¨æˆ·æ›´å…¨é¢åœ°å…±äº«å’Œåˆ†å‘è‡ªåŠ¨åŒ–å†…å®¹ã€‚å®ƒå¯ä»¥åŒ…å«å¤šä¸ªåŠŸèƒ½æ¨¡å—ï¼Œé€‚ç”¨äºæ›´å¤æ‚çš„é¡¹ç›®ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨-Ansible-Collections"><a href="#å¦‚ä½•ä½¿ç”¨-Ansible-Collections" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ Ansible Collections"></a>å¦‚ä½•ä½¿ç”¨ Ansible Collections</h2><h3 id="1ã€å®‰è£…-Collection"><a href="#1ã€å®‰è£…-Collection" class="headerlink" title="1ã€å®‰è£… Collection"></a>1ã€å®‰è£… Collection</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¯ä»¥ä» Ansible Galaxy æˆ–å…¶ä»–æ¥æºå®‰è£… Collectionï¼š</span></span><br><span class="line">ansible-galaxy collection install &lt;namespace&gt;.&lt;collection_name&gt;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ä¹Ÿå¯ä»¥ä»æœ¬åœ°ç›®å½•æˆ–é€šè¿‡ requirements.yml æ–‡ä»¶å®‰è£…collectionï¼š</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2ã€Playbook-ä¸­ä½¿ç”¨-Collection"><a href="#2ã€Playbook-ä¸­ä½¿ç”¨-Collection" class="headerlink" title="2ã€Playbook ä¸­ä½¿ç”¨ Collection"></a>2ã€Playbook ä¸­ä½¿ç”¨ Collection</h3><p>åœ¨ä½ çš„ playbook.yml æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šè¦ä½¿ç”¨çš„ Collectionï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Example</span> <span class="string">Playbook</span></span><br><span class="line">  <span class="attr">hosts:</span> <span class="string">all</span></span><br><span class="line">  <span class="attr">collections:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">my_namespace.my_collection</span></span><br><span class="line">  <span class="attr">tasks:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Example</span> <span class="string">task</span></span><br><span class="line">      <span class="attr">my_namespace.my_collection.my_module:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">example</span></span><br><span class="line">        <span class="attr">state:</span> <span class="string">present</span></span><br></pre></td></tr></table></figure><h3 id="3ã€ç®¡ç†-Collection"><a href="#3ã€ç®¡ç†-Collection" class="headerlink" title="3ã€ç®¡ç† Collection"></a>3ã€ç®¡ç† Collection</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ—å‡ºå·²å®‰è£…çš„ Collectionï¼š</span></span><br><span class="line">ansible-galaxy collection list</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å¸è½½ Collectionï¼š</span></span><br><span class="line">ansible-galaxy collection uninstall my_namespace.my_collection</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨-requirements-yml-æ–‡ä»¶ç®¡ç†-Collection"><a href="#ä½¿ç”¨-requirements-yml-æ–‡ä»¶ç®¡ç†-Collection" class="headerlink" title="ä½¿ç”¨ requirements.yml æ–‡ä»¶ç®¡ç† Collection"></a>ä½¿ç”¨ requirements.yml æ–‡ä»¶ç®¡ç† Collection</h3><blockquote><p>[!success] Title<br>åˆ›å»ºä¸€ä¸ª requirements.yml æ–‡ä»¶æ¥ç®¡ç† Collection </p><p>collectionsæ¨¡å—ä¸­nameé€šå¸¸ä¸ºé›†åˆåå­—ã€‚<strong>å¦‚æœç›´æ¥æä¾› URLï¼Œæ ¼å¼ä¸ºå®Œæ•´çš„é“¾æ¥ã€‚</strong></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">collections:</span><br><span class="line">  - name: my_namespace.my_collection</span><br><span class="line">    source: https://my.custom.repo/path/to/collection/</span><br><span class="line">    version: 1.0.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">ç„¶åä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…æ‰€æœ‰ Collectionï¼š</span></span><br><span class="line">ansible-galaxy collection install -r requirements.yml </span><br><span class="line"></span><br><span class="line">-r, --requirements</span><br><span class="line">ä»æŒ‡å®šçš„ requirements æ–‡ä»¶ä¸­å®‰è£… Collectionsã€‚</span><br><span class="line"></span><br><span class="line">-p, --collections-path</span><br><span class="line">æŒ‡å®šå®‰è£… Collections çš„ç›®å½•ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤å®‰è£…åˆ°ç³»ç»Ÿçš„ Ansible Collections è·¯å¾„ã€‚</span><br></pre></td></tr></table></figure><h1 id="ä¸ƒã€ansible-galaxy"><a href="#ä¸ƒã€ansible-galaxy" class="headerlink" title="ä¸ƒã€ansible galaxy"></a>ä¸ƒã€ansible galaxy</h1><p><a href="https://galaxy.ansible.com/ui/search/">https://galaxy.ansible.com/ui/search/</a><br>Ansible Galaxy æ˜¯ä¸€ä¸ªåœ¨çº¿å¹³å°ï¼Œæä¾›ä¸€ä¸ªå¹¿æ³›çš„ Ansible èµ„æºåº“ï¼ŒåŒ…æ‹¬Â <strong>è§’è‰²ï¼ˆrolesï¼‰</strong>ã€<strong>é›†åˆï¼ˆcollectionsï¼‰</strong>Â å’Œå…¶ä»–è‡ªåŠ¨åŒ–å†…å®¹ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡ Galaxy æœç´¢ã€ä¸‹è½½å’Œåˆ†äº«è¿™äº›èµ„æºã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å®‰è£…è§’è‰²</span></span><br><span class="line">ansible-galaxy role install &lt;role_name&gt;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ—å‡ºå·²å®‰è£…çš„è§’è‰²æˆ–é›†åˆï¼š</span></span><br><span class="line">ansible-galaxy role list</span><br></pre></td></tr></table></figure><h1 id="å…«ã€debug-msg"><a href="#å…«ã€debug-msg" class="headerlink" title="å…«ã€debug  msg"></a>å…«ã€debug  msg</h1><p>åœ¨Ansibleä¸­ï¼Œ<code>debug</code>æ¨¡å—æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå®ƒå…è®¸ä½ åœ¨æ‰§è¡Œä»»åŠ¡æ—¶è¾“å‡ºå˜é‡çš„å€¼æˆ–æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¿¡æ¯ã€‚è¿™å¯¹äºè°ƒè¯•å’Œç†è§£ä½ çš„Ansible playbooksçš„æ‰§è¡Œæµç¨‹éå¸¸æœ‰ç”¨ã€‚</p><h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><ol><li><p><strong>åŸºæœ¬ç”¨æ³•</strong>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">a</span> <span class="string">debug</span> <span class="string">message</span></span><br><span class="line">  <span class="attr">debug:</span></span><br><span class="line">    <span class="attr">msg:</span> <span class="string">&quot;This is a debug message&quot;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>è¾“å‡ºå˜é‡</strong>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">the</span> <span class="string">value</span> <span class="string">of</span> <span class="string">a</span> <span class="string">variable</span></span><br><span class="line">  <span class="attr">debug:</span></span><br><span class="line">    <span class="attr">msg:</span> <span class="string">&quot;The value of my_var is <span class="template-variable">&#123;&#123; my_var &#125;&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure></li><li><p><strong>æ¡ä»¶è¾“å‡º</strong>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">a</span> <span class="string">message</span> <span class="string">if</span> <span class="string">a</span> <span class="string">condition</span> <span class="string">is</span> <span class="string">met</span></span><br><span class="line">  <span class="attr">debug:</span></span><br><span class="line">    <span class="attr">msg:</span> <span class="string">&quot;This will only print if the condition is true&quot;</span></span><br><span class="line">  <span class="attr">when:</span> <span class="string">my_condition</span> <span class="string">is</span> <span class="string">defined</span> <span class="string">and</span> <span class="string">my_condition</span></span><br></pre></td></tr></table></figure></li><li><p><strong>è¾“å‡ºå˜é‡å†…å®¹</strong>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Print</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">a</span> <span class="string">variable</span></span><br><span class="line">  <span class="attr">debug:</span></span><br><span class="line">    <span class="attr">var:</span> <span class="string">my_var</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="è°ƒè¯•æŠ€å·§"><a href="#è°ƒè¯•æŠ€å·§" class="headerlink" title="è°ƒè¯•æŠ€å·§"></a>è°ƒè¯•æŠ€å·§</h3><ul><li><strong>åœ¨æ¯ä¸ªä»»åŠ¡åæ·»åŠ debugæ¨¡å—</strong>: è¿™å¯ä»¥å¸®åŠ©ä½ è·Ÿè¸ªå˜é‡çš„å€¼å’Œä»»åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚</li><li><strong>ä½¿ç”¨<code>when</code>æ¡ä»¶</strong>: åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹è¾“å‡ºä¿¡æ¯ï¼Œé¿å…ä¸å¿…è¦çš„è¾“å‡ºã€‚</li><li><strong>ä½¿ç”¨<code>verbosity</code></strong>: é€šè¿‡å¢åŠ verbosityçº§åˆ«ï¼Œå¯ä»¥è¾“å‡ºæ›´å¤šçš„è°ƒè¯•ä¿¡æ¯ã€‚åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨<code>-v</code>æˆ–<code>-vv</code>å‚æ•°ã€‚</li></ul><h1 id="ä¹ã€ansible-vault"><a href="#ä¹ã€ansible-vault" class="headerlink" title="ä¹ã€ansible-vault"></a>ä¹ã€ansible-vault</h1><p><code>ansible-vault</code> æ˜¯ä¸€ä¸ªç”¨äºåŠ å¯†å’Œè§£å¯†æ•æ„Ÿæ•°æ®çš„å·¥å…·ã€‚å®ƒå…è®¸ä½ ä»¥åŠ å¯†çš„å½¢å¼å­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚å¯†ç ã€å¯†é’¥æˆ–ä»»ä½•å…¶ä»–æ•æ„Ÿæ•°æ®ï¼Œä»¥ç¡®ä¿è¿™äº›ä¿¡æ¯åœ¨Playbookså’Œå˜é‡æ–‡ä»¶ä¸­ä¸ä¼šè¢«æš´éœ²ã€‚</p>]]></content>
    
    
    <summary type="html">&quot;å¼€æºçš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œä¸“é—¨ç”¨äºé…ç½®ç®¡ç†ã€åº”ç”¨ç¨‹åºéƒ¨ç½²ä»¥åŠ IT åŸºç¡€è®¾æ–½çš„è‡ªåŠ¨åŒ–ã€‚é‡‡ç”¨æ— ä»£ç†ï¼ˆagentlessï¼‰è®¾è®¡ã€‚Ansible èƒ½å¤Ÿè½»æ¾åœ°å°†ç³»ç»Ÿæˆ–åº”ç”¨é…ç½®æ¨é€åˆ°å¤šå°æœºå™¨ä¸Šï¼Œç¡®ä¿ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚&quot;</summary>
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="DevOps" scheme="https://sosocrown.github.io/tags/DevOps/"/>
    
    <category term="è¿ç»´" scheme="https://sosocrown.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="#Automation" scheme="https://sosocrown.github.io/tags/Automation/"/>
    
  </entry>
  
  <entry>
    <title>linuxç”¨æˆ·ä¸ç»„ç®¡ç†</title>
    <link href="https://sosocrown.github.io/2024/07/20/%E7%94%A8%E6%88%B7%E4%B8%8E%E7%BB%84%E7%AE%A1%E7%90%86/"/>
    <id>https://sosocrown.github.io/2024/07/20/%E7%94%A8%E6%88%B7%E4%B8%8E%E7%BB%84%E7%AE%A1%E7%90%86/</id>
    <published>2024-07-19T16:00:00.000Z</published>
    <updated>2025-05-07T09:51:43.347Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç”¨æˆ·ä¸ç»„ç®¡ç†"><a href="#ç”¨æˆ·ä¸ç»„ç®¡ç†" class="headerlink" title="ç”¨æˆ·ä¸ç»„ç®¡ç†"></a>ç”¨æˆ·ä¸ç»„ç®¡ç†</h2><h3 id="useraddåˆ›å»ºç”¨æˆ·"><a href="#useraddåˆ›å»ºç”¨æˆ·" class="headerlink" title="useraddåˆ›å»ºç”¨æˆ·"></a>useraddåˆ›å»ºç”¨æˆ·</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">å¸¸ç”¨é€‰é¡¹ï¼š</span><br><span class="line">-u æŒ‡å®šç”¨æˆ·UID</span><br><span class="line">-d æŒ‡å®šç”¨æˆ·å®¶ç›®å½•</span><br><span class="line">-c --commentç”¨æˆ·æè¿°ä¿¡æ¯</span><br><span class="line">-g æŒ‡å®šç”¨æˆ·gid</span><br><span class="line">-G æŒ‡å®šç”¨æˆ·é™„åŠ ç»„ï¼ˆæ¬¡è¦ç»„ï¼‰</span><br><span class="line">-s --shellæŒ‡å®šç”¨æˆ·çš„è§£é‡Šå™¨ç¨‹åº   </span><br><span class="line">â½†æƒè®¿é—®ç³»ç»Ÿä¸Šçš„äº¤äº’å¼shellï¼š/sbin/noloogin   /bin/false</span><br><span class="line"></span><br><span class="line"><span class="comment">#åˆ›å»ºç”¨æˆ·æŒ‡å®šç”¨æˆ·UIDã€æè¿°ä¿¡æ¯ã€é™„åŠ ç»„</span></span><br><span class="line">[root@localhost ~]# useradd -u 1600 -c yunwei -G <span class="built_in">test</span> xiaozhang</span><br><span class="line">[root@localhost ~]# <span class="built_in">id</span> xiaozhang</span><br><span class="line">uid=1600(xiaozhang) gid=1600(xiaozhang) ç»„=1600(xiaozhang),1401(<span class="built_in">test</span>)</span><br></pre></td></tr></table></figure><h3 id="groupaddåˆ›å»ºç»„"><a href="#groupaddåˆ›å»ºç»„" class="headerlink" title="groupaddåˆ›å»ºç»„"></a>groupaddåˆ›å»ºç»„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#åˆ›å»ºç»„</span></span><br><span class="line"> groupadd -g GID   <span class="comment">#æŒ‡å®šç»„çš„GID</span></span><br><span class="line">[root@localhost ~]# groupadd -g 1555 student</span><br></pre></td></tr></table></figure><h3 id="chgrpæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æ‰€å±ç»„"><a href="#chgrpæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æ‰€å±ç»„" class="headerlink" title="chgrpæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æ‰€å±ç»„"></a>chgrpæ”¹å˜æ–‡ä»¶æˆ–ç›®å½•æ‰€å±ç»„</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#æŸ¥çœ‹æ–‡ä»¶æˆ–ç›®å½•æ‰€å±ç»„</span></span><br><span class="line"><span class="built_in">ls</span> -l</span><br><span class="line"></span><br><span class="line"><span class="built_in">chgrp</span> [é€‰é¡¹] [æ‰€å±ç»„] æ–‡ä»¶/ç›®å½•</span><br><span class="line">--reference=RFILE  ä½¿ç”¨å‚è€ƒæ–‡ä»¶çš„æ‰€å±ç»„</span><br><span class="line">-R  é€’å½’çš„æ›´æ”¹ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•ä»¥åŠæ–‡ä»¶</span><br><span class="line"></span><br><span class="line"><span class="built_in">chgrp</span> group1 /etc/niki</span><br><span class="line"></span><br><span class="line">sgidï¼šç»™ç›®å½•è®¾ç½®äº†sgidæƒé™ï¼Œåœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºçš„æ–‡ä»¶æˆ–è€…ç›®å½•çš„**å±ç»„**éƒ½ä¸è¯¥ç›®å½•ä¸€è‡´</span><br><span class="line"></span><br><span class="line">æˆæƒæ ¼å¼ï¼š</span><br><span class="line"><span class="built_in">chmod</span> g+s æ–‡ä»¶åç§°</span><br><span class="line">æ’¤é”€æ ¼å¼ï¼š</span><br><span class="line"><span class="built_in">chmod</span> g-s æ–‡ä»¶åç§°</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="chownå½’å±å…³ç³»ç®¡ç†"><a href="#chownå½’å±å…³ç³»ç®¡ç†" class="headerlink" title="chownå½’å±å…³ç³»ç®¡ç†"></a>chownå½’å±å…³ç³»ç®¡ç†</h3><p>chownï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šchange ownerï¼‰ç”¨äºè®¾ç½®æ–‡ä»¶çš„æ‰€æœ‰è€…å’Œæ‰€å±ç»„å…³ç³»</p><ul><li>å‘½ä»¤æ ¼å¼ï¼š<ul><li>chown [-é€‰é¡¹] æ‰€æœ‰è€…:æ‰€å±ç»„ æ–‡æ¡£</li><li>chown [-é€‰é¡¹] æ‰€æœ‰è€… æ–‡æ¡£</li><li>chown [-é€‰é¡¹] :æ‰€å±ç»„ æ–‡æ¡£</li></ul></li><li>å¸¸ç”¨é€‰é¡¹:<ul><li><code>R</code>Â é€’å½’åœ°æ”¹å˜æŒ‡å®šç›®å½•åŠå…¶å­ç›®å½•å’Œæ–‡ä»¶çš„æ‰€æœ‰è€…</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ä¸æ‰€å±ç»„ä¸ºlisi</span></span><br><span class="line">[root@localhost ~]# <span class="built_in">chown</span> lisi:lisi /hello.txt </span><br></pre></td></tr></table></figure><h3 id="idæŸ¥çœ‹ä¿¡æ¯"><a href="#idæŸ¥çœ‹ä¿¡æ¯" class="headerlink" title="idæŸ¥çœ‹ä¿¡æ¯"></a>idæŸ¥çœ‹ä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# <span class="built_in">id</span> user1</span><br><span class="line">uid=1001(user1) gid=1001(user1) ç»„=1001(user1)</span><br></pre></td></tr></table></figure><h3 id="passwdä¿®æ”¹å¯†ç "><a href="#passwdä¿®æ”¹å¯†ç " class="headerlink" title="passwdä¿®æ”¹å¯†ç "></a>passwdä¿®æ”¹å¯†ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®ç”¨æˆ·å¯†ç </span></span><br><span class="line">[root@localhost ~]# passwd user1</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å¯†ç  |passwd --stdin user1</span><br></pre></td></tr></table></figure><h3 id="etc-passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶"><a href="#etc-passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶" class="headerlink" title="&#x2F;etc&#x2F;passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶"></a>&#x2F;etc&#x2F;passwdç”¨æˆ·ä¿¡æ¯æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">**[root@localhost ~]# vim /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"><span class="comment">#æ¯ä¸ªå­—æ®µå«ä¹‰è§£é‡Šï¼šç”¨æˆ·å:å¯†ç å ä½ç¬¦:UID:åŸºæœ¬ç»„GID:ç”¨æˆ·æè¿°ä¿¡æ¯:å®¶ç›®å½•:è§£é‡Šå™¨ç¨‹åº</span></span><br><span class="line">UIDï¼š0 è¶…çº§ç”¨æˆ·</span><br><span class="line">UIDï¼š1-999 ç³»ç»Ÿä¼ªç”¨æˆ·ï¼Œä¸èƒ½ç™»å½•ç³»ç»Ÿ</span><br><span class="line">UIDï¼š1000-65535 æ™®é€šç”¨æˆ·ï¼Œç®¡ç†å‘˜åˆ›å»ºçš„ç”¨æˆ·**</span><br></pre></td></tr></table></figure><h3 id="wheelç”¨æˆ·ç»„"><a href="#wheelç”¨æˆ·ç»„" class="headerlink" title="wheelç”¨æˆ·ç»„"></a>wheelç”¨æˆ·ç»„</h3><p><a href="https://www.cnblogs.com/linuxshare/p/18609179">linuxä¸­çš„wheelç”¨æˆ· - çˆ±æŠ˜è…¾çš„å¤§è‡­è‡­ - åšå®¢å›­</a></p>]]></content>
    
    
    <summary type="html">&quot;Linux ç³»ç»Ÿä¸­ç”¨æˆ·å’Œç»„ç®¡ç†çš„åŸºæœ¬æ“ä½œï¼ŒåŒ…æ‹¬å¦‚ä½•åˆ›å»ºç”¨æˆ·å’Œç»„ã€ä¿®æ”¹æ–‡ä»¶æ‰€å±çš„ç”¨æˆ·å’Œç»„ï¼Œä»¥åŠç®¡ç†ç”¨æˆ·å¯†ç ç­‰ã€‚&quot;</summary>
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="linux" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/linux/"/>
    
    
    <category term="linux" scheme="https://sosocrown.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>docker</title>
    <link href="https://sosocrown.github.io/2023/10/20/docker/"/>
    <id>https://sosocrown.github.io/2023/10/20/docker/</id>
    <published>2023-10-20T06:47:12.000Z</published>
    <updated>2025-05-07T02:38:34.901Z</updated>
    
    <content type="html"><![CDATA[<h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><p><img src="/(/images/U1.png" alt="Untitled"></p><h2 id="ä¸€ï¼šDockeråŸºç¡€ã€"><a href="#ä¸€ï¼šDockeråŸºç¡€ã€" class="headerlink" title="ä¸€ï¼šDockeråŸºç¡€ã€"></a>ä¸€ï¼šDockeråŸºç¡€ã€</h2><h3 id="ä»€ä¹ˆæ˜¯Dockerï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Dockerï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Dockerï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Dockerï¼Ÿ</h3><h3 id="Dockeræ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Dockeræ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Dockeræ˜¯ä»€ä¹ˆï¼Ÿ"></a><strong>Dockeræ˜¯ä»€ä¹ˆï¼Ÿ</strong></h3><p><strong>å¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œç”¨äºæ„å»ºã€æ‰“åŒ…å’Œè¿è¡Œåº”ç”¨ç¨‹åºå’ŒæœåŠ¡</strong></p><h3 id="æ¶æ„ï¼šclient-server"><a href="#æ¶æ„ï¼šclient-server" class="headerlink" title="æ¶æ„ï¼šclient-server"></a>æ¶æ„ï¼š<strong>client-server</strong></h3><p><img src="/(/images/U2.png" alt="Untitled"></p><h3 id="Dockerçš„ä¼˜åŠ¿å’Œç”¨é€”"><a href="#Dockerçš„ä¼˜åŠ¿å’Œç”¨é€”" class="headerlink" title="Dockerçš„ä¼˜åŠ¿å’Œç”¨é€”"></a>Dockerçš„ä¼˜åŠ¿å’Œç”¨é€”</h3><ol><li><p><strong>è½»é‡çº§å®¹å™¨ï¼š</strong> Dockerå®¹å™¨ç›¸å¯¹äºä¼ ç»Ÿè™šæ‹Ÿæœºæ›´è½»é‡ï¼Œå› ä¸ºå®ƒä»¬å…±äº«æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œè€Œä¸æ˜¯è¿è¡Œå®Œæ•´çš„æ“ä½œç³»ç»Ÿã€‚è¿™ä½¿å¾—å®¹å™¨æ›´å¿«é€Ÿå¯åŠ¨ã€æ›´èŠ‚çœèµ„æºï¼Œå¹¶æé«˜äº†å¯æ‰©å±•æ€§ã€‚</p></li><li><p><strong>ä¸€è‡´æ€§å’Œå¯ç§»æ¤æ€§ï¼š</strong> Dockerå®¹å™¨å°è£…äº†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ï¼Œç¡®ä¿åœ¨ä¸åŒç¯å¢ƒä¸­è¿è¡Œä¸€è‡´ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒä¹‹é—´è½»æ¾è¿ç§»åº”ç”¨ç¨‹åºã€‚</p></li><li><p><strong>å¿«é€Ÿéƒ¨ç½²ï¼š</strong> Dockerå®¹å™¨å¯ä»¥è¿…é€Ÿå¯åŠ¨å’Œåœæ­¢ï¼Œå› æ­¤å¯ä»¥æ›´å¿«é€Ÿåœ°éƒ¨ç½²å’Œæ›´æ–°åº”ç”¨ç¨‹åºï¼Œæœ‰åŠ©äºå®ç°æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ï¼ˆCI&#x2F;CDï¼‰ã€‚</p></li><li><p><strong>éš”ç¦»æ€§ï¼š</strong> Dockeræä¾›äº†å¼ºå¤§çš„å®¹å™¨éš”ç¦»ï¼Œç¡®ä¿å®¹å™¨å†…çš„åº”ç”¨ç¨‹åºä¸ä¼šç›¸äº’å¹²æ‰°ï¼Œå¹¶æä¾›äº†ä¸€å®šç¨‹åº¦çš„å®‰å…¨æ€§ã€‚</p></li><li><p><strong>ç”Ÿæ€ç³»ç»Ÿå’Œç¤¾åŒºæ”¯æŒï¼š</strong> Dockeræ‹¥æœ‰å¹¿æ³›çš„ç”Ÿæ€ç³»ç»Ÿå’Œå¼ºå¤§çš„ç¤¾åŒºæ”¯æŒï¼Œæœ‰å¤§é‡çš„å®˜æ–¹å’Œç¬¬ä¸‰æ–¹å®¹å™¨é•œåƒï¼Œä»¥åŠä¸°å¯Œçš„å·¥å…·å’Œæ’ä»¶ï¼Œä½¿å¾—å®ƒæ›´å®¹æ˜“é›†æˆåˆ°ä¸åŒçš„åº”ç”¨å’ŒåŸºç¡€æ¶æ„ä¸­ã€‚</p></li></ol><p>ğŸ“Œ ç”¨é€”</p><ol start="6"><li><p><strong>å¾®æœåŠ¡æ¶æ„ï¼š</strong> Dockerå®¹å™¨å¯ç”¨äºæ„å»ºå’Œç®¡ç†å¾®æœåŠ¡ï¼Œä½¿æ¯ä¸ªå¾®æœåŠ¡éƒ½è¿è¡Œåœ¨ç‹¬ç«‹çš„å®¹å™¨ä¸­ï¼Œæœ‰åŠ©äºç³»ç»Ÿçš„æ¨¡å—åŒ–å’Œå¯ä¼¸ç¼©æ€§ã€‚</p></li><li><p><strong>æŒç»­é›†æˆå’ŒæŒç»­äº¤ä»˜ï¼ˆCI&#x2F;CDï¼‰ï¼š</strong> Dockerå®¹å™¨åœ¨CI&#x2F;CDæµç¨‹ä¸­æ‰®æ¼”é‡è¦è§’è‰²ï¼Œå¸®åŠ©è‡ªåŠ¨åŒ–æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²è¿‡ç¨‹ï¼Œæé«˜äº¤ä»˜é€Ÿåº¦å’Œå¯é æ€§ã€‚</p></li><li><p><strong>å¤šäº‘ç¯å¢ƒéƒ¨ç½²ï¼š</strong> Dockerå®¹å™¨çš„å¯ç§»æ¤æ€§ä½¿å¾—åœ¨ä¸åŒäº‘æœåŠ¡æä¾›å•†ä¹‹é—´è¿ç§»åº”ç”¨ç¨‹åºå˜å¾—æ›´åŠ å®¹æ˜“ï¼ŒåŒæ—¶ä¹Ÿæœ‰åŠ©äºæ··åˆäº‘å’Œå¤šäº‘æˆ˜ç•¥çš„å®æ–½ã€‚</p></li><li><p><strong>èµ„æºéš”ç¦»å’Œå¤šç§Ÿæˆ·ç¯å¢ƒï¼š</strong> Dockerå®¹å™¨å¯ç”¨äºéš”ç¦»ä¸åŒç§Ÿæˆ·æˆ–åº”ç”¨ç¨‹åºï¼Œç¡®ä¿èµ„æºåˆ†é…å’Œå®‰å…¨æ€§ã€‚</p></li></ol><h3 id="å®‰è£…Docker"><a href="#å®‰è£…Docker" class="headerlink" title="å®‰è£…Docker"></a>å®‰è£…Docker</h3><p>ğŸ“Œ LinuxåŸºç¡€</p><p>ğŸ“Œ CentOS 7</p><p>åŸºäºå¼€æº Linux å‘è¡Œç‰ˆ Red Hat Enterprise Linux (RHEL) çš„å…è´¹ã€ä¼ä¸šçº§æ“ä½œç³»ç»Ÿã€‚å®ƒé‡‡ç”¨äº†ç¨³å®šæ€§å’Œå¯é æ€§ä¸ºä¸»è¦ç›®æ ‡ï¼Œé€‚ç”¨äºæœåŠ¡å™¨ç¯å¢ƒå’Œä¼ä¸šçº§åº”ç”¨ç¨‹åºã€‚</p><p>ğŸ“Œ Xshellè¿æ¥è¿œç¨‹æœåŠ¡å™¨è¿›è¡Œæ“ä½œ</p><ol start="10"><li>ç¯å¢ƒæŸ¥çœ‹ï¼š</li></ol><p>#ç³»ç»Ÿå†…æ ¸<br>Â [root@iZ2vcet9lnxw7ajh08wb59Z ~]# uname -r<br>Â 4.18.0-305.3.1.el8.x86_64</p><p>#ç³»ç»Ÿç‰ˆæœ¬  </p><p>Â [root@iZ2vcet9lnxw7ajh08wb59Z ~]# cat &#x2F;etc&#x2F;os-release<br>Â NAME&#x3D;â€CentOS Linuxâ€<br>Â VERSION&#x3D;â€8â€<br>Â ID&#x3D;â€centosâ€<br>Â ID_LIKE&#x3D;â€rhel fedoraâ€<br>Â VERSION_ID&#x3D;â€8â€<br>Â PLATFORM_ID&#x3D;â€platform:el8â€<br>Â PRETTY_NAME&#x3D;â€CentOS Linux 8â€<br>Â ANSI_COLOR&#x3D;â€0;31â€<br>Â CPE_NAME&#x3D;â€cpe:&#x2F;o:centos:centos:8â€<br>Â HOME_URL&#x3D;â€<a href="https://centos.org/">https://centos.org/</a>â€œ<br>Â BUG_REPORT_URL&#x3D;â€<a href="https://bugs.centos.org/">https://bugs.centos.org/</a>â€œ<br>Â CENTOS_MANTISBT_PROJECT&#x3D;â€CentOS-8â€<br>Â CENTOS_MANTISBT_PROJECT_VERSION&#x3D;â€8â€  </p><ol start="11"><li>å®‰è£…</li></ol><p>Â # 1ã€å¸è½½æ—§çš„ç‰ˆæœ¬<br>Â sudo yum remove docker \<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-client \<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-client-latest \<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-common \<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-latest \<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-latest-logrotate \<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-logrotate \<br>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â docker-engine<br>â€‹<br>Â # 2ã€éœ€è¦çš„å®‰è£…åŒ…<br>Â sudo yum install -y yum-utils  </p><p>Â # 3ã€è®¾ç½®é•œåƒçš„ä»“åº“<br>Â yum-config-manager â€“add-repo <a href="http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo">http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</a>  </p><p>Â # æ›´æ–°yumè½¯ä»¶åŒ…ç´¢å¼•<br>Â yum makecache fast  </p><p>Â # 4ã€å®‰è£…dockerç›¸å…³çš„æº docker-ce ç¤¾åŒº ee ä¼ä¸šç‰ˆ<br>Â yum install docker-ce docker-ce-cli containerd.io  </p><p>Â # 5ã€å¯åŠ¨docker<br>Â systemctl start docker  </p><p>Â # 6ã€ä½¿ç”¨docker version æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ  </p><p>Â # 7ã€docker run hello-world  </p><p>Â # 8ã€æŸ¥çœ‹ä¸‹è½½çš„è¿™ä¸ª hello-world é•œåƒ  </p><h3 id="DockeråŸºæœ¬æ¦‚å¿µ"><a href="#DockeråŸºæœ¬æ¦‚å¿µ" class="headerlink" title="DockeråŸºæœ¬æ¦‚å¿µ"></a>DockeråŸºæœ¬æ¦‚å¿µ</h3><p>ğŸª image-é•œåƒ</p><p>Docker é•œåƒæ˜¯å®¹å™¨çš„æ¨¡æ¿</p><p>å®ƒåŒ…å«äº†è¿è¡Œå®¹å™¨æ‰€éœ€çš„æ–‡ä»¶ç³»ç»Ÿã€åº“å’Œé…ç½®ç­‰ã€‚</p><p>tomaté•œåƒâ€”â€“&gt;runâ€”â€“&gt;Tomcat01 å®¹å™¨ï¼ˆæä¾›æœåŠ¡å™¨ï¼‰</p><p>ğŸ§‚ container-å®¹å™¨</p><p>Docker å®¹å™¨æ˜¯åŸºäº Docker é•œåƒåˆ›å»ºçš„è¿è¡Œ<strong>å®ä¾‹</strong></p><ul><li>å®¹å™¨å¯ä»¥çœ‹åšç®€æ˜“çš„Linuxç³»ç»Ÿ</li></ul><p>ğŸˆ repository-ä»“åº“</p><p>å­˜æ”¾é•œåƒçš„åœ°æ–¹</p><p>åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“</p><h3 id="é•œåƒï¼ˆImagesï¼‰å’Œå®¹å™¨ï¼ˆContainersï¼‰çš„åŒºåˆ«"><a href="#é•œåƒï¼ˆImagesï¼‰å’Œå®¹å™¨ï¼ˆContainersï¼‰çš„åŒºåˆ«" class="headerlink" title="é•œåƒï¼ˆImagesï¼‰å’Œå®¹å™¨ï¼ˆContainersï¼‰çš„åŒºåˆ«"></a>é•œåƒï¼ˆImagesï¼‰å’Œå®¹å™¨ï¼ˆContainersï¼‰çš„åŒºåˆ«</h3><p>é•œåƒï¼ˆImagesï¼‰å’Œå®¹å™¨ï¼ˆContainersï¼‰æ˜¯Dockerä¸­ä¸¤ä¸ªå…³é”®çš„æ¦‚å¿µï¼Œå®ƒä»¬åœ¨Dockerç”Ÿæ€ç³»ç»Ÿä¸­æœ‰ä¸åŒçš„è§’è‰²å’Œç”¨é€”ã€‚ä»¥ä¸‹æ˜¯é•œåƒå’Œå®¹å™¨ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ï¼š</p><p><strong>1. å®šä¹‰å’Œç”¨é€”ï¼š</strong></p><ul><li><p><strong>é•œåƒï¼ˆImagesï¼‰ï¼š</strong> é•œåƒæ˜¯ä¸€ä¸ªåªè¯»çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†åº”ç”¨ç¨‹åºã€è¿è¡Œæ—¶ç¯å¢ƒã€ç³»ç»Ÿå·¥å…·å’Œåº“ç­‰çš„é™æ€å¿«ç…§ã€‚é•œåƒå¯ä»¥çœ‹ä½œæ˜¯åº”ç”¨ç¨‹åºçš„æ„å»ºæ¨¡å—ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰å¯åŠ¨å®¹å™¨æ‰€éœ€çš„æ–‡ä»¶ç³»ç»Ÿå’Œé…ç½®ä¿¡æ¯ã€‚é•œåƒé€šå¸¸ç”¨äºåˆ›å»ºå®¹å™¨ã€‚</p></li><li><p><strong>å®¹å™¨ï¼ˆContainersï¼‰ï¼š</strong> å®¹å™¨æ˜¯åŸºäºé•œåƒè¿è¡Œçš„å®ä¾‹ã€‚å®ƒæ˜¯é•œåƒçš„ä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒï¼ŒåŒ…æ‹¬æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºå’Œå…¶ä¾èµ–çš„è¿›ç¨‹ã€‚å®¹å™¨æ˜¯å¯è¯»å†™çš„ï¼Œå¹¶ä¸”å¯ä»¥ä¸ä¸»æœºç³»ç»Ÿå’Œå…¶ä»–å®¹å™¨è¿›è¡Œäº¤äº’ã€‚å®¹å™¨æ˜¯å®é™…è¿è¡Œå’Œæ‰§è¡Œåº”ç”¨ç¨‹åºçš„å®ä½“ã€‚</p></li></ul><p><strong>2. å¯å˜æ€§ï¼š</strong></p><ul><li><p><strong>é•œåƒï¼ˆImagesï¼‰ï¼š</strong> é•œåƒæ˜¯ä¸å¯å˜çš„ï¼Œä¸€æ—¦åˆ›å»ºï¼Œå…¶å†…å®¹ä¸ä¼šæ”¹å˜ã€‚å¦‚æœéœ€è¦å¯¹åº”ç”¨ç¨‹åºè¿›è¡Œæ›´æ–°æˆ–ä¿®æ”¹ï¼Œé€šå¸¸éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒã€‚</p></li><li><p><strong>å®¹å™¨ï¼ˆContainersï¼‰ï¼š</strong> å®¹å™¨æ˜¯å¯å˜çš„ï¼Œå¯ä»¥åœ¨å®¹å™¨å†…éƒ¨è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè¿›è¡Œæ–‡ä»¶æ“ä½œã€ä¿®æ”¹é…ç½®ç­‰ã€‚å®¹å™¨çš„çŠ¶æ€å¯ä»¥éšç€åº”ç”¨ç¨‹åºçš„è¿è¡Œè€Œæ”¹å˜ã€‚</p></li></ul><p><strong>3. ç”Ÿå‘½å‘¨æœŸï¼š</strong></p><ul><li><p><strong>é•œåƒï¼ˆImagesï¼‰ï¼š</strong> é•œåƒçš„ç”Ÿå‘½å‘¨æœŸæ˜¯é™æ€çš„ï¼Œå®ƒå­˜åœ¨äºDockerä¸»æœºä¸Šï¼Œå¯ä»¥è¢«å¤šä¸ªå®¹å™¨å®ä¾‹å¼•ç”¨ã€‚é•œåƒé€šå¸¸æ˜¯æŒä¹…çš„ï¼Œç›´åˆ°æ‰‹åŠ¨åˆ é™¤ã€‚</p></li><li><p><strong>å®¹å™¨ï¼ˆContainersï¼‰ï¼š</strong> å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯åŠ¨æ€çš„ï¼Œå®ƒå¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢å’Œåˆ é™¤ã€‚å®¹å™¨æ˜¯çŸ­æš‚çš„ï¼Œå­˜åœ¨äºéœ€è¦è¿è¡Œåº”ç”¨ç¨‹åºçš„æ—¶å€™ï¼Œç„¶åå¯ä»¥è¢«é”€æ¯ã€‚</p></li></ul><p><strong>4.èµ„æºæ¶ˆè€—ï¼š</strong></p><ul><li><p><strong>é•œåƒï¼ˆImagesï¼‰ï¼š</strong> é•œåƒé€šå¸¸å ç”¨è¾ƒå¤§çš„ç£ç›˜ç©ºé—´ï¼Œå› ä¸ºå®ƒåŒ…å«äº†åº”ç”¨ç¨‹åºçš„å®Œæ•´é™æ€å¿«ç…§ã€‚</p></li><li><p><strong>å®¹å™¨ï¼ˆContainersï¼‰ï¼š</strong> å®¹å™¨é€šå¸¸æ¯”é•œåƒå ç”¨æ›´å°‘çš„ç£ç›˜ç©ºé—´ï¼Œå› ä¸ºå®¹å™¨åªåŒ…å«è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„å¯å†™å±‚ï¼Œå¹¶ä¸”å¯ä»¥å…±äº«åº•å±‚é•œåƒçš„å†…å®¹ã€‚</p></li></ul><p>æ€»ä¹‹ï¼Œé•œåƒæ˜¯Dockerä¸­çš„é™æ€æ„å»ºå—ï¼Œç”¨äºåˆ›å»ºå®¹å™¨çš„åŸºç¡€ï¼Œè€Œå®¹å™¨æ˜¯è¿è¡Œæ—¶å®ä½“ï¼Œä»£è¡¨ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„è¿è¡Œå®ä¾‹ã€‚ç†è§£é•œåƒå’Œå®¹å™¨ä¹‹é—´çš„åŒºåˆ«å¯¹äºæœ‰æ•ˆä½¿ç”¨Dockerå’Œå®¹å™¨åŒ–åº”ç”¨ç¨‹åºéå¸¸é‡è¦ã€‚å®¹å™¨åŒ–æŠ€æœ¯ä½¿å¾—åº”ç”¨ç¨‹åºæ›´å®¹æ˜“ç®¡ç†ã€éƒ¨ç½²å’Œæ‰©å±•ã€‚</p><p>DockerFile : æ„å»ºæ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸€åˆ‡çš„æ­¥éª¤ï¼Œæºä»£ç </p><p>DockerImages ï¼š é€šè¿‡DokerFileæ„å»ºç”Ÿæˆçš„é•œåƒï¼Œæ˜¯æœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œçš„äº§å“</p><p>Dockerå®¹å™¨ï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡å™¨</p><p><img src="/(/images/U3.png" alt="Untitled"></p><h1 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h1><h3 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a><strong>é•œåƒå‘½ä»¤</strong></h3><ul><li><p>æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒï¼š<code>docker images</code></p><blockquote><p>REPOSITORYï¼šé•œåƒçš„ä»“åº“æºTAGï¼šé•œåƒçš„æ ‡ç­¾IMAGE IDï¼šé•œåƒçš„IDCREATEDï¼šé•œåƒçš„åˆ›å»ºæ—¶é—´</p></blockquote></li><li><p>æœç´¢é•œåƒï¼š<code>docker search é•œåƒå</code></p><blockquote><p>â€“filter, -fï¼šæ ¹æ®æä¾›çš„æ¡ä»¶ç­›é€‰è¾“å‡º</p></blockquote></li><li><p>ä¸‹è½½é•œåƒï¼š<code>docker pull é•œåƒå[:tag]</code></p><blockquote><p>docker pull mysql:5.7</p></blockquote></li><li><p>åˆ é™¤é•œåƒï¼š<code>docker rmi</code></p><ul><li><p>åˆ é™¤æŒ‡å®šçš„å®¹å™¨ï¼š<code>docker rmi -f å®¹å™¨id</code></p></li><li><p>åˆ é™¤å¤šä¸ªå®¹å™¨ï¼š<code>docker rmi -f å®¹å™¨id1 å®¹å™¨id2 ...</code></p></li><li><p>åˆ é™¤å…¨éƒ¨å®¹å™¨ï¼š<code>docker rmi -f $(docker images -aq)</code></p></li></ul></li></ul><h3 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a><strong>å®¹å™¨å‘½ä»¤</strong></h3><ul><li><p><strong>æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨ï¼š</strong><code>docker run é•œåƒå</code></p><table><thead><tr><th>å¯é€‰å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>-p</td><td>è®¾ç½®ç«¯å£æ˜ å°„ï¼Œå®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</td></tr><tr><td>-P</td><td>éšæœºåˆ†é…ç«¯å£</td></tr><tr><td>-i</td><td>å‰å°äº¤äº’å¼å¯åŠ¨ï¼Œé€šå¸¸ä¸ -t é…åˆä½¿ç”¨</td></tr><tr><td>-t</td><td>å¯åŠ¨å®¹å™¨å†…çš„ä¼ªç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i é…åˆä½¿ç”¨</td></tr><tr><td>-d</td><td>åå°å®ˆæŠ¤å¼å¯åŠ¨</td></tr><tr><td>â€“name</td><td>ä¸ºå®¹å™¨å‘½å</td></tr></tbody></table><blockquote><p>-å¯é€‰å‚æ•°ï¼š</p><ul><li><p>name&#x3D;â€Nameâ€ï¼šå®¹å™¨åå­—ï¼Œç”¨äºåŒºåˆ†å®¹å™¨</p></li><li><p>dï¼šåå°æ–¹å¼è¿è¡Œ</p></li><li><p>itï¼šä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œ</p></li><li><p>pï¼šæŒ‡å®šå®¹å™¨çš„ç«¯å£æ˜ å°„&lt;ä¸»æœºç«¯å£&gt;:&lt;å®¹å™¨å†…éƒ¨ç«¯å£&gt;</p></li><li><p>vï¼šæŒ‚è½½æ•°æ®å·</p></li></ul></blockquote><hr><p>  æ³¨æ„ -dåå°æ–¹å¼è¿è¡Œ<br>  docker run -d centos<br>  â€‹<br>  #ä½†docker psåå‘ç° centos åœæ­¢äº†<br>  â€‹  </p><h1 id="dockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œ"><a href="#dockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œ" class="headerlink" title="dockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œ"></a>dockerå®¹å™¨ä½¿ç”¨åå°è¿è¡Œï¼Œå°±å¿…é¡»è¦æœ‰ä¸€ä¸ªå‰å°è¿›ç¨‹ï¼Œ</h1><p>  dockerå‘ç°æ²¡æœ‰åº”ç”¨ï¼Œå°±ä¼šè‡ªåŠ¨åœæ­¢<br>  nginx,å®¹å™¨å¯åŠ¨åï¼Œå‘ç°è‡ªå·±æ²¡æœ‰æä¾›æœåŠ¡ï¼Œå°±ä¼šç«‹åˆ»åœæ­¢ï¼Œå°±æ˜¯æ²¡æœ‰ç¨‹åºäº†</p><hr></li><li><p><strong>åˆ—å‡ºæ‰€æœ‰è¿è¡Œä¸­çš„å®¹å™¨ï¼š<code>docker ps</code></strong></p><blockquote><p>å¯é€‰é¡¹ï¼š</p><ul><li><p>aï¼šåˆ—å‡ºæ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬å†å²è¿è¡Œè¿‡çš„ï¼‰</p></li><li><p>n&#x3D;?ï¼šæ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨</p></li><li><p>qï¼šåªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·</p></li></ul></blockquote><ul><li><p>è¿›å…¥ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„Dockerå®¹å™¨:<code>docker exec</code></p></li><li><p><strong>docker exec -it &lt;å®¹å™¨åç§°æˆ–å®¹å™¨ID&gt; &lt;shellå‘½ä»¤&gt;</strong></p><blockquote><p>-itï¼šè¿™æ˜¯ä¸¤ä¸ªé€‰é¡¹çš„ç»„åˆï¼Œ</p><p><code>-i</code>è¡¨ç¤ºäº¤äº’å¼</p><p><code>-t</code>è¡¨ç¤ºåˆ†é…ä¸€ä¸ªç»ˆç«¯ï¼ˆTTYï¼‰ã€‚è¿™å…è®¸æ‚¨ä¸å®¹å™¨è¿›è¡Œäº¤äº’ï¼Œå°±åƒæ‚¨åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šä½¿ç”¨ç»ˆç«¯ä¸€æ ·ã€‚</p><p><code>&lt;shellå‘½ä»¤&gt;</code>ï¼šè¿™æ˜¯æ‚¨è¦åœ¨å®¹å™¨å†…æ‰§è¡Œçš„shellå‘½ä»¤ã€‚é€šå¸¸ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>/bin/bash</code>æˆ–<code>/bin/sh</code>æ¥å¯åŠ¨ä¸€ä¸ªshellä¼šè¯ã€‚</p></blockquote></li></ul></li><li><p><strong>é€€å‡ºå®¹å™¨ï¼šexit</strong></p><blockquote><p>ç›´æ¥å®¹å™¨åœæ­¢å¹¶é€€å‡ºï¼šexit</p><p>å®¹å™¨ä¸åœæ­¢é€€å‡ºï¼š<code>Ctrl + P + Q</code></p></blockquote></li><li><p>**åˆ é™¤å®¹å™¨ï¼š**docker rm å®¹å™¨id</p><blockquote><p>åˆ é™¤æŒ‡å®šå®¹å™¨ï¼šdocker rm å®¹å™¨id</p><p>åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼š<code>docker rm -f $(docker ps -aq)</code> æˆ– <code>docker ps -aq | xargs docker rm</code></p></blockquote></li><li><p><strong>å¯åŠ¨ã€é‡å¯å’Œåœæ­¢å®¹å™¨ï¼š</strong></p><blockquote><p>å¯åŠ¨å®¹å™¨ï¼šdocker start å®¹å™¨id</p><p>é‡å¯å®¹å™¨ï¼š<code>docker restart å®¹å™¨id</code></p><p>åœæ­¢å®¹å™¨ï¼š<code>docker stop å®¹å™¨id</code></p><p>å¼ºåˆ¶åœæ­¢å®¹å™¨ï¼š<code>docker kill å®¹å™¨id</code></p></blockquote></li></ul><h3 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤"><a href="#å…¶ä»–å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å…¶ä»–å¸¸ç”¨å‘½ä»¤"></a><strong>å…¶ä»–å¸¸ç”¨å‘½ä»¤</strong></h3><ul><li><p>åå°å¯åŠ¨å®¹å™¨ï¼š<code>docker run -d é•œåƒå</code></p></li><li><p>æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š<code>docker logs -f -t --tail å®¹å™¨id</code></p></li><li><p>æŸ¥çœ‹å®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯ï¼š<code>docker top å®¹å™¨id</code></p></li><li><p>æŸ¥çœ‹å®¹å™¨æºæ•°æ®ï¼š<code>docker inspect å®¹å™¨id</code></p></li><li><p>è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼š<code>docker exec -it å®¹å™¨id å‘½ä»¤</code></p></li><li><p><code>docker run</code>ï¼šè¿è¡Œå®¹å™¨</p></li><li><p><code>docker pull</code>ï¼šæ‹‰å–é•œåƒ</p></li><li><p><code>docker ps</code>ï¼šæŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</p></li><li><p><code>docker images</code>ï¼šæŸ¥çœ‹é•œåƒåˆ—è¡¨</p></li><li><p><code>docker stop</code> å’Œ <code>docker rm</code>ï¼šåœæ­¢å’Œåˆ é™¤å®¹å™¨</p></li></ul><h3 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a><strong>å¸®åŠ©å‘½ä»¤</strong></h3><ul><li><p>æ˜¾ç¤ºDockerç‰ˆæœ¬ä¿¡æ¯ï¼š<code>docker version</code></p></li><li><p>æ˜¾ç¤ºDockerç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨çš„æ•°é‡ï¼š<code>docker info</code></p></li><li><p>è·å–Dockerå‘½ä»¤çš„å¸®åŠ©ï¼š<code>docker å‘½ä»¤ --help</code></p></li><li><p>å¸®åŠ©æ–‡æ¡£åœ°å€ï¼š<a href="https://docs.docker.com/reference/">Dockerå®˜æ–¹æ–‡æ¡£</a></p></li><li><p>é‡å¯dockeræœåŠ¡<code>systemctl restart docker</code></p></li></ul><h1 id="dickerfile-åˆ›å»ºè‡ªå®šä¹‰é•œåƒ"><a href="#dickerfile-åˆ›å»ºè‡ªå®šä¹‰é•œåƒ" class="headerlink" title="dickerfile-åˆ›å»ºè‡ªå®šä¹‰é•œåƒ"></a>dickerfile-åˆ›å»ºè‡ªå®šä¹‰é•œåƒ</h1><p><strong>Docker imageç”±åªè¯»å±‚ç»„æˆï¼Œæ¯ä¸ªå±‚ä»£è¡¨ä¸€æ¡ Dockerfile æŒ‡ä»¤ã€‚è¿™äº›å±‚æ˜¯å †å åœ¨ä¸€èµ·çš„ï¼Œæ¯ä¸€å±‚éƒ½æ˜¯ä¸å‰ä¸€å±‚çš„å˜åŒ–çš„å¢é‡</strong></p><p><strong>dockerfileâ€”&gt;æ–‡æœ¬æ–‡ä»¶</strong>ï¼Œç”¨äºå®šä¹‰Dockeré•œåƒçš„æ„å»ºè¿‡ç¨‹ã€‚å®ƒåŒ…å«ä¸€ç³»åˆ—çš„æŒ‡ä»¤å’Œå‚æ•°ï¼Œè¿™äº›æŒ‡ä»¤å‘Šè¯‰Dockerå¼•æ“å¦‚ä½•ä»ä¸€ä¸ªåŸºç¡€é•œåƒæ„å»ºä¸€ä¸ªæ–°çš„é•œåƒï¼ŒåŒ…æ‹¬å¦‚ä½•æ·»åŠ åº”ç”¨ç¨‹åºä»£ç ã€ä¾èµ–é¡¹ã€é…ç½®æ–‡ä»¶ç­‰ã€‚</p><ul><li><input disabled type="checkbox"> <strong>æ³¨æ„äº‹é¡¹</strong><ul><li><input disabled type="checkbox"> ä¿ç•™å…³é”®å­—éƒ½å¿…é¡»å¤§å†™ï¼</li><li><input disabled type="checkbox"> æ‰§è¡Œé¡ºåºï¼šä»ä¸Šåˆ°ä¸‹</li><li><input disabled type="checkbox"> æ¯ä¸ªæŒ‡ä»¤éƒ½åˆ›å»ºæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚</li><li><input disabled type="checkbox"> dockerfileæ˜¯é¢å‘å¼€å‘çš„</li></ul></li></ul><h3 id="dockerfileçš„æŒ‡ä»¤"><a href="#dockerfileçš„æŒ‡ä»¤" class="headerlink" title="dockerfileçš„æŒ‡ä»¤"></a>dockerfileçš„æŒ‡ä»¤</h3><p><strong>FROM</strong> Â  Â  Â  Â  #æŒ‡å®šåŸºç¡€é•œåƒ<br><strong>MAINTAINER</strong> Â  #æŒ‡å®šç»´æŠ¤è€…ä¿¡æ¯ï¼šå§“å+é‚®ç®±<br><strong>RUN Â  Â  Â  Â  #æ¯æ‰§è¡Œä¸€æ¡RUNå‘½ä»¤,é•œåƒæ·»åŠ æ–°çš„ä¸€å±‚. Â <br>ADD</strong> Â  Â  Â  Â  Â #å°†æ–‡ä»¶æˆ–ç›®å½•å¤åˆ¶åˆ°å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨è§£å‹<br><strong>WORKDIR</strong> Â  Â  Â #å·¥ä½œç›®å½•ï¼Œç±»ä¼¼äº cd å‘½ä»¤ï¼Œå³åˆ‡æ¢ç›®å½•<br>é€šè¿‡WORKDIRè®¾ç½®å·¥ä½œç›®å½•åï¼ŒDockerfileä¸­å…¶åçš„å‘½ä»¤RUNã€CMDã€ENTRYPOINTã€ADDã€ COPYç­‰å‘½ä»¤éƒ½ä¼šåœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œã€‚  </p><p><strong>VOLUNME</strong> Â  Â  Â #åˆ›å»ºä¸€ä¸ªæŒ‚è½½ç‚¹ï¼Œ<br><strong>EXPOSE</strong> Â  Â  Â  #æŒ‡å®šå®¹å™¨ç›‘å¬çš„ç«¯å£<br>ENV # æ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡ï¼<br>VOLUME [â€œvolume01â€,â€volume02â€] Â  # å®šä¹‰ä¸€ä¸ªæŒ‚è½½ç‚¹,ç”¨äºæŒä¹…åŒ–æ•°æ®</p><p><strong>CMD :è®¾ç½®å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤å’Œå‚æ•°ENTRYPOINT :è®¾ç½®å®¹å™¨å¯åŠ¨æ—¶è¿è¡Œçš„å‘½ä»¤</strong></p><p>ADDå¸¦æœ‰è‡ªåŠ¨è§£å‹åŠŸèƒ½ COPYæ²¡æœ‰è‡ªåŠ¨è§£å‹åŠŸèƒ½</p><p>æ„å»ºé•œåƒ</p><h1 id="å‘½ä»¤-docker-build-f-æ–‡ä»¶è·¯å¾„-t-é•œåƒå-tag"><a href="#å‘½ä»¤-docker-build-f-æ–‡ä»¶è·¯å¾„-t-é•œåƒå-tag" class="headerlink" title="å‘½ä»¤ docker build -f æ–‡ä»¶è·¯å¾„ -t é•œåƒå:[tag]"></a>å‘½ä»¤ docker build -f æ–‡ä»¶è·¯å¾„ -t é•œåƒå:[tag]</h1><p><code>docker buildx build -t nikicentos:1.0 -f mydockerfile</code> <em>#ç”¨äºæ„å»ºä¸€ä¸ªåä¸º nikicentosï¼Œæ ‡ç­¾ä¸º 1.0 çš„ Docker é•œåƒ #ä½¿ç”¨åä¸º mydockerfile çš„ Dockerfileï¼Œå¹¶ä¸”<strong>æ„å»ºä¸Šä¸‹æ–‡è·¯å¾„æ˜¯å½“å‰ç›®å½•ï¼ˆ.ï¼‰</strong>ã€‚</em></p><h3 id="docker-history"><a href="#docker-history" class="headerlink" title="docker history &lt;é•œåƒIDæˆ–åç§°&gt;-"></a><code>docker history &lt;é•œåƒIDæˆ–åç§°&gt;</code>-</h3><p><strong>æŸ¥çœ‹ Docker é•œåƒçš„æ„å»ºå†å²</strong></p><p><code>CMD</code><em>æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£ã€‚</em></p><p><code>ENTRYPOINT</code> <em>æŒ‡å®šè¿™ä¸ªå®¹å™¨å¯åŠ¨çš„æ—¶å€™è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯ä»¥è¿½åŠ å‘½ä»¤</em></p><ul><li><p>å¦‚æœä½ åªå…³å¿ƒå®¹å™¨çš„é»˜è®¤å‘½ä»¤ï¼Œä½¿ç”¨ <strong><code>CMD</code></strong> å³å¯ã€‚</p></li><li><p>å¦‚æœä½ å¸Œæœ›å®¹å™¨çš„é»˜è®¤å‘½ä»¤å¯ä»¥æ¥å—å‚æ•°ï¼Œä½¿ç”¨ <strong><code>ENTRYPOINT</code></strong>ã€‚</p></li></ul><p><a href="https://www.notion.so/test-centOS-e15001a2ff8944258855e5d810b7cd16?pvs=21">test-æ„å»ºè‡ªå·±çš„centOS</a></p><p><a href="https://www.notion.so/test2-Tomcat-dfabe04415fa4501934d91f827a00469?pvs=21">test2-Tomcaté•œåƒ</a></p><h3 id="1-å®¹å™¨æ•°æ®å·ï¼ˆContainer-Volumesï¼‰ï¼š"><a href="#1-å®¹å™¨æ•°æ®å·ï¼ˆContainer-Volumesï¼‰ï¼š" class="headerlink" title="1. å®¹å™¨æ•°æ®å·ï¼ˆContainer Volumesï¼‰ï¼š"></a><strong>1. å®¹å™¨æ•°æ®å·ï¼ˆContainer Volumesï¼‰ï¼š</strong></h3><h3 id="å®¹å™¨ä¹‹é—´å…±äº«å’ŒæŒä¹…åŒ–æ•°æ®çš„æœºåˆ¶"><a href="#å®¹å™¨ä¹‹é—´å…±äº«å’ŒæŒä¹…åŒ–æ•°æ®çš„æœºåˆ¶" class="headerlink" title="å®¹å™¨ä¹‹é—´å…±äº«å’ŒæŒä¹…åŒ–æ•°æ®çš„æœºåˆ¶"></a>å®¹å™¨ä¹‹é—´å…±äº«å’ŒæŒä¹…åŒ–æ•°æ®çš„æœºåˆ¶</h3><ul><li><p>å®¹å™¨æ•°æ®å·æ˜¯Dockerå®¹å™¨å†…éƒ¨çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œå®ƒä»¬æ˜ å°„åˆ°å®¿ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿç›®å½•ï¼Œæˆ–è€…å¯ä»¥å…±äº«ç»™å…¶ä»–å®¹å™¨ä½¿ç”¨ã€‚</p></li><li><p>å®¹å™¨æ•°æ®å·å¯ä»¥åŒ…å«åº”ç”¨ç¨‹åºæ•°æ®ã€é…ç½®æ–‡ä»¶ã€æ—¥å¿—æ–‡ä»¶ç­‰ã€‚è¿™äº›æ•°æ®å·å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´ä¼ é€’ä¿¡æ¯ï¼Œä»¥åŠåœ¨å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ã€‚</p></li><li><p>åˆ›å»ºå®¹å™¨æ•°æ®å·çš„æ–¹æ³•åŒ…æ‹¬åœ¨å®¹å™¨å¯åŠ¨å‘½ä»¤ä¸­ä½¿ç”¨<code>v</code>æˆ–<code>-volume</code>é€‰é¡¹ï¼Œæˆ–åœ¨Docker Composeæ–‡ä»¶ä¸­å®šä¹‰<code>volumes</code>éƒ¨åˆ†ã€‚</p></li><li><p>ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶å°†å®ƒçš„<code>/data</code>ç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºçš„<code>/var/data</code>ç›®å½•ï¼Œä»¥å®ç°æ•°æ®æŒä¹…åŒ–å’Œå…±äº«ã€‚</p><p>  docker run -v &#x2F;var&#x2F;data:&#x2F;data my-container<br>  â€‹</p></li></ul><h3 id="å…·åæŒ‚è½½-åŒ¿åæŒ‚è½½"><a href="#å…·åæŒ‚è½½-åŒ¿åæŒ‚è½½" class="headerlink" title="å…·åæŒ‚è½½ &amp; åŒ¿åæŒ‚è½½"></a>å…·åæŒ‚è½½ &amp; åŒ¿åæŒ‚è½½</h3><p>åœ¨Dockerä¸­ï¼Œæœ‰ä¸¤ç§ä¸»è¦çš„æ•°æ®å·æŒ‚è½½æ–¹å¼ï¼šå…·åæŒ‚è½½ï¼ˆnamed volumesï¼‰å’ŒåŒ¿åæŒ‚è½½ï¼ˆanonymous volumesï¼‰ã€‚è¿™äº›æŒ‚è½½æ–¹å¼å…è®¸å®¹å™¨ä¸ä¸»æœºä¹‹é—´å…±äº«æ•°æ®ï¼Œä½†å®ƒä»¬åœ¨ç”¨æ³•å’Œç®¡ç†ä¸Šæœ‰ä¸€äº›åŒºåˆ«ã€‚</p><p><strong>1. å…·åæŒ‚è½½ï¼ˆNamed Volumesï¼‰ï¼š</strong></p><ul><li><p>å…·åæŒ‚è½½æ˜¯é€šè¿‡ä¸ºæ•°æ®å·æŒ‡å®šåç§°æ¥åˆ›å»ºçš„ã€‚</p></li><li><p>è¿™äº›æ•°æ®å·çš„åç§°å¯¹ç”¨æˆ·å¯è§ï¼Œå¯ä»¥éšæ—¶å¼•ç”¨å’Œç®¡ç†ã€‚</p></li><li><p>å…·åæŒ‚è½½é€šå¸¸ç”¨äºä¿å­˜åº”ç”¨ç¨‹åºçš„æ•°æ®ï¼Œä¾‹å¦‚æ•°æ®åº“æ•°æ®ã€é…ç½®æ–‡ä»¶ç­‰ã€‚</p></li><li><p>åˆ›å»ºå…·åæŒ‚è½½å¯ä»¥ä½¿ç”¨<code>docker volume create</code>å‘½ä»¤ï¼Œæˆ–è€…åœ¨å®¹å™¨è¿è¡Œæ—¶é€šè¿‡<code>v</code>æ ‡å¿—æ¥æŒ‡å®šã€‚</p></li><li><p>ä¾‹å­ï¼š<code>docker run -v mydata:/app/data myapp</code>ï¼Œå…¶ä¸­<code>mydata</code>æ˜¯å…·åæŒ‚è½½çš„åç§°ã€‚</p></li></ul><p><strong>2. åŒ¿åæŒ‚è½½ï¼ˆAnonymous Volumesï¼‰ï¼š</strong></p><ul><li><p>åŒ¿åæŒ‚è½½æ˜¯æœªå‘½åçš„ï¼Œä¸éœ€è¦ä¸ºå…¶æŒ‡å®šåç§°ã€‚</p></li><li><p>è¿™äº›æ•°æ®å·çš„åç§°ç”±Dockerè‡ªåŠ¨ç”Ÿæˆï¼Œç”¨æˆ·é€šå¸¸ä¸éœ€è¦ç›´æ¥æ“ä½œå®ƒä»¬ã€‚</p></li><li><p>åŒ¿åæŒ‚è½½é€šå¸¸ç”¨äºå®¹å™¨å†…éƒ¨çš„ä¸´æ—¶æ•°æ®ï¼Œä¾‹å¦‚æ—¥å¿—æ–‡ä»¶æˆ–è¿è¡Œæ—¶çŠ¶æ€ã€‚</p></li><li><p>åŒ¿åæŒ‚è½½é€šå¸¸åœ¨å®¹å™¨è¿è¡Œæ—¶é€šè¿‡<code>v</code>æ ‡å¿—æ¥åˆ›å»ºï¼Œä½†ä¸æŒ‡å®šå…·ä½“çš„å·åç§°ã€‚</p></li><li><p>ä¾‹å­ï¼š<code>docker run -v /app/data myapp</code>ï¼Œå…¶ä¸­<code>/app/data</code>æ˜¯åŒ¿åæŒ‚è½½ã€‚</p></li></ul><p>æ— è®ºä½¿ç”¨å…·åæŒ‚è½½è¿˜æ˜¯åŒ¿åæŒ‚è½½ï¼Œæ•°æ®å·éƒ½å…è®¸å®¹å™¨ä¹‹é—´æˆ–å®¹å™¨ä¸ä¸»æœºä¹‹é—´å…±äº«æ•°æ®ï¼Œå¹¶ä¸”åœ¨å®¹å™¨ä¹‹é—´å¯åŠ¨ã€åœæ­¢å’Œåˆ é™¤æ—¶ï¼Œæ•°æ®éƒ½ä¼šå¾—åˆ°ä¿ç•™ã€‚è¿™ä½¿å¾—å®¹å™¨å¯ä»¥æ›´çµæ´»åœ°ç®¡ç†å’Œå­˜å‚¨æ•°æ®ï¼Œè€Œä¸å—å®¹å™¨ç”Ÿå‘½å‘¨æœŸçš„é™åˆ¶ã€‚</p><p>Â # åŒ¿åæŒ‚è½½<br>Â -v å®¹å™¨å†…è·¯å¾„!<br>Â docker run -d -P â€“name nginx01 -v &#x2F;etc&#x2F;nginx nginx  </p><p>Â # æŸ¥çœ‹æ‰€æœ‰çš„volumeçš„æƒ…å†µ<br>Â âœ  ~ docker volume ls<br>Â DRIVER Â  Â  Â  Â  Â  Â   VOLUME NAME<br>Â local Â  Â  Â  Â  Â  Â  Â  33ae588fae6d34f511a769948f0d3d123c9d45c442ac7728cb85599c2657e50d<br>Â local<br>Â # è¿™é‡Œå‘ç°ï¼Œè¿™ç§å°±æ˜¯åŒ¿åæŒ‚è½½ï¼Œæˆ‘ä»¬åœ¨ -våªå†™äº†å®¹å™¨å†…çš„è·¯å¾„ï¼Œæ²¡æœ‰å†™å®¹å™¨å¤–çš„è·¯åŠ²ï¼  </p><p>Â # å…·åæŒ‚è½½<br>Â âœ  ~ docker run -d -P â€“name nginx02 -v juming-nginx:&#x2F;etc&#x2F;nginx nginx<br>Â âœ  ~ docker volume ls<br>Â DRIVER Â  Â  Â  Â  Â  Â   VOLUME NAME<br>Â local Â  Â  Â  Â  Â  Â  Â  juming-nginx  </p><p>Â # é€šè¿‡ -v å·åï¼šå®¹å™¨å†…è·¯å¾„<br>Â # æŸ¥çœ‹ä¸€ä¸‹è¿™ä¸ªå·  </p><h3 id="2-æ•°æ®å·å®¹å™¨ï¼ˆData-Volume-Containersï¼‰ï¼š"><a href="#2-æ•°æ®å·å®¹å™¨ï¼ˆData-Volume-Containersï¼‰ï¼š" class="headerlink" title="2. æ•°æ®å·å®¹å™¨ï¼ˆData Volume Containersï¼‰ï¼š"></a><strong>2. æ•°æ®å·å®¹å™¨ï¼ˆData Volume Containersï¼‰ï¼š</strong></h3><h3 id="ç®¡ç†å’Œå­˜å‚¨æ•°æ®å·çš„ç‰¹æ®Šå®¹å™¨"><a href="#ç®¡ç†å’Œå­˜å‚¨æ•°æ®å·çš„ç‰¹æ®Šå®¹å™¨" class="headerlink" title="ç®¡ç†å’Œå­˜å‚¨æ•°æ®å·çš„ç‰¹æ®Šå®¹å™¨"></a>ç®¡ç†å’Œå­˜å‚¨æ•°æ®å·çš„ç‰¹æ®Šå®¹å™¨</h3><ul><li><p>æ•°æ®å·å®¹å™¨æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„<strong>Dockerå®¹å™¨</strong>ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯æä¾›æ•°æ®å·çš„å­˜å‚¨å’Œç®¡ç†ã€‚å®ƒä¸è¿è¡Œåº”ç”¨ç¨‹åºï¼Œè€ŒåªåŒ…å«æ•°æ®å·ã€‚</p></li><li><p>ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°æ®å·å®¹å™¨ï¼Œç„¶ååœ¨å…¶ä»–å®¹å™¨ä¸­ä½¿ç”¨<code>-volumes-from</code>é€‰é¡¹æ¥å…±äº«è¿™ä¸ªæ•°æ®å·å®¹å™¨çš„æ•°æ®å·ã€‚</p></li><li><p>æ•°æ®å·å®¹å™¨å¯ä»¥ç”¨äºé›†ä¸­ç®¡ç†å¤šä¸ªå®¹å™¨ä¹‹é—´å…±äº«çš„æ•°æ®ï¼Œä½¿å¾—å¤‡ä»½ã€æ¢å¤å’Œæ•°æ®å…±äº«æ›´åŠ æ–¹ä¾¿ã€‚</p></li><li><p>ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªæ•°æ®å·å®¹å™¨ï¼Œç„¶ååœ¨å¦ä¸€ä¸ªå®¹å™¨ä¸­ä½¿ç”¨å®ƒçš„æ•°æ®å·ã€‚</p><p>  docker create -v &#x2F;data â€“name my-data-container my-data-image<br>  docker run â€“volumes-from my-data-container my-app-container<br>  â€‹</p></li></ul><h3 id="docker-ç½‘ç»œ"><a href="#docker-ç½‘ç»œ" class="headerlink" title="docker ç½‘ç»œ"></a>docker ç½‘ç»œ</h3><h3 id="Dockerç½‘ç»œæ˜¯Dockerå®¹å™¨ä¹‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼ã€‚"><a href="#Dockerç½‘ç»œæ˜¯Dockerå®¹å™¨ä¹‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼ã€‚" class="headerlink" title="Dockerç½‘ç»œæ˜¯Dockerå®¹å™¨ä¹‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼ã€‚"></a>Dockerç½‘ç»œæ˜¯Dockerå®¹å™¨ä¹‹é—´é€šä¿¡çš„ä¸€ç§æ–¹å¼ã€‚</h3><p><img src="/(/images/U4.png" alt="Untitled"></p><ol start="12"><li><p><strong>lo (å›ç¯æ¥å£)</strong>:</p><ul><li>IPåœ°å€ï¼š<code>127.0.0.1/8</code> -</li></ul></li><li><p><strong>eth0(é˜¿é‡Œäº‘å†…ç½‘åœ°å€ï¼‰</strong></p><ul><li>IPåœ°å€ï¼š<code>172.23.91.165/20</code></li></ul></li><li><p><strong>docker0</strong>:</p><ul><li><p>ç”¨äºåœ¨åŒä¸€ä¸»æœºä¸Šçš„Dockerå®¹å™¨ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚</p></li><li><p>IPåœ°å€ï¼š<code>172.17.0.1/16</code></p></li></ul><h3 id="veth-pair"><a href="#veth-pair" class="headerlink" title="veth-pair"></a>veth-pair</h3><p><code>veth</code> æ˜¯ Linux ä¸­çš„è™šæ‹Ÿä»¥å¤ªç½‘è®¾å¤‡ã€‚å®ƒé€šå¸¸ä»¥å¯¹æˆå¯¹å‡ºç°ï¼Œæ¯å¯¹ä¹‹é—´å­˜åœ¨ä¸€ä¸ªè™šæ‹Ÿçš„è¿æ¥ã€‚è¿™ç§è¿æ¥ä¸€ç«¯è¢«è¿æ¥åˆ°å®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´ä¸­ï¼Œå¦ä¸€ç«¯è¢«è¿æ¥åˆ°ä¸€ä¸ªå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´ä¸­ã€‚</p><p>å…·ä½“æ¥è¯´ï¼š</p><ul><li><p>ä¸€ç«¯çš„ <code>veth</code> è®¾å¤‡ï¼ˆé€šå¸¸ä»¥ <code>vethXXXXXX</code> çš„å½¢å¼å‘½åï¼‰ä¼šè¢«æ”¾ç½®åœ¨å®¿ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´ä¸­ã€‚</p></li><li><p>å¦ä¸€ç«¯ä¼šè¢«åˆ†é…ç»™å®¹å™¨ï¼Œå¹¶ä»¥å¦ä¸€ä¸ªåç§°ï¼ˆé€šå¸¸æ˜¯ <code>ethX</code>ï¼‰å­˜åœ¨äºå®¹å™¨çš„ç½‘ç»œå‘½åç©ºé—´ä¸­ã€‚</p></li></ul><p>è¿™ä¸¤ç«¯çš„ <code>veth</code> è®¾å¤‡ç›¸äº’è¿æ¥ï¼Œå½¢æˆä¸€ä¸ªè™šæ‹Ÿçš„ä»¥å¤ªç½‘é“¾è·¯ã€‚è¿™æ ·ï¼Œå®¿ä¸»æœºå’Œå®¹å™¨å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè™šæ‹Ÿé“¾è·¯è¿›è¡Œé€šä¿¡ã€‚</p></li></ol><p>Dockeræä¾›äº†å¤šç§ç½‘ç»œæ¨¡å¼ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©é€‚åˆçš„ç½‘ç»œé…ç½®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„Dockerç½‘ç»œæ¦‚å¿µå’Œæ“ä½œï¼š</p><ol start="15"><li><p><strong>é»˜è®¤ç½‘ç»œï¼ˆbridgeï¼‰</strong>:</p><ul><li><p>è¿™æ˜¯Dockerçš„é»˜è®¤ç½‘ç»œæ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒDockerå®¹å™¨å¯ä»¥ç›¸äº’é€šä¿¡ï¼Œä½†é€šå¸¸ä¸èƒ½ç›´æ¥ä»ä¸»æœºå¤–éƒ¨è®¿é—®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®¹å™¨ä¼šé€šè¿‡NATæ–¹å¼è¿æ¥åˆ°å®¿ä¸»æœºçš„ç½‘ç»œã€‚</p></li><li><p>åˆ›å»ºä¸€ä¸ªå®¹å™¨å¹¶ä¸”é»˜è®¤ä¼šè¿æ¥åˆ°è¿™ä¸ªç½‘ç»œï¼š</p></li></ul><p>docker run -d â€“name my_container nginx<br>â€‹</p><ul><li>é»˜è®¤ç½‘ç»œçš„å­ç½‘å’Œç½‘å…³å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</li></ul><p>docker network inspect bridge<br>â€‹</p></li><li><p><strong>ä¸»æœºç½‘ç»œï¼ˆhostï¼‰</strong>:</p><ul><li><p>ä½¿ç”¨ä¸»æœºç½‘ç»œæ¨¡å¼ï¼Œå®¹å™¨å°†ç›´æ¥å…±äº«ä¸»æœºçš„ç½‘ç»œå‘½åç©ºé—´ï¼Œè¿™æ„å‘³ç€å®¹å™¨å°†å¯ä»¥ä½¿ç”¨å®¿ä¸»æœºçš„ç½‘ç»œæ¥å£ï¼Œå¹¶ä¸”ä¸ä¼šè¿›è¡Œç«¯å£æ˜ å°„ã€‚</p></li><li><p>ä½¿ç”¨ä¸»æœºç½‘ç»œæ¨¡å¼å¯åŠ¨å®¹å™¨ï¼š</p></li></ul><p>docker run -d â€“network host nginx<br>â€‹</p></li><li><p><strong>ç”¨æˆ·å®šä¹‰ç½‘ç»œ</strong>:</p><ul><li><p>ç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå·±çš„è‡ªå®šä¹‰ç½‘ç»œï¼Œå¯ä»¥åœ¨è¿™ä¸ªç½‘ç»œä¸Šåˆ›å»ºå®¹å™¨ï¼Œå¹¶ä¸”å®¹å™¨å¯ä»¥ç›¸äº’é€šä¿¡ã€‚</p></li><li><p>åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç½‘ç»œï¼š</p></li></ul><p>docker network create my_network<br>â€‹</p><ul><li>åœ¨è‡ªå®šä¹‰ç½‘ç»œä¸Šè¿è¡Œå®¹å™¨ï¼š</li></ul><p>docker run -d â€“network my_network â€“name container1 nginx<br>docker run -d â€“network my_network â€“name container2 nginx<br>â€‹</p></li><li><p><strong>è¦†ç›–ç½‘ç»œï¼ˆoverlayï¼‰</strong>:</p><ul><li><p>è¦†ç›–ç½‘ç»œå…è®¸åœ¨ä¸åŒä¸»æœºä¸Šçš„Dockerå®ˆæŠ¤ç¨‹åºä¹‹é—´åˆ›å»ºè·¨ä¸»æœºçš„å®¹å™¨é€šä¿¡ã€‚è¿™åœ¨Dockeré›†ç¾¤ä¸­å¾ˆæœ‰ç”¨ã€‚</p></li><li><p>åˆ›å»ºè¦†ç›–ç½‘ç»œï¼š</p></li></ul><p>docker network create â€“driver overlay my_overlay_network<br>â€‹</p><ul><li>åœ¨è¦†ç›–ç½‘ç»œä¸Šå¯åŠ¨å®¹å™¨ï¼š</li></ul><p>docker service create â€“network my_overlay_network â€“name my_service nginx<br>â€‹</p></li><li><p><strong>Macvlanç½‘ç»œ</strong>:</p><ul><li><p>Macvlanç½‘ç»œå…è®¸å°†å®¹å™¨ç›´æ¥è¿æ¥åˆ°ç‰©ç†ç½‘ç»œï¼Œæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±çš„MACåœ°å€ã€‚</p></li><li><p>åˆ›å»ºMacvlanç½‘ç»œï¼š</p></li></ul><p>docker network create -d macvlan â€“subnet&#x3D;192.168.1.0&#x2F;24 â€“gateway&#x3D;192.168.1.1 -o parent&#x3D;eth0 my_macvlan_network<br>â€‹</p><ul><li>åœ¨Macvlanç½‘ç»œä¸Šè¿è¡Œå®¹å™¨ï¼š</li></ul><p>docker run -d â€“network my_macvlan_network â€“name container1 nginx<br>â€‹</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;docker&quot;&gt;&lt;a href=&quot;#docker&quot; class=&quot;headerlink&quot; title=&quot;docker&quot;&gt;&lt;/a&gt;docker&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/(/images/U1.png&quot; alt=&quot;Untitled&quot;&gt;&lt;/p&gt;
&lt;h2 id</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="è¿ç»´" scheme="https://sosocrown.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
    <category term="å®¹å™¨" scheme="https://sosocrown.github.io/tags/%E5%AE%B9%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>AWS-SAA-C03é¢˜è§£æ€è·¯</title>
    <link href="https://sosocrown.github.io/2023/09/01/AWS-SAA-C03%E9%A2%98%E8%A7%A3%E6%80%9D%E8%B7%AF/"/>
    <id>https://sosocrown.github.io/2023/09/01/AWS-SAA-C03%E9%A2%98%E8%A7%A3%E6%80%9D%E8%B7%AF/</id>
    <published>2023-08-31T16:00:00.000Z</published>
    <updated>2025-05-07T02:37:31.848Z</updated>
    
    <content type="html"><![CDATA[<h2 id="422-D"><a href="#422-D" class="headerlink" title="422-D"></a>422-D</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨ AWS ä¸Šå¼€å‘æ–°çš„æœºå™¨å­¦ä¹  (ML) æ¨¡å‹è§£å†³æ–¹æ¡ˆã€‚è¿™äº›æ¨¡å‹è¢«å¼€å‘ä¸ºç‹¬ç«‹çš„å¾®æœåŠ¡ï¼Œåœ¨å¯åŠ¨æ—¶ä» Amazon S3 è·å–å¤§çº¦ 1 GB çš„æ¨¡å‹æ•°æ®å¹¶å°†æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p><p>  ç”¨æˆ·é€šè¿‡<strong>å¼‚æ­¥</strong> API è®¿é—®æ¨¡å‹ã€‚ç”¨æˆ·å¯ä»¥å‘é€ä¸€ä¸ªè¯·æ±‚æˆ–ä¸€æ‰¹è¯·æ±‚ï¼Œå¹¶æŒ‡å®šç»“æœåº”å‘é€åˆ°ä½•å¤„ã€‚è¯¥å…¬å¸ä¸ºæ•°ç™¾åç”¨æˆ·æä¾›æ¨¡å‹ã€‚æ¨¡å‹çš„ä½¿ç”¨æ¨¡å¼æ˜¯ä¸è§„åˆ™çš„ã€‚æŸäº›å‹å·å¯èƒ½ä¼šé—²ç½®æ•°å¤©æˆ–æ•°å‘¨ã€‚å…¶ä»–æ¨¡å‹å¯ä»¥ä¸€æ¬¡æ¥æ”¶æ•°åƒä¸ªæ‰¹æ¬¡çš„è¯·æ±‚ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ¨èå“ªç§è®¾è®¡æ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>A</strong>. å°†æ¥è‡ª API çš„è¯·æ±‚å®šå‘åˆ°NLB</p><p>  å°†æ¨¡å‹éƒ¨ç½²ä¸º NLB è°ƒç”¨çš„ AWS Lambda å‡½æ•°ã€‚</p><p>  <strong>B</strong>. å°†è¯·æ±‚ä» API å®šå‘åˆ°ALBã€‚å°†æ¨¡å‹éƒ¨ç½²ä¸ºä»SQS é˜Ÿåˆ—è¯»å–çš„  ECS æœåŠ¡</p><pre><code> ä½¿ç”¨ AWS App Mesh æ ¹æ® SQS é˜Ÿåˆ—å¤§å°æ‰©å±• ECS é›†ç¾¤çš„å®ä¾‹ã€‚</code></pre><p>  <strong>C</strong>. å°†æ¥è‡ª API çš„è¯·æ±‚å®šå‘åˆ° SQSé˜Ÿåˆ—ã€‚å°†æ¨¡å‹éƒ¨ç½²ä¸ºç”± SQS äº‹ä»¶è°ƒç”¨çš„ AWS Lambda å‡½æ•°</p><p>  ä½¿ç”¨ AWS Auto Scaling <strong>æ ¹æ® SQS é˜Ÿåˆ—å¤§å°</strong>å¢åŠ  Lambda å‡½æ•°çš„ vCPU æ•°é‡ã€‚</p><p>  <strong>D</strong>. å°†æ¥è‡ª API çš„è¯·æ±‚å®šå‘åˆ° SQSé˜Ÿåˆ—ã€‚å°†æ¨¡å‹éƒ¨ç½²ä¸ºä»é˜Ÿåˆ—ä¸­è¯»å–çš„  ECS æœåŠ¡ã€‚</p><p>  æ ¹æ®<strong>é˜Ÿåˆ—å¤§å°</strong>ä¸ºé›†ç¾¤å’ŒæœåŠ¡å‰¯æœ¬åœ¨ Amazon ECS ä¸Šå¯ç”¨ AWS Auto Scalingã€‚</p><p>  <img src="/images/aws1.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>  â¡ï¸ SQSé˜Ÿåˆ—æ˜¯ä¸€ç§é€‚ç”¨äº<strong>å¼‚æ­¥</strong>æ¶ˆæ¯ä¼ é€’çš„æœåŠ¡ï¼Œå¯ä»¥å¸®åŠ©è§£è€¦å’Œåˆ†ç¦»ä¸åŒéƒ¨åˆ†çš„ç³»ç»Ÿï¼Œä»è€Œæé«˜å¯é æ€§å’Œå¼¹æ€§ã€‚</p><p>  â¡ï¸ ALBéå¸¸é€‚ç”¨äº<strong>å¾®æœåŠ¡</strong>å’ŒåŸºäº<strong>å®¹å™¨</strong>çš„åº”ç”¨ç¨‹åº,ï¼Œä½†ALBå’ŒNLBæ›´é€‚åˆå¤„ç†<strong>å®æ—¶æ€§è¯·æ±‚</strong>ï¼Œè€Œä¸æ˜¯å¼‚æ­¥å¤„ç†ã€‚å®ƒä»¬é€‚ç”¨äºä¼ ç»Ÿçš„è¯·æ±‚-å“åº”å¼Webåº”ç”¨ç¨‹åºï¼Œå…¶ä¸­å®¢æˆ·ç«¯å‘å‡ºè¯·æ±‚ï¼Œç„¶åæœŸæœ›å¿«é€Ÿè·å¾—å“åº”ã€‚</p><p>  â¡ï¸ ALBå’ŒNLBå…·æœ‰ä¸€äº›é«˜çº§çš„è´Ÿè½½å‡è¡¡å’Œè·¯ç”±åŠŸèƒ½ï¼Œå¯ä»¥ç¡®ä¿è¯·æ±‚è¢«è¿…é€Ÿä¼ é€’åˆ°åç«¯å®ä¾‹å¹¶è¿”å›å“åº”ã€‚</p><p>  Lambdaå‡½æ•°é€šå¸¸ç”¨äºå¤„ç†çŸ­æš‚çš„ã€äº‹ä»¶é©±åŠ¨çš„ä»»åŠ¡ï¼Œåœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œç”±äºæ¨¡å‹æ•°æ®è¾ƒå¤§ï¼Œéœ€è¦åœ¨å¯åŠ¨æ—¶ä»S3ä¸­åŠ è½½ï¼Œè€Œä¸”éœ€è¦é•¿æ—¶é—´è¿è¡Œï¼Œä½¿ç”¨Lambdaå¯èƒ½ä¼šå—åˆ°é™åˆ¶ï¼Œå› ä¸ºLambdaçš„è¿è¡Œæ—¶é—´æœ‰é™åˆ¶ï¼Œè€Œä¸”åŠ è½½1 GBçš„æ¨¡å‹æ•°æ®å¯èƒ½ä¼šé€ æˆå»¶è¿Ÿã€‚</p><h2 id="330-A"><a href="#330-A" class="headerlink" title="330-A"></a>330-A</h2><p>  å…¬å¸è®¡åˆ’åœ¨Amazon RDSæ•°æ®åº“å®ä¾‹ä¸Šå­˜å‚¨æ•°æ®ã€‚å…¬å¸å¿…é¡»å¯¹<strong>é™æ€æ•°æ®</strong>è¿›è¡ŒåŠ å¯†ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”é‡‡å–ä»€ä¹ˆæªæ–½æ¥æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Ÿ</p><p>  A. åœ¨AWS Key Management Serviceï¼ˆ<strong>AWS KMS</strong>ï¼‰ä¸­åˆ›å»ºä¸€ä¸ªå¯†é’¥ã€‚å¯ç”¨æ•°æ®åº“å®ä¾‹çš„åŠ å¯†ã€‚</p><p>  B. åˆ›å»ºä¸€ä¸ªåŠ å¯†å¯†é’¥ã€‚å°†å¯†é’¥å­˜å‚¨åœ¨AWS Secrets Managerä¸­ã€‚ä½¿ç”¨è¯¥å¯†é’¥åŠ å¯†æ•°æ®åº“å®ä¾‹ã€‚</p><p>  C. åœ¨AWS Certificate Managerï¼ˆACMï¼‰ä¸­ç”Ÿæˆè¯ä¹¦ã€‚ä½¿ç”¨è¯¥è¯ä¹¦åœ¨æ•°æ®åº“å®ä¾‹ä¸Šå¯ç”¨SSL&#x2F;TLSã€‚</p><p>  D. åœ¨AWS Identity and Access Managementï¼ˆIAMï¼‰ä¸­ç”Ÿæˆè¯ä¹¦ã€‚ä½¿ç”¨è¯¥è¯ä¹¦åœ¨æ•°æ®åº“å®ä¾‹ä¸Šå¯ç”¨SSL&#x2F;TLSã€‚</p><p>  å½“éœ€è¦åœ¨Amazon RDSæ•°æ®åº“å®ä¾‹ä¸Šå­˜å‚¨æ•°æ®æ—¶ï¼Œè¦æ±‚å¯¹è¿™äº›æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä»¥ä¿æŠ¤æ•°æ®çš„å®‰å…¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€é€‚åˆçš„æ–¹æ³•æ˜¯ï¼š</p><p>  A. åœ¨AWS Key Management Serviceï¼ˆAWS KMSï¼‰ä¸­åˆ›å»ºä¸€ä¸ªå¯†é’¥ï¼Œå¹¶å¯ç”¨æ•°æ®åº“å®ä¾‹çš„åŠ å¯†ã€‚</p><p>  è§£é‡Šï¼š</p><ul><li>AWS Key Management Serviceï¼ˆKMSï¼‰æ˜¯ç”¨äºç®¡ç†åŠ å¯†å¯†é’¥çš„æœåŠ¡ã€‚</li><li>é€šè¿‡åœ¨AWS KMSä¸­åˆ›å»ºä¸€ä¸ªå¯†é’¥å¹¶åœ¨æ•°æ®åº“å®ä¾‹ä¸Šå¯ç”¨åŠ å¯†ï¼Œæ•°æ®åº“å®ä¾‹ä¸­å­˜å‚¨çš„æ•°æ®å°†ä½¿ç”¨AWS KMSå¯†é’¥è¿›è¡Œè‡ªåŠ¨åŠ å¯†ï¼Œä»¥ç¡®ä¿æ•°æ®åœ¨å­˜å‚¨æ—¶å¾—åˆ°åŠ å¯†ä¿æŠ¤ã€‚</li><li>è¿™æ˜¯<strong>åœ¨Amazon RDSå®ä¾‹ä¸ŠåŠ å¯†é™æ€æ•°æ®çš„æ ‡å‡†å’Œæ¨èæ–¹æ³•</strong>ã€‚</li></ul><p>  AWS Secrets Managerç”¨äºç®¡ç†æ•æ„Ÿä¿¡æ¯ï¼Œä½†ä¸æ¨èå°†å…¶ç”¨äºåœ¨Amazon RDSå®ä¾‹ä¸Šå¯¹æ•°æ®è¿›è¡Œé™æ€åŠ å¯†ã€‚</p><p>   AWS Certificate Managerï¼ˆACMï¼‰ç”¨äºç®¡ç†ç”¨äºä¿æŠ¤ç½‘ç»œé€šä¿¡çš„SSL&#x2F;TLSè¯ä¹¦ï¼Œä½†ä¸åœ¨Amazon RDSå®ä¾‹ä¸Šå¯¹æ•°æ®è¿›è¡Œé™æ€åŠ å¯†æ— ç›´æ¥å…³ç³»ã€‚</p><p>  AWS Identity and Access Managementï¼ˆ<strong>IAM</strong>ï¼‰ç”¨äºç®¡ç†å¯¹AWSèµ„æºçš„è®¿é—®ï¼Œä½†åœ¨IAMä¸­ç”Ÿæˆè¯ä¹¦å¹¶ä¸æ˜¯å¯¹Amazon RDSå®ä¾‹ä¸Šçš„æ•°æ®è¿›è¡Œé™æ€åŠ å¯†çš„æ–¹æ³•ã€‚</p><h2 id="338-D"><a href="#338-D" class="headerlink" title="338-D"></a>338-D</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»ä¸º<strong>å¤§å®¹é‡</strong>è½¯ä»¶å³æœåŠ¡ (SaaS) å¹³å°åˆ›å»ºç¾éš¾æ¢å¤ (DR) è®¡åˆ’ã€‚è¯¥å¹³å°çš„<br>  æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨ Amazon Aurora MySQL æ•°æ®åº“é›†ç¾¤ä¸­ã€‚DR è®¡åˆ’å¿…é¡»å°†æ•°æ®å¤åˆ¶åˆ°è¾…åŠ© AWS åŒºåŸŸã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿæœ€å…·æˆæœ¬æ•ˆç›Šåœ°æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>A.</strong> ä½¿ç”¨ MySQL äºŒè¿›åˆ¶æ—¥å¿—å¤åˆ¶åˆ°è¾…åŠ©åŒºåŸŸä¸­çš„ Aurora é›†ç¾¤ã€‚ä¸ºè¾…åŠ©åŒºåŸŸä¸­çš„ Aurora<br>  é›†ç¾¤é…ç½®ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ã€‚</p><p>  <code>éœ€è¦æ‰‹åŠ¨é…ç½®å’Œç®¡ç†äºŒè¿›åˆ¶æ—¥å¿—å¤åˆ¶ï¼Œå¯èƒ½éœ€è¦æ›´å¤šçš„æ“ä½œå’Œç»´æŠ¤ã€‚å¦å¤–ï¼Œå¦‚æœä¸»åŒºåŸŸå‡ºç°é—®é¢˜ï¼Œéœ€è¦æ‰‹åŠ¨å¹²é¢„æ¥åˆ‡æ¢åˆ°è¾…åŠ©åŒºåŸŸã€‚</code></p><p>  <strong>B</strong>. ä¸ºæ•°æ®åº“é›†ç¾¤è®¾ç½® Aurora globalæ•°æ®åº“ã€‚è®¾ç½®å®Œæˆåï¼Œä»è¾…åŠ©åŒºåŸŸä¸­åˆ é™¤æ•°æ®åº“å®ä¾‹ã€‚</p><p>  <code>æ¶‰åŠæ›´é«˜çš„æˆæœ¬ï¼Œå› ä¸ºéœ€è¦åœ¨ä¸¤ä¸ªåŒºåŸŸéƒ½é…ç½® Aurora æ•°æ®åº“å®ä¾‹ã€‚</code></p><p>  <strong>C.</strong> ä½¿ç”¨ AWS Database Migration Service (AWS DMS) å°†æ•°æ®æŒç»­å¤åˆ¶åˆ°æ¬¡è¦åŒºåŸŸä¸­çš„Aurora é›†ç¾¤ã€‚ä»æ¬¡è¦åŒºåŸŸä¸­åˆ é™¤æ•°æ®åº“å®ä¾‹ã€‚</p><p>  <code>ä¸é€‰é¡¹ A ç±»ä¼¼ï¼Œéœ€è¦ç®¡ç†å¤åˆ¶è¿‡ç¨‹å’Œå¯èƒ½çš„åˆ‡æ¢è¿‡ç¨‹ã€‚</code></p><p>   <strong>D.</strong> ä¸ºæ•°æ®åº“é›†ç¾¤è®¾ç½® Aurora globalæ•°æ®åº“ã€‚åœ¨æ¬¡è¦åŒºåŸŸä¸­æŒ‡å®šè‡³å°‘ä¸€ä¸ªæ•°æ®åº“å®ä¾‹</p><ul><li><p>343-C</p><p>è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ­£åœ¨è®¾è®¡å…¬å¸çš„ç¾éš¾æ¢å¤ (DR) æ¶æ„ã€‚è¯¥å…¬å¸æ‹¥æœ‰ä¸€ä¸ª MySQL æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“åœ¨ç§æœ‰å­ç½‘ä¸­çš„ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œï¼Œå¹¶å…·æœ‰è®¡åˆ’å¤‡ä»½ã€‚ç¾éš¾æ¢å¤è®¾è®¡éœ€è¦åŒ…æ‹¬<strong>å¤šä¸ª AWS åŒºåŸŸmultiple AWS Regions.</strong>ã€‚<br>å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p><strong>A.</strong> å°† MySQL æ•°æ®åº“è¿ç§»åˆ°å¤šä¸ª EC2 å®ä¾‹ã€‚åœ¨ DR åŒºåŸŸé…ç½®å¤‡ç”¨ EC2 å®ä¾‹ã€‚æ‰“å¼€å¤<br>åˆ¶ã€‚</p><p><code>Multiple EC2 instances to be configured and updated manuallyæ‰‹åŠ¨åœ° in case of DR.</code></p><p><code>éœ€è¦æ‰‹åŠ¨é…ç½®</code></p><p><strong>B.</strong> å°† MySQL æ•°æ®åº“è¿ç§»åˆ° Amazon RDSã€‚ä½¿ç”¨å¤šå¯ç”¨åŒºéƒ¨ç½²ã€‚ä¸ºä¸åŒå¯ç”¨åŒºä¸­çš„ä¸»æ•°æ®<br>åº“å®ä¾‹å¯ç”¨è¯»å–å¤åˆ¶ã€‚<code>multi-AZ,é¢˜ç›®è¦æ±‚multi region</code></p><p><strong>C.</strong> å°† MySQL æ•°æ®åº“è¿ç§»åˆ° Amazon Aurora globalæ•°æ®åº“ã€‚åœ¨ä¸»åŒºåŸŸä¸­æ‰˜ç®¡ä¸»æ•°æ®åº“é›†ç¾¤ã€‚<br>åœ¨ DR åŒºåŸŸä¸­æ‰˜ç®¡è¾…åŠ©æ•°æ®åº“é›†ç¾¤ã€‚</p><p><strong>D.</strong> å°† MySQL æ•°æ®åº“çš„è®¡åˆ’å¤‡ä»½å­˜å‚¨åœ¨ä¸º S3 è·¨åŒºåŸŸå¤åˆ¶ (CRR) é…ç½®çš„ Amazon S3 å­˜<br>å‚¨æ¡¶ä¸­ã€‚ä½¿ç”¨æ•°æ®å¤‡ä»½æ¢å¤ç¾å¤‡åŒºåŸŸçš„æ•°æ®åº“ã€‚</p><p><code>éœ€è¦æ‰‹åŠ¨é…ç½®</code></p></li></ul><h2 id="348-B"><a href="#348-B" class="headerlink" title="348-B"></a>348-B</h2><p>  ä¸€å®¶å…¬å¸ä»å¤§é‡ä½¿ç”¨å¯ç©¿æˆ´è®¾å¤‡çš„å‚ä¸è€…é‚£é‡Œæ”¶é›†æ•°æ®ã€‚è¯¥å…¬å¸å°†æ•°æ®å­˜å‚¨åœ¨ Amazon<br>  DynamoDB è¡¨ä¸­ï¼Œå¹¶ä½¿ç”¨åº”ç”¨ç¨‹åºåˆ†ææ•°æ®ã€‚æ•°æ®å·¥ä½œé‡æ˜¯<em><strong>æ’å®šä¸”å¯é¢„æµ‹</strong></em>çš„ã€‚è¯¥å…¬å¸å¸Œæœ›å°†DynamoDB çš„é¢„ç®—ä¿æŒåœ¨æˆ–ä½äºå…¶é¢„æµ‹ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿæœ€å…·æˆæœ¬æ•ˆç›Šåœ°æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>A.</strong> ä½¿ç”¨provisioned modeå’Œ DynamoDB Standard-<strong>Infrequent Access</strong> (DynamoDB Standard-IA)ã€‚ä¸ºé¢„æµ‹çš„å·¥ä½œè´Ÿè½½é¢„ç•™å®¹é‡ã€‚</p><p>  <code>é¢˜ç›®â€œä½¿ç”¨åº”ç”¨ç¨‹åºåˆ†ææ•°æ®â€è¡¨æ˜å¯èƒ½éœ€è¦ç»å¸¸è®¿é—®æ•°æ®ï¼Œä¸é¢‘ç¹è®¿é—®ä¸é€‚åˆ</code></p><p>  <strong>B</strong>. ä½¿ç”¨provisioned modeæ¨¡å¼ã€‚æŒ‡å®šè¯»å–å®¹é‡å•ä½ (RCU) å’Œå†™å…¥å®¹é‡å•ä½ (WCU)ã€‚</p><p>  <strong>C.</strong> ä½¿ç”¨on-demand modeã€‚å°†è¯»å–å®¹é‡å•ä½ (RCU) å’Œå†™å…¥å®¹é‡å•ä½ (WCU) è®¾ç½®å¾—è¶³å¤Ÿé«˜ï¼Œä»¥é€‚<br>  åº”å·¥ä½œè´Ÿè½½çš„å˜åŒ–ã€‚</p><p>  <strong>D.</strong> ä½¿ç”¨on-demand modeã€‚æŒ‡å®šå…·æœ‰ä¿ç•™å®¹é‡çš„è¯»å–å®¹é‡å•ä½ (RCU) å’Œå†™å…¥å®¹é‡å•ä½ (WCU)ã€‚</p><p>  <code>provisioned modeå…è®¸æ‚¨ä¸ºè¯»å–å’Œå†™å…¥å®¹é‡å•å…ƒï¼ˆRCUs å’Œ WCUsï¼‰é¢„å…ˆé…ç½®å®¹é‡ï¼Œé€‚ç”¨äºæ•°æ®å·¥ä½œè´Ÿè½½æ˜¯æŒç»­ä¸”å¯é¢„æµ‹çš„æƒ…å†µã€‚</code></p><p>  <code>æŒ‰éœ€å®¹é‡æ¨¡å¼é€‚ç”¨äºå…·æœ‰*ä¸ç¨³å®šå’Œä¸å¯é¢„æµ‹*æµé‡çš„åº”ç”¨ç¨‹åº</code></p><ul><li><p>357-A</p><p>ä¸€å®¶æ¸¸æˆå…¬å¸æ­£åœ¨å°†å…¶å…¬å…±è®°åˆ†ç‰Œä»<strong>æ•°æ®ä¸­å¿ƒè¿ç§»åˆ° AWS äº‘</strong>ã€‚è¯¥å…¬å¸åœ¨ALBåé¢ä½¿ç”¨ Amazon EC2 <strong>Windows Server</strong> å®ä¾‹æ¥æ‰˜ç®¡å…¶åŠ¨æ€åº”ç”¨ç¨‹åºã€‚è¯¥å…¬å¸éœ€è¦ä¸ºåº”ç”¨ç¨‹åºæä¾›é«˜åº¦å¯ç”¨çš„å­˜å‚¨è§£å†³æ–¹æ¡ˆã€‚è¯¥åº”ç”¨ç¨‹åºç”±<strong>é™æ€æ–‡ä»¶</strong>å’Œ<strong>åŠ¨æ€æœåŠ¡å™¨ç«¯ä»£ç </strong>ç»„æˆã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›æ­¥éª¤ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p><strong>A.</strong> å°†é™æ€æ–‡ä»¶å­˜å‚¨åœ¨ Amazon S3 ä¸Šã€‚ä½¿ç”¨ Amazon CloudFront åœ¨è¾¹ç¼˜ç¼“å­˜å¯¹è±¡ã€‚</p><p> B. å°†é™æ€æ–‡ä»¶å­˜å‚¨åœ¨ Amazon S3 ä¸Šã€‚ä½¿ç”¨ Amazon ElastiCache åœ¨è¾¹ç¼˜ç¼“å­˜å¯¹è±¡ã€‚</p><p><code>ElastiCache ä¸»è¦ç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ï¼Œä¸é€‚åˆå­˜å‚¨é™æ€æ–‡ä»¶ã€‚</code></p><p> C. å°†æœåŠ¡å™¨ç«¯ä»£ç å­˜å‚¨åœ¨ Amazon Elastic File System (Amazon EFS) ä¸Šã€‚åœ¨æ¯ä¸ª EC2 å®ä¾‹ä¸ŠæŒ‚è½½<br>EFS å·ä»¥å…±äº«æ–‡ä»¶ã€‚</p><p><code>EFSä¸é€‚ç”¨äº Windows å®ä¾‹ã€‚</code></p><p><strong>D.</strong> å°†æœåŠ¡å™¨ç«¯ä»£ç å­˜å‚¨åœ¨ Amazon FSx for Windows File Server ä¸Šã€‚åœ¨æ¯ä¸ª EC2 å®ä¾‹ä¸ŠæŒ‚<br>è½½ FSx for Windows File Server å·ä»¥å…±äº«æ–‡ä»¶ã€‚</p><p>E. å°†æœåŠ¡å™¨ç«¯ä»£ç å­˜å‚¨åœ¨é€šç”¨ SSD (gp2) Amazon Elastic Block Store (Amazon EBS) å·ä¸Šã€‚<br>åœ¨æ¯ä¸ª EC2 å®ä¾‹ä¸ŠæŒ‚è½½ EBS å·ä»¥å…±äº«æ–‡ä»¶</p><p><code>EBSï¼Œç”¨äºå—å­˜å‚¨ï¼Œä¸é€‚åˆå…±äº«æ–‡ä»¶ç³»ç»Ÿ</code></p></li><li><p>359-C</p><p>åŒ»é™¢éœ€è¦å°†æ‚£è€…è®°å½•å­˜å‚¨åœ¨ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚åŒ»é™¢çš„åˆè§„å›¢é˜Ÿå¿…é¡»ç¡®ä¿æ‰€æœ‰å—ä¿æŠ¤çš„<br>å¥åº·ä¿¡æ¯ (PHI) <strong>encrypted in transit and at rest</strong>ã€‚åˆä½œ<em><strong>å›¢é˜Ÿå¿…é¡»ç®¡ç†é™æ€æ•°æ®çš„åŠ å¯†å¯†é’¥</strong></em>ã€‚<br>å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>A. åœ¨ AWS Certificate Manager (ACM) ä¸­åˆ›å»ºå…¬å…± SSL&#x2F;TLS è¯ä¹¦ã€‚å°†è¯ä¹¦ä¸ Amazon S3<br>å…³è”ã€‚é…ç½®æ¯ä¸ª S3 å­˜å‚¨æ¡¶çš„é»˜è®¤åŠ å¯†ï¼Œä»¥ä½¿ç”¨å¸¦æœ‰ AWS KMS å¯†é’¥(SSE-KMSï¼‰çš„æœåŠ¡å™¨ç«¯åŠ å¯†ã€‚åˆ†é…åˆè§„å›¢é˜Ÿæ¥ç®¡ç† KMS å¯†é’¥ã€‚</p><p><code>åœ¨æ¡¶ç­–ç•¥ä¸Šä½¿ç”¨â€œaws:SecureTransportâ€æ¡ä»¶---æ— æ³•ä½¿ç”¨éåŠ å¯†çš„è¿æ¥æ¥è®¿é—®å­˜å‚¨æ¡¶å†…çš„æ•°æ®ï¼Œä»è€Œç¡®ä¿æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å®‰å…¨åŠ å¯†çš„ã€‚</code></p><p><code>å¼ºåˆ¶åªæœ‰é€šè¿‡åŠ å¯†çš„è¿æ¥ï¼ˆå¦‚ HTTPS/TLSï¼‰æ‰èƒ½è®¿é—®å­˜å‚¨æ¡¶ä¸­çš„æ•°æ®ã€‚</code><br>B. åœ¨ S3 å­˜å‚¨æ¡¶ç­–ç•¥ä¸Šä½¿ç”¨ aws:SecureTransport æ¡ä»¶ä»¥ä»…å…è®¸é€šè¿‡ HTTPS (TLS) çš„åŠ å¯†è¿æ¥ã€‚é…ç½®æ¯ä¸ª S3 å­˜å‚¨æ¡¶çš„é»˜è®¤åŠ å¯†ï¼Œä»¥ä½¿ç”¨å¸¦æœ‰ S3 æ‰˜ç®¡åŠ å¯†å¯†é’¥ (SSE-S3) çš„æœåŠ¡å™¨ç«¯åŠ å¯†ã€‚åˆ†é…åˆè§„å›¢é˜Ÿæ¥ç®¡ç† SSE-S3 å¯†é’¥ã€‚</p><p><code>(SSE-S3) æ˜¯AWSæ¥ç®¡ç†å¯†é’¥</code></p><p>C. åœ¨ S3 å­˜å‚¨æ¡¶ç­–ç•¥ä¸Šä½¿ç”¨ aws:SecureTransport æ¡ä»¶ä»¥ä»…å…è®¸é€šè¿‡ HTTPS (TLS) çš„åŠ å¯†è¿æ¥ã€‚é…ç½®æ¯ä¸ª S3 å­˜å‚¨æ¡¶çš„é»˜è®¤åŠ å¯†ï¼Œä»¥ä½¿ç”¨å¸¦æœ‰ AWS KMS å¯†é’¥çš„æœåŠ¡å™¨ç«¯åŠ å¯†(SSE-KMS)ã€‚åˆ†é…åˆè§„å›¢é˜Ÿæ¥ç®¡ç† KMS å¯†é’¥ã€‚</p><p><code>SSE-KMSæ˜¯KMSç®¡ç†å¯†é’¥</code></p><p>D. åœ¨ S3 å­˜å‚¨æ¡¶ç­–ç•¥ä¸Šä½¿ç”¨ aws:SecureTransport æ¡ä»¶ä»¥ä»…å…è®¸é€šè¿‡ HTTPS (TLS) è¿›è¡ŒåŠ å¯†è¿æ¥ã€‚ä½¿ç”¨ Amazon Macie ä¿æŠ¤å­˜å‚¨åœ¨ Amazon S3 ä¸­çš„æ•æ„Ÿæ•°æ®ã€‚åˆ†é…åˆè§„å›¢é˜Ÿæ¥ç®¡ç†</p><p><code>Macieåªä¿æŠ¤ä¸åŠ å¯†</code></p></li><li><p>372-B</p><p>ä¸€å®¶å…¬å¸æƒ³è¦å°† Oracle æ•°æ®åº“è¿ç§»åˆ° AWSã€‚è¯¥æ•°æ®åº“ç”±ä¸€ä¸ªè¡¨ç»„æˆï¼Œå…¶ä¸­åŒ…å«æ•°ç™¾ä¸‡å¼ é«˜åˆ†è¾¨ç‡çš„åœ°ç†ä¿¡æ¯ç³»ç»Ÿ (GIS) å›¾åƒï¼Œå¹¶é€šè¿‡åœ°ç†ä»£ç è¿›è¡Œè¯†åˆ«ã€‚å½“è‡ªç„¶ç¾å®³å‘ç”Ÿæ—¶ï¼Œ<strong>æ¯éš”å‡ åˆ†é’Ÿå°±ä¼šæ›´æ–°æ•°ä¸‡å¼ å›¾åƒã€‚æ¯ä¸ªåœ°ç†ä»£ç éƒ½æœ‰ä¸€ä¸ªä¸ä¹‹ç›¸å…³è”çš„å›¾åƒæˆ–è¡Œ<code>æš—ç¤ºç€æ•°æ®çš„é¢‘ç¹æ›´æ–°å’Œå˜åŒ–</code>ã€‚</strong>ã€‚è¯¥å…¬å¸å¸Œæœ›æœ‰ä¸€ä¸ªåœ¨æ­¤ç±»äº‹ä»¶æœŸé—´å…·æœ‰é«˜å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§çš„è§£å†³æ–¹æ¡ˆã€‚<br>å“ªç§è§£å†³æ–¹æ¡ˆæœ€ç»æµé«˜æ•ˆåœ°æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>A. å°†å›¾åƒå’Œåœ°ç†ä»£ç å­˜å‚¨åœ¨æ•°æ®åº“è¡¨ä¸­ã€‚ä½¿ç”¨åœ¨ Amazon RDS å¤šå¯ç”¨åŒºæ•°æ®åº“å®ä¾‹ä¸Šè¿è¡Œçš„ Oracleã€‚</p><p>B. å°†å›¾åƒå­˜å‚¨åœ¨ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚ä½¿ç”¨ Amazon DynamoDBï¼Œå°†åœ°ç†ä»£ç ä½œä¸ºé”®ï¼Œå°†å›¾åƒ S3 URL ä½œä¸ºå€¼ã€‚</p><p><code>æ‚¨å¯ä»¥å°†å›¾åƒå­˜å‚¨åœ¨é«˜åº¦å¯æ‰©å±•çš„ Amazon S3 ä¸­ï¼ŒåŒæ—¶ä½¿ç”¨ DynamoDB æ¥å¿«é€Ÿæ£€ç´¢åœ°ç†ä»£ç å’Œå›¾åƒçš„æ˜ å°„å…³ç³»ã€‚è¿™ç§æ–¹å¼å¯ä»¥å¤„ç†æ•°æ®çš„é¢‘ç¹æ›´æ–°ï¼ŒåŒæ—¶ä¹Ÿç¡®ä¿æ•°æ®çš„å¯ç”¨æ€§å’Œå¯é æ€§ã€‚</code></p><p>C. å°†å›¾åƒå’Œåœ°ç†ä»£ç å­˜å‚¨åœ¨ Amazon DynamoDB è¡¨ä¸­ã€‚åœ¨é«˜è´Ÿè½½æœŸé—´é…ç½® DynamoDB<br>Accelerator (DAX)ã€‚</p><p><code>DAXæ²¡å¿…è¦</code></p><p>D. å°†å›¾åƒå­˜å‚¨åœ¨ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚å°†åœ°ç†ä»£ç å’Œå›¾åƒ S3 URL å­˜å‚¨åœ¨æ•°æ®åº“è¡¨ä¸­ã€‚ä½¿ç”¨åœ¨ Amazon RDS å¤šå¯ç”¨åŒºæ•°æ®åº“å®ä¾‹ä¸Šè¿è¡Œçš„ Oracle</p><p><code>å°†åœ°ç†ä»£ç å’Œå›¾åƒ S3 URL å­˜å‚¨åœ¨æ•°æ®åº“è¡¨ä¸­å¯èƒ½ä¼šå¯¼è‡´**æ•°æ®åº“è¿‡äºåºå¤§**ï¼Œ**é™ä½æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§ã€‚**</code></p></li><li><p>379-B</p><p>ä¸€å®¶å…¬å¸æ‰˜ç®¡ä¸€ä¸ªä½¿ç”¨ä¸ AWS Lambda é›†æˆçš„ Amazon API Gateway API åç«¯çš„å‰ç«¯åº”ç”¨ç¨‹åº.å½“ API æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œ<strong>the Lambda function loads many libraries-Lambda å‡½æ•°ä¼šåŠ è½½è®¸å¤šåº“</strong>ã€‚ç„¶åï¼ŒLambda å‡½æ•°è¿æ¥åˆ°Amazon RDS æ•°æ®åº“ï¼Œå¤„ç†æ•°æ®ï¼Œå¹¶å°†æ•°æ®è¿”å›åˆ°å‰ç«¯åº”ç”¨ç¨‹åºã€‚è¯¥å…¬å¸å¸Œæœ›ç¡®ä¿æ‰€æœ‰ç”¨æˆ·çš„å“åº”å»¶è¿Ÿå°½å¯èƒ½ä½ï¼ŒåŒæ—¶å¯¹å…¬å¸è¿è¥çš„æ›´æ”¹æœ€å°‘ã€‚<br>å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><aside>â¡ï¸ åœ¨ AWS Lambda ä¸­ï¼Œå½“ä¸€ä¸ªå‡½æ•°å®ä¾‹é¦–æ¬¡å¯åŠ¨æ—¶ï¼Œå®ƒéœ€è¦åŠ è½½æ‰§è¡Œæ‰€éœ€çš„è¿è¡Œæ—¶ç¯å¢ƒã€ä»£ç å’Œä¾èµ–é¡¹ï¼ˆä¾‹å¦‚åº“ã€æ¨¡å—ç­‰ï¼‰ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸º "å†·å¯åŠ¨"ã€‚</aside><p>A. åœ¨å‰ç«¯åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´å»ºç«‹è¿æ¥ï¼Œç»•è¿‡ API ä½¿æŸ¥è¯¢é€Ÿåº¦æ›´å¿«ã€‚</p><p><code>å»ºè®®ä½¿ç”¨ API Gateway æ¥å¤„ç†å‰ç«¯åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“ä¹‹é—´çš„äº¤äº’ã€‚ç›´æ¥è¿æ¥å‰ç«¯åº”ç”¨ç¨‹åºå’Œæ•°æ®åº“å¯èƒ½å¯¼è‡´å®‰å…¨æ€§å’Œæ€§èƒ½é—®é¢˜ã€‚</code></p><p>B. é…ç½®å¤„ç†è¯·æ±‚çš„ Lambda å‡½æ•°çš„å¹¶å‘æ€§ã€‚</p><p>Congure <strong>provisioned concurrency</strong> for the Lambda function that handles the requests</p><p>ç¡®ä¿æœ‰è¶³å¤Ÿæ•°é‡çš„ Lambda å‡½æ•°å®ä¾‹ä¸€ç›´å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œä»è€Œå‡å°‘å†·å¯åŠ¨å»¶è¿Ÿï¼Œæé«˜å“åº”æ—¶é—´å¹¶é™ä½ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´ã€‚</p><p>C. åœ¨ Amazon S3 ä¸­ç¼“å­˜æŸ¥è¯¢ç»“æœï¼Œä»¥ä¾¿æ›´å¿«åœ°æ£€ç´¢ç±»ä¼¼æ•°æ®é›†ã€‚</p><p><code>Lambda å‡½æ•°åœ¨æ¯æ¬¡è¯·æ±‚æ—¶éœ€è¦ä»æ•°æ®åº“è·å–æ•°æ®ï¼Œç„¶åè¿›è¡Œå¤„ç†ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ç¼“å­˜çš„æ•ˆæœæœ‰é™ã€‚</code></p><p>D. å¢åŠ æ•°æ®åº“çš„å¤§å°ä»¥å¢åŠ  Lambda ä¸€æ¬¡å¯ä»¥å»ºç«‹çš„è¿æ¥æ•°ã€‚</p><p><code>å¢åŠ è¿æ¥æ•°å¹¶ä¸ä¸€å®šä¼šç›´æ¥è§£å†³å»¶è¿Ÿé—®é¢˜</code></p></li><li><p>385-C</p><p>è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ­£åœ¨åˆ›å»ºæ–°çš„ VPC è®¾è®¡ã€‚æœ‰ä¸¤ä¸ªç”¨äºè´Ÿè½½å‡è¡¡å™¨çš„å…¬æœ‰å­ç½‘ã€ä¸¤ä¸ªç”¨äºWeb æœåŠ¡å™¨çš„ç§æœ‰å­ç½‘å’Œä¸¤ä¸ªç”¨äº MySQL çš„ç§æœ‰å­ç½‘ã€‚ Web æœåŠ¡å™¨ä»…ä½¿ç”¨ HTTPSã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå·²ç»ä¸ºè´Ÿè½½å‡è¡¡å™¨åˆ›å»ºäº†ä¸€ä¸ªå®‰å…¨ç»„ï¼Œå…è®¸æ¥è‡ª 0.0.0.0&#x2F;0 çš„ç«¯å£ 443ã€‚å…¬å¸æ”¿ç­–è¦æ±‚æ¯ä¸ªèµ„æºå…·æœ‰ä»èƒ½å¤Ÿæ‰§è¡Œå…¶ä»»åŠ¡æ‰€éœ€çš„<em><strong>æœ€å°‘è®¿é—®æƒé™</strong></em>ã€‚<br>è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”ä½¿ç”¨å“ªç§é™„åŠ é…ç½®ç­–ç•¥æ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>A. ä¸º Web æœåŠ¡å™¨åˆ›å»º<strong>security group</strong>å¹¶å…è®¸æ¥è‡ª 0.0.0.0&#x2F;0 çš„ç«¯å£ 443ã€‚ä¸º MySQL æœåŠ¡å™¨åˆ›å»º<strong>security group</strong>ï¼Œå¹¶å…è®¸ Web æœåŠ¡å™¨å®‰å…¨ç»„çš„ç«¯å£ 3306ã€‚ </p><p>B. ä¸º Web æœåŠ¡å™¨åˆ›å»º<strong>NACL</strong>ï¼Œå¹¶å…è®¸æ¥è‡ª 0.0.0.0&#x2F;0 çš„ç«¯å£ 443ã€‚ä¸º MySQL æœåŠ¡å™¨åˆ›å»º<strong>NACL</strong>ï¼Œå¹¶å…è®¸æ¥è‡ª Web æœåŠ¡å™¨å®‰å…¨ç»„çš„ç«¯å£ 3306ã€‚ </p><p>C. ä¸º Web æœåŠ¡å™¨åˆ›å»º<strong>security group</strong>å¹¶å…è®¸æ¥è‡ªè´Ÿè½½å‡è¡¡å™¨çš„ç«¯å£443ã€‚ä¸º MySQL æœåŠ¡å™¨åˆ›å»º<strong>security group</strong>,å¹¶å…è®¸ Web æœåŠ¡å™¨å®‰å…¨ç»„çš„ç«¯å£ 3306ã€‚</p><p>D. ä¸º Web æœåŠ¡å™¨åˆ›å»º<strong>NACL</strong>ï¼Œå¹¶å…è®¸æ¥è‡ªè´Ÿè½½å‡è¡¡å™¨çš„ç«¯å£ 443ã€‚ä¸º MySQL æœåŠ¡å™¨åˆ›å»º<strong>NACL</strong>ï¼Œå¹¶å…è®¸æ¥è‡ª Web æœåŠ¡å™¨å®‰å…¨ç»„çš„ç«¯å£ 3306ã€‚</p><p>**<code>æœ€å°‘è®¿é—®æƒé™**ï¼šæ ¹æ®å…¬å¸æ”¿ç­–ï¼Œæ¯ä¸ªèµ„æºåº”å…·æœ‰æ‰§è¡Œå…¶ä»»åŠ¡æ‰€éœ€çš„æœ€å°‘è®¿é—®æƒé™ã€‚å› æ­¤ï¼Œåº”è¯¥é™åˆ¶ä¸å¿…è¦çš„å…¬å¼€è®¿é—®ã€‚å®‰å…¨ç»„æ˜¯åœ¨instance levelæ§åˆ¶æµé‡çš„ä¸€ç§æœ‰æ•ˆæ–¹å¼ã€‚</code></p><p><code>ç§æœ‰å­ç½‘ä¸­Web,mysqléœ€è¦ä»è´Ÿè½½å‡è¡¡å™¨æ¥æ”¶ HTTPS æµé‡ã€‚å› æ­¤ï¼Œä¸º Web æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªå®‰å…¨ç»„ï¼Œä»…å…è®¸æ¥è‡ªè´Ÿè½½å‡è¡¡å™¨çš„ç«¯å£ 443 çš„æµé‡ã€‚</code></p></li></ul><h2 id="210-D"><a href="#210-D" class="headerlink" title="210-D"></a>210-D</h2><p>  ä¸€å®¶å…¬å¸æä¾›çš„é£Ÿå“é…é€æœåŠ¡å‘å±•è¿…é€Ÿã€‚ç”±äºä¸šåŠ¡å¢é•¿ï¼Œè¯¥å…¬å¸çš„è®¢å•å¤„ç†ç³»ç»Ÿåœ¨é«˜å³°æ—¶<br>  æ®µé‡åˆ°äº†æ‰©å±•é—®é¢˜ã€‚å½“å‰çš„æ¶æ„åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š<br>  â€¢ åœ¨ Amazon EC2 Auto Scaling ç»„ä¸­è¿è¡Œçš„ä¸€ç»„ Amazon EC2 å®ä¾‹ï¼Œç”¨äºä»åº”ç”¨ç¨‹åºæ”¶é›†è®¢å• </p><p>  â€¢ åœ¨ Amazon EC2 Auto Scaling ç»„ä¸­è¿è¡Œçš„å¦ä¸€ç»„ EC2 å®ä¾‹ï¼Œç”¨äºå®Œæ•´è®¢å•</p><p>  è®¢å•æ”¶é›†è¿‡ç¨‹å‘ç”Ÿå¾—å¾ˆå¿«ï¼Œ<strong>ä½†è®¢å•å±¥è¡Œè¿‡ç¨‹å¯èƒ½éœ€è¦æ›´é•¿çš„æ—¶é—´</strong>ã€‚æ•°æ®ä¸å¾—å› ç¼©æ”¾äº‹ä»¶è€Œä¸¢å¤±ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»ç¡®ä¿è®¢å•æ”¶é›†æµç¨‹å’Œè®¢å•å±¥è¡Œæµç¨‹éƒ½å¯ä»¥åœ¨é«˜å³°æ—¶æ®µé€‚å½“æ‰©å±•ã€‚è¯¥è§£å†³æ–¹æ¡ˆå¿…é¡»ä¼˜åŒ–å…¬å¸ AWS èµ„æºçš„åˆ©ç”¨ç‡ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. ä½¿ç”¨ Amazon CloudWatch æŒ‡æ ‡ç›‘æ§ Auto Scaling ç»„ä¸­æ¯ä¸ªå®ä¾‹çš„ CPUã€‚æ ¹æ®å³°å€¼å·¥ä½œ<br>  è´Ÿè½½å€¼é…ç½®æ¯ä¸ª Auto Scaling ç»„çš„æœ€å°å®¹é‡ã€‚</p><p>  B. ä½¿ç”¨ Amazon CloudWatch æŒ‡æ ‡ç›‘æ§ Auto Scaling ç»„ä¸­æ¯ä¸ªå®ä¾‹çš„ CPUã€‚é…ç½®CloudWatch è­¦æŠ¥ä»¥è°ƒç”¨ Amazon Simple Notication Service (Amazon SNS) ä¸»é¢˜ï¼Œè¯¥ä¸»é¢˜æ ¹æ®éœ€è¦åˆ›å»ºå…¶ä»– Auto Scaling ç»„ã€‚</p><p>  C. é¢„ç½®ä¸¤ä¸ª Amazon Simple Queue Service (Amazon SQS) é˜Ÿåˆ—ï¼šä¸€ä¸ªç”¨äºè®¢å•æ”¶é›†ï¼Œå¦ä¸€ä¸ªç”¨äºè®¢å•å±¥è¡Œã€‚é…ç½® EC2 å®ä¾‹ä»¥è½®è¯¢å…¶å„è‡ªçš„é˜Ÿåˆ—ã€‚æ ¹æ®é˜Ÿåˆ—å‘é€çš„é€šçŸ¥æ‰©å±• Auto Scaling ç»„ã€‚</p><p>  D. é¢„ç½®ä¸¤ä¸ª Amazon Simple Queue Service (Amazon SQS) é˜Ÿåˆ—ï¼šä¸€ä¸ªç”¨äºè®¢å•æ”¶é›†ï¼Œå¦ä¸€ä¸ªç”¨äºè®¢å•å±¥è¡Œã€‚é…ç½® EC2 å®ä¾‹ä»¥è½®è¯¢å…¶å„è‡ªçš„é˜Ÿåˆ—ã€‚æ ¹æ®æ¯ä¸ªå®ä¾‹çš„ç§¯å‹è®¡ç®—åˆ›å»ºä¸€ä¸ªæŒ‡æ ‡<strong>Create a metric based on a backlog per instance calculation</strong>, æ ¹æ®æ­¤æŒ‡æ ‡æ‰©å±• Auto Scaling ç»„&#x2F;</p><p>  <code>åœ¨æ¯ä¸ª Amazon EC2 å®ä¾‹ä¸Šè®¡ç®—ä¸€ä¸ªæŒ‡æ ‡ï¼Œè¯¥æŒ‡æ ‡åæ˜ äº†å¾…å¤„ç†çš„æ¶ˆæ¯æ•°é‡ï¼ˆå³ç§¯å‹ï¼‰ã€‚ç„¶åï¼Œæ ¹æ®è¿™ä¸ªæŒ‡æ ‡æ¥åŠ¨æ€åœ°è°ƒæ•´ Auto Scaling ç»„ä¸­çš„å®ä¾‹æ•°é‡ã€‚</code></p><p>  <code>SQS é˜Ÿåˆ—å……å½“è®¢å•æ”¶é›†æµç¨‹å’Œè®¢å•å¤„ç†æµç¨‹ä¹‹é—´çš„ç¼“å†²ï¼Œä½¿ç³»ç»Ÿèƒ½å¤Ÿæ›´æœ‰æ•ˆåœ°å¤„ç†çªå‘çš„è®¢å•æµé‡ã€‚</code></p><h2 id="218-AE"><a href="#218-AE" class="headerlink" title="218-AE"></a>218-AE</h2><p>  ä¸€å®¶å…¬å¸æ‹¥æœ‰ä¸€ä¸ªåœ¨å…·æœ‰å¼¹æ€§ IP åœ°å€çš„å…¬æœ‰å­ç½‘ä¸­çš„ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œçš„ WebæœåŠ¡å™¨ã€‚é»˜è®¤å®‰å…¨ç»„åˆ†é…ç»™ EC2 å®ä¾‹ã€‚é»˜è®¤ç½‘ç»œ ACL å·²ä¿®æ”¹ä¸ºé˜»æ­¢æ‰€æœ‰ tracã€‚</p><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦ä½¿ Web æœåŠ¡å™¨å¯ä»¥<strong>é€šè¿‡ç«¯å£ 443 ä»ä»»ä½•åœ°æ–¹è®¿é—®</strong>ã€‚<br>  å“ªç§æ­¥éª¤ç»„åˆå¯ä»¥å®Œæˆæ­¤ä»»åŠ¡ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. åˆ›å»ºä¸€ä¸ªå®‰å…¨ç»„ï¼Œå…¶ä¸­åŒ…å«å…è®¸æ¥è‡ªæº 0.0.0.0&#x2F;0 çš„ TCP ç«¯å£ 443 çš„è§„åˆ™ã€‚</p><p>  B. åˆ›å»ºä¸€ä¸ªå®‰å…¨ç»„ï¼Œå…¶ä¸­åŒ…å«å…è®¸ TCP ç«¯å£ 443 åˆ°è¾¾ç›®æ ‡ 0.0.0.0&#x2F;0 çš„è§„åˆ™ã€‚</p><p>  C. æ›´æ–°ç½‘ç»œ ACL ä»¥å…è®¸æ¥è‡ªæº 0.0.0.0&#x2F;0 çš„ TCP ç«¯å£ 443ã€‚</p><p>  D. æ›´æ–°ç½‘ç»œ ACL ä»¥å…è®¸ä»æº 0.0.0.0&#x2F;0 åˆ°ç›®æ ‡ 0.0.0.0&#x2F;0 çš„å…¥ç«™&#x2F;å‡ºç«™ TCP ç«¯å£ 443ã€‚</p><p>  E. æ›´æ–°ç½‘ç»œ ACL ä»¥å…è®¸ä»æº 0.0.0.0&#x2F;0 çš„å…¥ç«™ TCP ç«¯å£ 443 å’Œåˆ°ç›®æ ‡ 0.0.0.0&#x2F;0 çš„å‡ºç«™<br>  TCP ç«¯å£ 32768-65535ã€‚</p><p>  NACLæ˜¯statelessï¼Œ<strong>å¿…é¡»</strong>åŒæ—¶é…ç½®å…¥ç«™å’Œå‡ºç«™è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å…è®¸æŸä¸ªç«¯å£çš„å…¥ç«™æµé‡ï¼Œä½†æ²¡æœ‰ç›¸åº”çš„å‡ºç«™è§„åˆ™ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å¯èƒ½ä¼šæ¥æ”¶è¯·æ±‚ï¼Œä½†ç”±äºå‡ºç«™è§„åˆ™çš„é™åˆ¶ï¼Œæ— æ³•æ­£å¸¸å‘é€å“åº”ã€‚</p><ul><li><p>224-CE</p><p>ä¸€å®¶å…¬å¸æœ€è¿‘é€šè¿‡åœ¨å•ä¸ª AWS åŒºåŸŸçš„ Amazon EC2 å®ä¾‹ä¸Šé‡æ–°æ‰˜ç®¡åº”ç”¨ç¨‹åºï¼Œå°†å…¶ Webåº”ç”¨ç¨‹åºè¿ç§»åˆ° AWSã€‚è¯¥å…¬å¸å¸Œæœ›é‡æ–°è®¾è®¡å…¶åº”ç”¨ç¨‹åºæ¶æ„ï¼Œä»¥å®ç°é«˜å¯ç”¨æ€§å’Œå®¹é”™èƒ½åŠ›ã€‚ Trac å¿…é¡»éšæœºåˆ°è¾¾æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ EC2 å®ä¾‹ã€‚<br>å…¬å¸åº”è¯¥é‡‡å–å“ªäº›æ­¥éª¤ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>A. åˆ›å»º Amazon Route 53 æ•…éšœè½¬ç§»è·¯ç”±ç­–ç•¥ã€‚<br>B. åˆ›å»º Amazon Route 53 åŠ æƒè·¯ç”±ç­–ç•¥ã€‚<br>C. åˆ›å»º Amazon Route 53 å¤šå€¼åº”ç­”è·¯ç”±ç­–ç•¥ã€‚</p><table><thead><tr><th>è·¯ç”±ç­–ç•¥</th><th>ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><em><strong>æ•…éšœè½¬ç§»è·¯ç”±ç­–ç•¥ï¼ˆFailoverï¼‰</strong></em></td><td>- å½“æ´»åŠ¨å®ä¾‹<strong>æœªé€šè¿‡å¥åº·æ£€æŸ¥</strong>æ—¶ï¼Œå¤‡ç”¨å®ä¾‹å°†æ¥ç®¡å¹¶æˆä¸ºæ´»åŠ¨å®ä¾‹</td></tr><tr><td><em><strong>æƒé‡è·¯ç”±ç­–ç•¥ï¼ˆWeightedï¼‰</strong></em></td><td>- æŒ‰ç…§æƒé‡åˆ†é…åˆ°ä¸åŒèµ„æº</td></tr><tr><td><em><strong>å¤šå€¼è·¯ç”±ç­–ç•¥ï¼ˆMultivalueï¼‰</strong></em></td><td>- ç”¨äºå°†æµé‡è·¯ç”±åˆ°å¤šä¸ªèµ„æº</td></tr><tr><td>åŸºäºå»¶è¿Ÿçš„è·¯ç”±ç­–ç•¥ï¼ˆLatencyï¼‰</td><td>- é‡å®šå‘åˆ°è·ç¦»ç”¨æˆ·æœ€è¿‘çš„èµ„æºï¼Œé€‚ç”¨äºè¦æ±‚<strong>ä½å»¶è¿Ÿçš„å…¨çƒæ€§åº”ç”¨</strong>ã€‚</td></tr><tr><td>ç®€å•è·¯ç”±ç­–ç•¥ï¼ˆSimpleï¼‰</td><td>æµé‡è·¯ç”±åˆ°ä¸€ä¸ªèµ„æº</td></tr><tr><td>åœ°ç†ä½ç½®è·¯ç”±ç­–ç•¥ï¼ˆGeolocationï¼‰</td><td>- åŸºäºç”¨æˆ·ä½ç½®è¿›è¡Œè·¯ç”±</td></tr></tbody></table><p>D. å¯åŠ¨ä¸‰ä¸ª EC2 å®ä¾‹ï¼šä¸¤ä¸ªå®ä¾‹ä½äºä¸€ä¸ªå¯ç”¨åŒºï¼Œä¸€ä¸ªå®ä¾‹ä½äºå¦ä¸€ä¸ªå¯ç”¨åŒºã€‚</p><p><code>è€ƒè™‘ä»¥ä¸‹æƒ…å†µï¼š</code></p><ul><li><code>å¦‚æœä¸€ä¸ªå¯ç”¨åŒºä¸­çš„å®ä¾‹å‡ºç°é—®é¢˜ï¼ˆå¦‚ç¡¬ä»¶æ•…éšœï¼‰ï¼Œé‚£ä¹ˆè¯¥å¯ç”¨åŒºä¸­çš„æ‰€æœ‰å®ä¾‹éƒ½å°†å—åˆ°å½±å“ã€‚</code></li><li><code>å½“åªæœ‰ä¸€ä¸ªå®ä¾‹åœ¨ä¸€ä¸ªå¯ç”¨åŒºä¸­æ—¶ï¼Œå¦‚æœè¯¥å¯ç”¨åŒºå‡ºç°æ•…éšœï¼Œä¼šå¯¼è‡´æµé‡ä¸èƒ½è¢«å®Œå…¨åˆ†é…ã€‚</code></li></ul><p>E. å¯åŠ¨å››ä¸ª EC2 å®ä¾‹ï¼šä¸€ä¸ªå¯ç”¨åŒºä¸­çš„ä¸¤ä¸ªå®ä¾‹å’Œå¦ä¸€ä¸ªå¯ç”¨åŒºä¸­çš„ä¸¤ä¸ªå®ä¾‹ã€‚</p><p><code>è¿™æ ·åšçš„å¥½å¤„åœ¨äºï¼š</code></p><ul><li><code>å¦‚æœä¸€ä¸ªå¯ç”¨åŒºä¸­çš„ä¸€ä¸ªå®ä¾‹å‡ºç°é—®é¢˜ï¼Œè¯¥å¯ç”¨åŒºçš„å¦ä¸€ä¸ªå®ä¾‹ä»ç„¶å¯ä»¥å¤„ç†æµé‡ï¼Œç¡®ä¿æœåŠ¡çš„æŒç»­å¯ç”¨æ€§ã€‚</code></li><li><code>å³ä½¿ä¸€ä¸ªå¯ç”¨åŒºå®Œå…¨å¤±æ•ˆï¼Œå¦ä¸€ä¸ªå¯ç”¨åŒºä¸­çš„ä¸¤ä¸ªå®ä¾‹ä»ç„¶å¯ä»¥å¤„ç†æµé‡ï¼Œä¿è¯äº†æ›´é«˜çš„å®¹é”™æ€§å’Œå¯ç”¨æ€§ã€‚</code></li><li><code>ç”±äºæ¯ä¸ªå¯ç”¨åŒºéƒ½æœ‰ä¸¤ä¸ªå®ä¾‹ï¼Œæµé‡åœ¨å¯ç”¨åŒºä¹‹é—´æ›´å‡åŒ€åœ°åˆ†å¸ƒï¼Œä»è€Œæä¾›æ›´å¥½çš„è´Ÿè½½å‡è¡¡ã€‚</code></li></ul></li></ul><h2 id="226-AE"><a href="#226-AE" class="headerlink" title="226-AE"></a>226-AE</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨åœ¨ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œçš„ <strong>RESTful Web æœåŠ¡åº”ç”¨ç¨‹åº</strong>ä»æ•°åƒä¸ªè¿œç¨‹è®¾å¤‡æ”¶é›†æ•°æ®ã€‚ EC2 å®ä¾‹<strong>æ¥æ”¶</strong>åŸå§‹æ•°æ®ï¼Œ<strong>è½¬æ¢</strong>åŸå§‹æ•°æ®ï¼Œå¹¶å°†æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ Amazon S3å­˜å‚¨æ¡¶ä¸­ã€‚è¿œç¨‹è®¾å¤‡çš„æ•°é‡å¾ˆå¿«å°†å¢åŠ åˆ°æ•°ç™¾ä¸‡ã€‚è¯¥å…¬å¸éœ€è¦ä¸€ä¸ªé«˜åº¦å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆï¼Œæœ€å¤§é™åº¦åœ°å‡å°‘è¿è¥å¼€é”€ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›æ­¥éª¤ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  <strong>A.</strong> ä½¿ç”¨ AWS Glue å¤„ç† Amazon S3 ä¸­çš„åŸå§‹æ•°æ®ã€‚</p><p>  <code>å¯æ‰©å±•ã€æ— æœåŠ¡å™¨çš„æ‰˜ç®¡å¼æ•°æ®é›†æˆã€è½¬æ¢å’ŒåŠ è½½æœåŠ¡ã€‚</code><br>  <strong>B.</strong> ä½¿ç”¨ Amazon Route 53 å°† trac è·¯ç”±åˆ°ä¸åŒçš„ EC2 å®ä¾‹ã€‚<br>  <strong>C.</strong> æ·»åŠ æ›´å¤š EC2 å®ä¾‹ä»¥é€‚åº”ä¸æ–­å¢åŠ çš„ä¼ å…¥æ•°æ®é‡ã€‚</p><p>  <strong>D.</strong> å°†åŸå§‹æ•°æ®å‘é€åˆ° Amazon Simple Queue Service (Amazon SQS)ã€‚ä½¿ç”¨ EC2 å®ä¾‹æ¥å¤„ç†æ•°æ®ã€‚<br>  <strong>E.</strong> ä½¿ç”¨ Amazon API Gateway å°†åŸå§‹æ•°æ®å‘é€åˆ° Amazon Kinesis æ•°æ®æµã€‚é…ç½® Amazon Kinesis Data Firehose ä»¥ä½¿ç”¨æ•°æ®æµä½œä¸ºæºå°†æ•°æ®ä¼ è¾“åˆ° Amazon S3</p><p>  <code>Amazon API Gateway æ˜¯ AWS æä¾›çš„ä¸€é¡¹æ‰˜ç®¡æœåŠ¡ï¼Œç”¨äºåˆ›å»ºã€éƒ¨ç½²å’Œç®¡ç† APIã€‚å®ƒå¯ä»¥ç”¨äºå®ç° **RESTful web services**ï¼Œå³åŸºäº REST åŸåˆ™çš„åº”ç”¨ç¨‹åºæ¶æ„é£æ ¼ã€‚</code></p><h2 id="273-B"><a href="#273-B" class="headerlink" title="273-B"></a>273-B</h2><p>  ä¸€å®¶å¿«é€Ÿå‘å±•çš„ç”µå­å•†åŠ¡å…¬å¸æ­£åœ¨å•ä¸ª AWS åŒºåŸŸä¸­è¿è¡Œå…¶å·¥ä½œè´Ÿè½½ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»åˆ›å»ºåŒ…å«**ä¸åŒ AWS åŒºåŸŸã€çœ‹æ¸…æ¥šï¼æ˜¯åŒºåŸŸregionï¼Œä¸æ˜¯AZå¯ç”¨åŒºã€‘**çš„ç¾éš¾æ¢å¤ (DR) ç­–ç•¥ã€‚è¯¥å…¬å¸å¸Œæœ›å…¶æ•°æ®åº“åœ¨ç¾éš¾æ¢å¤åŒºåŸŸä¿æŒæœ€æ–°çŠ¶æ€ï¼Œå¹¶å°½å¯èƒ½å‡å°‘å»¶è¿Ÿã€‚ç¾éš¾æ¢å¤åœ°åŒºçš„å‰©ä½™åŸºç¡€è®¾æ–½éœ€è¦ä»¥å‡å°‘çš„å®¹é‡è¿è¡Œï¼Œå¹¶ä¸”å¿…é¡»èƒ½å¤Ÿåœ¨å¿…è¦æ—¶æ‰©å¤§è§„æ¨¡ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€ä½çš„æ¢å¤æ—¶é—´ç›®æ ‡ (RTO) æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>A.</strong> ä½¿ç”¨ Amazon Aurora å…¨å±€æ•°æ®åº“è¿›è¡Œpilot light deployment.ã€‚<br>  <strong>B.</strong> ä½¿ç”¨å…·æœ‰warm standby deploymentçš„ Amazon Aurora å…¨å±€æ•°æ®åº“ã€‚</p><p>  <strong>C</strong>. å°† Amazon RDS å¤š<em><strong>å¯ç”¨åŒº</strong></em>æ•°æ®åº“å®ä¾‹ä¸pilot light deployment.ç»“åˆä½¿ç”¨ã€‚<br>  <strong>D</strong>. å°† Amazon RDS å¤š<em><strong>å¯ç”¨åŒº</strong></em>æ•°æ®åº“å®ä¾‹ä¸warm standby deploymentç»“åˆä½¿ç”¨</p><p>  <code>multi-AZè€Œä¸æ˜¯cross region</code></p><blockquote><p><strong>Pilot Light</strong></p><ul><li>ä»…åˆ›å»ºå¿…éœ€çš„åŸºç¡€è®¾æ–½</li><li>åœ¨ç¾éš¾å‘ç”Ÿæ—¶ï¼Œæ‰©å±•è¿™äº›æ ¸å¿ƒç»„ä»¶ä»¥æ”¯æŒå®Œæ•´ç¯å¢ƒçš„æ¢å¤ã€‚</li></ul></blockquote><blockquote><p><strong>Warm Standby æ¸©å¤‡ç­–ç•¥</strong>ï¼š</p><ul><li><em><strong>éƒ¨ç½²æ¯”Pilot Lightæ›´å¤šçš„åŸºç¡€è®¾æ–½</strong></em>ï¼Œä»¥ä¾¿å¯ä»¥æ›´å¿«åœ°åˆ‡æ¢ä¸ºæ´»åŠ¨çŠ¶æ€ã€‚åœ¨DRåŒºåŸŸä¸­ç»´æŠ¤ä¸€ä¸ªè¾ƒå¤§çš„è¯»å‰¯æœ¬ï¼Œä»¥å‡å°‘ç¾éš¾æ¢å¤æ—¶çš„å¯åŠ¨æ—¶é—´ã€‚</li><li>å¯ä»¥å¿«é€Ÿæ‰©å±•å¹¶æ¢å¤åˆ°å®Œæ•´ç¯å¢ƒã€‚</li></ul></blockquote><h2 id="247-CE"><a href="#247-CE" class="headerlink" title="247-CE"></a>247-CE</h2><p>  ä¸€å®¶å…¬å¸åœ¨ Amazon RDS for MySQL ä¸­éƒ¨ç½²äº†æ•°æ®åº“ã€‚ç”±äºäº‹åŠ¡å¢åŠ ï¼Œæ•°æ®åº“æ”¯æŒå›¢é˜ŸæŠ¥å‘Šæ•°æ®åº“å®ä¾‹è¯»å–é€Ÿåº¦ç¼“æ…¢ï¼Œå¹¶å»ºè®®æ·»åŠ åªè¯»å‰¯æœ¬ã€‚<br>  åœ¨å®æ–½æ­¤æ›´æ”¹ä¹‹å‰ï¼Œè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”é‡‡å–å“ªäº›æ“ä½œç»„åˆï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. åœ¨ RDS ä¸»èŠ‚ç‚¹ä¸Šå¯ç”¨ binlog å¤åˆ¶ã€‚</p><p>  <code>ç¡®ä¿ä¸»æ•°æ®åº“çš„æ›´æ”¹åœ¨å„ä¸ªå®ä¾‹é—´è¿›è¡ŒåŒæ­¥ã€‚</code></p><p>  B. ä¸ºæºæ•°æ®åº“å®ä¾‹é€‰æ‹©æ•…éšœè½¬ç§»ä¼˜å…ˆçº§ã€‚</p><p>  <strong>C. å…è®¸é•¿æ—¶é—´è¿è¡Œçš„äº‹åŠ¡åœ¨æºæ•°æ®åº“å®ä¾‹ä¸Šå®Œæˆã€‚</strong></p><p>  <code>ç¡®ä¿åœ¨æ·»åŠ åªè¯»å‰¯æœ¬ä¹‹å‰ï¼Œæ‰€æœ‰äº‹åŠ¡éƒ½å·²ç»å®Œæˆ</code></p><p>  D. åˆ›å»ºå…¨å±€è¡¨å¹¶æŒ‡å®šè¯¥è¡¨å¯ç”¨çš„ AWS åŒºåŸŸã€‚</p><p>  <strong>E. é€šè¿‡å°†å¤‡ä»½ä¿ç•™æœŸè®¾ç½®ä¸º 0 ä»¥å¤–çš„å€¼ï¼Œåœ¨æºå®ä¾‹ä¸Šå¯ç”¨è‡ªåŠ¨å¤‡ä»½ã€‚</strong></p><p>  <code>å¯ç”¨è‡ªåŠ¨å¤‡ä»½å¹¶è®¾ç½®å¤‡ä»½ä¿ç•™æœŸå¯ä»¥ç¡®ä¿æœ‰å¤‡ä»½å¯ä¾›æ¢å¤ï¼Œä»¥é˜²åœ¨æ·»åŠ åªè¯»å‰¯æœ¬æœŸé—´å‡ºç°é—®é¢˜ã€‚</code></p><ul><li><p>289-B</p><p>ä¸€å®¶å…¬å¸æœ‰ä¸€ä¸ª AWS Lambda å‡½æ•°ï¼Œéœ€è¦å¯¹ä½äºåŒä¸€ AWS è´¦æˆ·ä¸­çš„ Amazon S3 å­˜å‚¨æ¡¶è¿›è¡Œè¯»å–è®¿é—®ã€‚<br>å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å®‰å…¨çš„æ–¹å¼æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>A. åº”ç”¨æˆäºˆå¯¹ S3 å­˜å‚¨æ¡¶çš„è¯»å–è®¿é—®æƒé™çš„ S3 å­˜å‚¨æ¡¶ç­–ç•¥ã€‚</p><p><strong>B. å°† IAM è§’è‰²åº”ç”¨äº Lambda å‡½æ•°ã€‚å°† IAM ç­–ç•¥åº”ç”¨äºè§’è‰²ä»¥æˆäºˆå¯¹ S3 å­˜å‚¨æ¡¶çš„<br>è¯»å–è®¿é—®æƒé™ã€‚</strong></p><p><code>é€‰é¡¹ B ä½¿ç”¨æ›´ç²¾ç»†çš„æƒé™æ§åˆ¶æ–¹æ³•ï¼Œä»…å…è®¸ç‰¹å®š Lambda å‡½æ•°è®¿é—®èµ„æºï¼Œè€Œé€‰é¡¹ A æ˜¯åœ¨å­˜å‚¨æ¡¶çº§åˆ«ä¸Šè®¾ç½®æƒé™ï¼Œå¯èƒ½ä¸å¦‚é€‰é¡¹ B æä¾›çš„å®‰å…¨æ€§é«˜ã€‚</code></p><p>C. åœ¨ Lambda å‡½æ•°çš„ä»£ç ä¸­åµŒå…¥è®¿é—®å¯†é’¥å’Œç§˜å¯†å¯†é’¥ï¼Œä»¥æˆäºˆå¯¹ S3 å­˜å‚¨æ¡¶è¿›è¡Œè¯»å–è®¿é—®<br>æ‰€éœ€çš„ IAM æƒé™ã€‚</p><p><code>å°†è®¿é—®å¯†é’¥å’Œç§˜å¯†å¯†é’¥åµŒå…¥ä»£ç ä¸­æ˜¯ä¸å®‰å…¨çš„åšæ³•ï¼Œå› ä¸ºè¿™ä¼šæš´éœ²å‡­è¯å¹¶å¢åŠ æ³„éœ²é£é™©ï¼Œä»è€Œå¯èƒ½å¯¼è‡´å®‰å…¨æ¼æ´ã€‚</code></p><p>D. å°† IAM è§’è‰²åº”ç”¨äº Lambda å‡½æ•°ã€‚å°† IAM ç­–ç•¥åº”ç”¨äºè§’è‰²ä»¥æˆäºˆå¯¹è´¦æˆ·ä¸­<strong>æ‰€æœ‰ S3</strong><br>å­˜å‚¨æ¡¶çš„è¯»å–è®¿é—®æƒé™ã€‚</p><p><code>æä¾›äº†å¯¹**æ‰€æœ‰ S3 å­˜å‚¨æ¡¶**çš„è¯»å–æƒé™</code></p></li></ul><h2 id="3-A"><a href="#3-A" class="headerlink" title="3-A"></a>3-A</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨ AWS Organizations ç®¡ç†ä¸åŒéƒ¨é—¨çš„å¤šä¸ª AWS è´¦æˆ·ã€‚ç®¡ç†è´¦æˆ·æœ‰ä¸€ä¸ªåŒ…å«é¡¹ç›®æŠ¥å‘Šçš„ Amazon S3 å­˜å‚¨æ¡¶ã€‚è¯¥å…¬å¸å¸Œæœ›ä»…é™ AWS Organizations ä¸­ç»„ç»‡å†…è´¦æˆ·çš„ç”¨æˆ·è®¿é—®æ­¤ S3 å­˜å‚¨æ¡¶ã€‚å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„<em><strong>è¿è¥å¼€é”€</strong></em>æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>A. å°† aws PrimaryOrgID  global condition keyä»¥åŠå¯¹organization ID çš„å¼•ç”¨æ·»åŠ åˆ° S3 å­˜å‚¨æ¡¶ç­–ç•¥ã€‚</strong></p><p>  <code>åœ¨Conditionå…ƒç´ ä¸­æŒ‡å®šç»„ç»‡IDï¼Œè€Œä¸æ˜¯åˆ—å‡ºä½œä¸ºç»„ç»‡æˆå‘˜çš„æ‰€æœ‰å¸æˆ·</code></p><p>  B. ä¸ºæ¯ä¸ªéƒ¨é—¨<em><strong>åˆ›å»º</strong></em>ä¸€ä¸ªç»„ç»‡å•ä½ (OU)ã€‚å°† aws:PrincipalOrgPaths  global condition keyæ·»åŠ åˆ° S3å­˜å‚¨æ¡¶ç­–ç•¥ã€‚</p><p>  <code>åŸºäºAWS Organizationsçš„ç»„ç»‡ç»“æ„æ¥æ§åˆ¶è®¿é—®æƒé™ã€‚æ‚¨å¯ä»¥å®šä¹‰å“ªäº›éƒ¨é—¨ã€ç»„ç»‡å•å…ƒã€OUã€‘æˆ–è´¦æˆ·å¯ä»¥è®¿é—®ç‰¹å®šèµ„æºã€‚</code></p><p>  C. ä½¿ç”¨ AWS CloudTrail ç›‘æ§CreateAccountã€InviteAccountToOrganizationã€LeaveOrganization å’ŒRemoveAccountFromOrganization äº‹ä»¶ã€‚ç›¸åº”åœ°æ›´æ–° S3 å­˜å‚¨æ¡¶ç­–ç•¥ã€‚</p><p>  D. æ ‡è®°éœ€è¦è®¿é—® S3 å­˜å‚¨æ¡¶çš„æ¯ä¸ªç”¨æˆ·ã€‚å°† aws:PrincipalTag  global condition keyæ·»åŠ åˆ° S3 å­˜å‚¨æ¡¶ç­–ç•¥ã€‚</p><p>  <code>å®ƒå…è®¸æ‚¨æ ¹æ®é™„åŠ åˆ°èº«ä»½çš„æ ‡ç­¾ï¼ˆTagï¼‰æ¥æ§åˆ¶è®¿é—®æƒé™ã€‚è¿™å¯ä»¥ç”¨äºæ ¹æ®ç”¨æˆ·ã€è§’è‰²æˆ–å®ä½“çš„æ ‡ç­¾æ¥é™åˆ¶è®¿é—®ã€‚</code></p><h3 id="æ¡ä»¶é”®ã€condition-keysã€‘"><a href="#æ¡ä»¶é”®ã€condition-keysã€‘" class="headerlink" title="æ¡ä»¶é”®ã€condition keysã€‘"></a>æ¡ä»¶é”®ã€condition keysã€‘</h3><p>   **IAM advancedï¼š**æ¡ä»¶ï¼ˆConditionsï¼‰æ˜¯ä¸€ç§ç”¨äºå¢å¼ºè®¿é—®ç­–ç•¥çš„æœºåˆ¶ã€‚é€šè¿‡åœ¨ç­–ç•¥ä¸­æ·»åŠ æ¡ä»¶ï¼Œä½ å¯ä»¥è¿›ä¸€æ­¥é™åˆ¶å¯¹ AWS èµ„æºçš„è®¿é—®ï¼Œä½¿è®¿é—®æ§åˆ¶æ›´åŠ ç²¾ç»†å’Œçµæ´»ã€‚</p><h2 id="5-C"><a href="#5-C" class="headerlink" title="5-C"></a>5-C</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨å•ä¸ª Amazon EC2 å®ä¾‹åœ¨ AWS ä¸Šæ‰˜ç®¡ Web åº”ç”¨ç¨‹åºï¼Œè¯¥å®ä¾‹å°†ç”¨æˆ·ä¸Šä¼ çš„æ–‡æ¡£å­˜å‚¨åœ¨ Amazon EBS å·ä¸­ã€‚ä¸ºäº†è·å¾—æ›´å¥½çš„å¯æ‰©å±•æ€§å’Œå¯ç”¨æ€§ï¼Œè¯¥å…¬å¸å¤åˆ¶äº†æ¶æ„ï¼Œå¹¶åœ¨<strong>å¦ä¸€ä¸ªå¯ç”¨åŒºä¸­</strong>åˆ›å»ºäº†ç¬¬äºŒä¸ª EC2 å®ä¾‹å’Œ EBS å·ï¼Œå°†ä¸¤è€…æ”¾ç½®åœ¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨åé¢ã€‚å®Œæˆæ­¤æ›´æ”¹åï¼Œç”¨æˆ·æŠ¥å‘Šè¯´ï¼Œæ¯æ¬¡åˆ·æ–°ç½‘ç«™æ—¶ï¼Œä»–ä»¬éƒ½å¯ä»¥çœ‹åˆ°æ–‡æ¡£çš„ä¸€ä¸ªå­é›†æˆ–å¦ä¸€ä¸ªå­é›†ï¼Œä½†æ°¸è¿œä¸ä¼šåŒæ—¶çœ‹åˆ°æ‰€æœ‰æ–‡æ¡£ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æå‡ºä»€ä¹ˆå»ºè®®æ¥ç¡®ä¿ç”¨æˆ·ç«‹å³çœ‹åˆ°ä»–ä»¬çš„æ‰€æœ‰æ–‡æ¡£ï¼Ÿ</p><h3 id="EBSä¸æ”¯æŒè·¨AZå…±äº«æ–‡ä»¶"><a href="#EBSä¸æ”¯æŒè·¨AZå…±äº«æ–‡ä»¶" class="headerlink" title="EBSä¸æ”¯æŒè·¨AZå…±äº«æ–‡ä»¶"></a><code>EBSä¸æ”¯æŒè·¨AZå…±äº«æ–‡ä»¶</code></h3><h3 id="åªæ”¯æŒmulti-attach-å¤šé‡é™„åŠ ï¼šAttach-the-same-EBS-volume-to-multiple-EC2-instances-in-the-same-AZ"><a href="#åªæ”¯æŒmulti-attach-å¤šé‡é™„åŠ ï¼šAttach-the-same-EBS-volume-to-multiple-EC2-instances-in-the-same-AZ" class="headerlink" title="åªæ”¯æŒmulti attach -å¤šé‡é™„åŠ ï¼šAttach the same EBS volume to multiple EC2 instances in the same AZ"></a>åªæ”¯æŒmulti attach -å¤šé‡é™„åŠ ï¼šAttach the same EBS volume to multiple EC2 instances <strong>in the same AZ</strong></h3><p>  Attach the same EBS volume to multiple EC2 instances <strong>in the same AZ</strong></p><p>  A. å¤åˆ¶æ•°æ®ï¼Œä½¿ä¸¤ä¸ª EBS å·éƒ½åŒ…å«æ‰€æœ‰æ–‡æ¡£</p><p>  B. é…ç½®åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ä»¥å°†ç”¨æˆ·å®šå‘åˆ°åŒ…å«æ–‡æ¡£çš„æœåŠ¡å™¨ </p><p>  C. å°†æ•°æ®ä»ä¸¤ä¸ª EBS å·å¤åˆ¶åˆ° Amazon EFSã€‚ä¿®æ”¹åº”ç”¨ç¨‹åºä»¥å°†æ–°æ–‡æ¡£ä¿å­˜åˆ° Amazon EFS</p><p>  D. é…ç½®åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ä»¥å°†è¯·æ±‚å‘é€åˆ°ä¸¤å°æœåŠ¡å™¨ã€‚ä»æ­£ç¡®çš„æœåŠ¡å™¨è¿”å›æ¯ä¸ªæ–‡æ¡£</p><ul><li><p>12-A</p><p>ä¸€å®¶è·¨å›½å…¬å¸å°†å…¶ Web åº”ç”¨ç¨‹åºæ‰˜ç®¡åœ¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ (<strong>ALB</strong>) åé¢çš„ Amazon EC2å®ä¾‹ä¸Šã€‚ Web åº”ç”¨ç¨‹åºæœ‰é™æ€æ•°æ®å’ŒåŠ¨æ€æ•°æ®ã€‚è¯¥å…¬å¸å°†å…¶é™æ€æ•°æ®å­˜å‚¨åœ¨ Amazon S3å­˜å‚¨æ¡¶ä¸­ã€‚è¯¥å…¬å¸å¸Œæœ›æé«˜é™æ€æ•°æ®å’ŒåŠ¨æ€æ•°æ®çš„æ€§èƒ½å¹¶å‡å°‘å»¶è¿Ÿã€‚è¯¥å…¬å¸æ­£åœ¨ä½¿ç”¨è‡ªå·±åœ¨ Amazon Route 53ä¸Šæ³¨å†Œçš„åŸŸåã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥å¦‚ä½•åšæ‰èƒ½æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p><code>ALBâ†’ HTTP</code></p><p><code>Global Accelerator â†’ éHTTP</code><br>A. åˆ›å»ºä»¥ S3 å­˜å‚¨æ¡¶å’Œ ALB ä½œä¸ºæºçš„ Amazon CloudFront åˆ†é…ã€‚é…ç½® Route 53 å°† trac<br>è·¯ç”±åˆ° CloudFront åˆ†é…ã€‚</p><p>ALBé€‚ç”¨äºHTTPæµé‡ï¼Œè€Œglobal acceleratoræ›´é€‚ç”¨äº<em><strong>éHTTP</strong></em>,æˆ–è€…<em><strong>é™æ€IPçš„HTTPæµé‡</strong></em></p><p><img src="/images/aws2.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>B. åˆ›å»ºä»¥ ALB ä½œä¸ºæºçš„ Amazon CloudFront åˆ†é…ã€‚åˆ›å»ºä¸€ä¸ª AWS <strong><del>Global Accelerator</del></strong> æ ‡å‡†åŠ é€Ÿå™¨ï¼Œå°† S3 å­˜å‚¨æ¡¶ä½œä¸ºç»ˆç«¯èŠ‚ç‚¹ é…ç½® Route 53 ä»¥å°† trac è·¯ç”±åˆ° CloudFront åˆ†é…ã€‚</p><p>C. åˆ›å»ºä»¥ S3 å­˜å‚¨æ¡¶ä½œä¸ºæºçš„ Amazon CloudFront åˆ†é…ã€‚åˆ›å»ºä¸€ä¸ªä»¥ ALB å’Œ CloudFrontåˆ†é…ä½œä¸ºç»ˆç«¯èŠ‚ç‚¹çš„ AWS <strong><del>Global Accelerator</del></strong> æ ‡å‡†åŠ é€Ÿå™¨ã€‚åˆ›å»ºæŒ‡å‘åŠ é€Ÿå™¨ DNS åç§°çš„è‡ªå®šä¹‰åŸŸåã€‚ä½¿ç”¨è‡ªå®šä¹‰åŸŸåä½œä¸º Web åº”ç”¨ç¨‹åºçš„ç«¯ç‚¹ã€‚</p><p>D. åˆ›å»ºä»¥ ALB ä½œä¸ºæºçš„ Amazon CloudFront åˆ†é…ã€‚åˆ›å»ºä¸€ä¸ªä»¥ S3 å­˜å‚¨æ¡¶ä½œä¸ºç»ˆç«¯èŠ‚ç‚¹çš„ AWS <strong><del>Global Accelerator</del></strong> æ ‡å‡†åŠ é€Ÿå™¨ã€‚åˆ›å»ºä¸¤ä¸ªåŸŸåã€‚å°†ä¸€ä¸ªåŸŸåæŒ‡å‘åŠ¨æ€å†…å®¹çš„CloudFront DNS åç§°ã€‚å°†å¦ä¸€ä¸ªåŸŸåæŒ‡å‘é™æ€å†…å®¹çš„åŠ é€Ÿå™¨ DNS åç§°ã€‚ä½¿ç”¨åŸŸåä½œä¸º<br>Web åº”ç”¨ç¨‹åºçš„ç«¯ç‚¹</p></li></ul><h2 id="51-BD"><a href="#51-BD" class="headerlink" title="51-BD"></a>51-BD</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨å¼€å‘ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºæä¾›è®¢å•è¿è¾“ç»Ÿè®¡ä¿¡æ¯ä»¥ä¾› REST API æ£€ç´¢ã€‚è¯¥å…¬å¸å¸Œæœ›æå–è¿è¾“ç»Ÿè®¡æ•°æ®ï¼Œå°†æ•°æ®ç»„ç»‡æˆæ˜“äºé˜…è¯»çš„ HTML æ ¼å¼ï¼Œå¹¶æ¯å¤©æ—©ä¸ŠåŒæ—¶å°†æŠ¥å‘Šå‘é€åˆ°å¤šä¸ªç”µå­é‚®ä»¶åœ°å€ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›æ­¥éª¤ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. é…ç½®åº”ç”¨ç¨‹åºä»¥å°†æ•°æ®å‘é€åˆ° Amazon Kinesis Data Firehoseã€‚</p><p>  <code>Firehose =&gt; æµå¼ä¼ è¾“</code></p><p>  B. ä½¿ç”¨ Amazon Simple Email Service (Amazon <strong>SES</strong>) æ ¼å¼åŒ–æ•°æ®å¹¶é€šè¿‡ç”µå­é‚®ä»¶å‘é€æŠ¥å‘Šã€‚</p><p>  C. åˆ›å»ºä¸€ä¸ª Amazon EventBridge (Amazon CloudWatch Events) è®¡åˆ’äº‹ä»¶ï¼Œè¯¥äº‹ä»¶è°ƒç”¨<br>  <strong>AWS Glue</strong> ä½œä¸šæ¥æŸ¥è¯¢åº”ç”¨ç¨‹åºçš„ API ä¸­çš„æ•°æ®ã€‚</p><p>  <code>Glue = ETL æœåŠ¡ï¼šæ•°æ®æŠ½å–ã€è½¬æ¢å’ŒåŠ è½½ä¸èƒ½æŸ¥è¯¢</code></p><p>  D. åˆ›å»ºä¸€ä¸ª Amazon EventBridge (Amazon CloudWatch Events) è®¡åˆ’äº‹ä»¶ï¼Œè¯¥äº‹ä»¶è°ƒç”¨AWS <strong>Lambda å‡½æ•°</strong>æ¥æŸ¥è¯¢åº”ç”¨ç¨‹åºçš„ API ä¸­çš„æ•°æ®ã€‚ </p><p>  <code>EventBridge = å®šæ—¶äº‹ä»¶ï¼ŒLambda = æŸ¥è¯¢ API è·å–æ•°æ®çš„å‡½æ•°</code></p><p>  E. å°†åº”ç”¨ç¨‹åºæ•°æ®å­˜å‚¨åœ¨ Amazon S3 ä¸­ã€‚åˆ›å»º Amazon Simple Notation Service (Amazon <strong>SNS</strong>) ä¸»é¢˜ä½œä¸º S3 äº‹ä»¶ç›®æ ‡ä»¥é€šè¿‡ç”µå­é‚®ä»¶å‘é€æŠ¥å‘Šã€‚</p><p>  <code>SNSåªå¯ä»¥å‘é€ç®€å•æ–‡æœ¬é‚®ä»¶ï¼ŒHTML emailéœ€è¦é€šè¿‡SES</code></p><h2 id="56-C"><a href="#56-C" class="headerlink" title="56-C"></a>56-C</h2><p>  ä¸€å®¶å…¬å¸å·²åœ¨ Amazon Route 53 ä¸­æ³¨å†Œäº†å…¶åŸŸåã€‚è¯¥å…¬å¸ä½¿ç”¨ ca-central-1 åŒºåŸŸä¸­çš„Amazon API Gateway ä½œä¸ºå…¶åç«¯å¾®æœåŠ¡ API çš„å…¬å…±æ¥å£ã€‚ç¬¬ä¸‰æ–¹æœåŠ¡å®‰å…¨åœ°ä½¿ç”¨ APIã€‚è¯¥å…¬å¸å¸Œæœ›ä½¿ç”¨è¯¥å…¬å¸çš„åŸŸåå’Œç›¸åº”çš„è¯ä¹¦æ¥è®¾è®¡å…¶ API ç½‘å…³ URLï¼Œä»¥ä¾¿ç¬¬ä¸‰æ–¹æœåŠ¡å¯ä»¥ä½¿ç”¨ HTTPSã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><blockquote><p>å½“æˆ‘åœ¨ä¸€ä¸ªç”µå•†å…¬å¸å·¥ä½œæ—¶ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤æ‚çš„åœ¨çº¿å•†åŸåº”ç”¨ã€‚è¿™ä¸ªåº”ç”¨åŒ…å«äº†å¾ˆå¤šåŠŸèƒ½ï¼Œæ¯”å¦‚ç”¨æˆ·æ³¨å†Œã€æµè§ˆå•†å“ã€ä¸‹è®¢å•ã€ä»˜æ¬¾ç­‰ç­‰ã€‚ä¸ºäº†è®©å¼€å‘å’Œç»´æŠ¤å˜å¾—æ›´å®¹æ˜“ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†åç«¯å¾®æœåŠ¡ API çš„æ¶æ„ã€‚</p></blockquote><p>  <strong>Amazon API Gatewayå¯ä»¥å¸®åŠ©ç®¡ç†å’Œä¿æŠ¤APIï¼Œå¹¶å°†ä¸åŒçš„åç«¯æœåŠ¡æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ä¸­ã€‚</strong></p><blockquote><p>æ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½è¢«æ‹†åˆ†æˆç‹¬ç«‹çš„å¾®æœåŠ¡ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªç”¨æˆ·æœåŠ¡å¤„ç†ç”¨æˆ·æ³¨å†Œå’Œç™»å½•ï¼Œæœ‰ä¸€ä¸ªè®¢å•æœåŠ¡å¤„ç†è®¢å•çš„åˆ›å»ºå’ŒæŸ¥è¯¢ï¼Œæœ‰ä¸€ä¸ªæ”¯ä»˜æœåŠ¡å¤„ç†ä»˜æ¬¾æ“ä½œç­‰ç­‰ã€‚æ¯ä¸ªå¾®æœåŠ¡éƒ½æœ‰è‡ªå·±çš„æ•°æ®åº“å’Œé€»è¾‘ï¼Œå®ƒä»¬å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²ã€‚</p></blockquote><blockquote><p>ç°åœ¨ï¼Œä¸ºäº†ä½¿æˆ‘ä»¬çš„ç”µå•†åº”ç”¨æ›´åŠ å®‰å…¨å’Œé«˜æ•ˆï¼Œæˆ‘ä»¬å†³å®šè¦æ±‚<strong>æ‰€æœ‰çš„è¯·æ±‚éƒ½é€šè¿‡ HTTPS è¿›è¡Œå®‰å…¨é€šä¿¡</strong>ï¼Œå¹¶<strong>ä½¿ç”¨æˆ‘ä»¬å…¬å¸çš„åŸŸåæ¥è®¿é—®è¿™äº›å¾®æœåŠ¡</strong>ã€‚æˆ‘ä»¬å·²ç»åœ¨ Amazon Route 53 æ³¨å†Œäº†å…¬å¸åŸŸåï¼Œæ¯”å¦‚ â€œ<a href="http://example.com/">example.com</a>â€œã€‚æˆ‘ä»¬<strong>å¸Œæœ›ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡ç±»ä¼¼ â€œ<a href="http://api.example.com/">api.example.com</a>â€œ çš„ URL è®¿é—®æˆ‘ä»¬çš„åç«¯å¾®æœåŠ¡ã€‚</strong></p></blockquote><hr><p>  ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†é€‰é¡¹ C çš„è§£å†³æ–¹æ¡ˆï¼š</p><ol><li>åœ¨ AWS çš„ â€œca-central-1â€ åŒºåŸŸåˆ›å»ºäº†ä¸€ä¸ª API Gateway ç»ˆç«¯èŠ‚ç‚¹ï¼Œä½œä¸ºæˆ‘ä»¬åç«¯å¾®æœåŠ¡çš„å…¥å£ã€‚</li><li>ç„¶åï¼Œæˆ‘ä»¬å°† â€œ<a href="http://api.example.com/">api.example.com</a>â€œ åŸŸåä¸è¿™ä¸ª API Gateway ç»ˆç«¯èŠ‚ç‚¹å…³è”èµ·æ¥ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè‡ªå®šä¹‰çš„åŸŸåæ¥è®¿é—®æˆ‘ä»¬çš„ APIã€‚</li><li>æˆ‘ä»¬å¯¼å…¥äº†<strong>ä¸ â€œ<a href="http://api.example.com/">api.example.com</a>â€œ åŸŸåå…³è”çš„å…¬å…± SSL&#x2F;TLS è¯ä¹¦</strong>åˆ° AWS Certificate Managerï¼ˆACMï¼‰ä¸­ã€‚</li><li>æˆ‘ä»¬å°†è¿™ä¸ªè¯ä¹¦é™„åŠ åˆ°äº† API Gateway ç»ˆç«¯èŠ‚ç‚¹ï¼Œä»è€Œç¡®ä¿é€šè¿‡ HTTPS å®ç°äº†å®‰å…¨çš„é€šä¿¡ã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ Amazon Route 53 é…ç½® DNS è®°å½•ï¼Œå°†æµé‡ä» â€œ<a href="http://api.example.com/">api.example.com</a>â€œ åŸŸåè·¯ç”±åˆ°æˆ‘ä»¬çš„ API Gateway ç»ˆç«¯èŠ‚ç‚¹ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŸŸåæ¥è®¿é—®æˆ‘ä»¬çš„å¾®æœåŠ¡ï¼Œå¹¶äº«å—åˆ° HTTPS æä¾›çš„å®‰å…¨é€šä¿¡ã€‚</li></ol><p>  A. åœ¨ API Gateway ä¸­åˆ›å»º Name&#x3D;â€Endpoint-URLâ€ å’Œ Value&#x3D;â€å…¬å¸åŸŸåâ€ çš„é˜¶æ®µå˜é‡ä»¥è¦†ç›–é»˜è®¤ URLã€‚å°†ä¸å…¬å¸åŸŸåå…³è”çš„å…¬å…±è¯ä¹¦å¯¼å…¥åˆ° AWS Certicate Manager (ACM)ã€‚</p><p>  B. ä½¿ç”¨å…¬å¸åŸŸååˆ›å»º Route 53 DNS è®°å½•ã€‚å°†åˆ«åè®°å½•æŒ‡å‘åŒºåŸŸ API ç½‘å…³é˜¶æ®µç«¯ç‚¹ã€‚å°†ä¸å…¬å¸åŸŸåå…³è”çš„å…¬å…±è¯ä¹¦å¯¼å…¥åˆ° <strong>us-east-1</strong> åŒºåŸŸä¸­çš„ AWS Certicate Manager (ACM) ä¸­ã€‚</p><p>  C. åˆ›å»ºåŒºåŸŸ API ç½‘å…³ç«¯ç‚¹ã€‚å°† API ç½‘å…³ç«¯ç‚¹ä¸å…¬å¸åŸŸåå…³è”ã€‚å°†ä¸å…¬å¸åŸŸåå…³è”çš„å…¬å…±è¯ä¹¦å¯¼å…¥åˆ°<strong>åŒä¸€åŒºåŸŸä¸­</strong>çš„ AWS Certicate Manager (ACM) ä¸­ã€‚å°†è¯ä¹¦é™„åŠ åˆ° API ç½‘å…³ç«¯ç‚¹ã€‚é…ç½® Route 53 å°† trac è·¯ç”±åˆ° API ç½‘å…³ç»ˆç«¯èŠ‚ç‚¹ã€‚</p><p>  D. åˆ›å»ºåŒºåŸŸ API ç½‘å…³ç«¯ç‚¹ã€‚å°† API ç½‘å…³ç«¯ç‚¹ä¸å…¬å¸åŸŸåå…³è”ã€‚å°†ä¸å…¬å¸åŸŸåå…³è”çš„å…¬å…±è¯ä¹¦å¯¼å…¥åˆ° <strong>us-east-1</strong> åŒºåŸŸä¸­çš„ AWS Certicate Manager (ACM) ä¸­ã€‚å°†è¯ä¹¦é™„åŠ åˆ° API ç½‘å…³ APIã€‚ä½¿ç”¨å…¬å¸çš„åŸŸååˆ›å»º Route 53 DNS è®°å½•ã€‚å°† A è®°å½•æŒ‡å‘å…¬å¸çš„åŸŸåã€‚</p><h2 id="74-AC"><a href="#74-AC" class="headerlink" title="74-AC"></a>74-AC</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ­£åœ¨è®¾è®¡ä¸€ä¸ªä¸¤å±‚ Web åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºç”±æ‰˜ç®¡åœ¨å…¬æœ‰å­ç½‘ä¸­çš„Amazon EC2 ä¸Šçš„<strong>é¢å‘å…¬ä¼—çš„ Web å±‚</strong>ç»„æˆã€‚æ•°æ®åº“å±‚ç”±åœ¨<strong>ç§æœ‰å­ç½‘</strong>ä¸­çš„ Amazon EC2 ä¸Šè¿è¡Œçš„ Microsoft SQL Server ç»„æˆã€‚å®‰å…¨æ˜¯å…¬å¸çš„é‡ä¸­ä¹‹é‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹åº”è¯¥å¦‚ä½•é…ç½®å®‰å…¨ç»„ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰<br>  <strong>A. é…ç½® Web å±‚çš„å®‰å…¨ç»„ä»¥å…è®¸ç«¯å£ 443 ä¸Šæ¥è‡ª 0.0.0.0&#x2F;0 çš„å…¥ç«™è·Ÿè¸ªã€‚</strong></p><p>  Web Server Rules: Inbound traffic from 443 (HTTPS) Source 0.0.0.0&#x2F;0 - Allows inbound HTTPS access from any IPv4 address</p><p>  B. é…ç½® Web å±‚çš„å®‰å…¨ç»„ä»¥å…è®¸ç«¯å£ 443 ä¸Šæ¥è‡ª 0.0.0.0&#x2F;0 çš„å‡ºç«™è·Ÿè¸ªã€‚</p><p>  <strong>C. é…ç½®æ•°æ®åº“å±‚çš„å®‰å…¨ç»„ä»¥å…è®¸ç«¯å£ 1433 ä¸Šæ¥è‡ª Web å±‚çš„å®‰å…¨ç»„çš„å…¥ç«™è·Ÿè¸ªã€‚</strong></p><p>  Database Rules : 1433 (MS SQL)The default port to access a Microsoft SQL Server database, for example, on an Amazon RDS instance</p><p>  D. é…ç½®æ•°æ®åº“å±‚çš„å®‰å…¨ç»„ä»¥å…è®¸ç«¯å£ 443 å’Œ 1433 ä¸Šçš„å‡ºç«™è·Ÿè¸ªåˆ° Web å±‚çš„å®‰å…¨ç»„ã€‚</p><p>  E. é…ç½®æ•°æ®åº“å±‚çš„å®‰å…¨ç»„ä»¥å…è®¸æ¥è‡ª Web å±‚å®‰å…¨ç»„çš„ç«¯å£ 443 å’Œ 1433 ä¸Šçš„å…¥ç«™è·Ÿè¸ªã€‚</p><h2 id="95-D"><a href="#95-D" class="headerlink" title="95-D"></a>95-D</h2><p>  åº”ç”¨ç¨‹åºå…è®¸å…¬å¸æ€»éƒ¨çš„ç”¨æˆ·è®¿é—®äº§å“æ•°æ®ã€‚äº§å“æ•°æ®å­˜å‚¨åœ¨ Amazon RDS MySQL æ•°æ®åº“å®ä¾‹ä¸­ã€‚è¿è¥å›¢é˜Ÿ<strong>å·²éš”ç¦»åº”ç”¨ç¨‹åºæ€§èƒ½ä¸‹é™é—®é¢˜</strong>ï¼Œå¹¶<strong>å¸Œæœ›å°†è¯»å–è·Ÿè¸ªä¸å†™å…¥è·Ÿè¸ªåˆ†å¼€</strong>ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦å¿«é€Ÿä¼˜åŒ–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ¨èä»€ä¹ˆï¼Ÿ</p><p>  A. å°†ç°æœ‰æ•°æ®åº“æ›´æ”¹ä¸ºå¤šå¯ç”¨åŒºéƒ¨ç½²ã€‚æœåŠ¡æ¥è‡ªthe primary Availability Zone.çš„è¯»å–è¯·æ±‚ã€‚<br>  B. å°†ç°æœ‰æ•°æ®åº“æ›´æ”¹ä¸ºå¤šå¯ç”¨åŒºéƒ¨ç½²ã€‚æœåŠ¡æ¥è‡ªthe secondary Availability Zoneçš„è¯»å–è¯·æ±‚ã€‚</p><p>  <code>A+B out this is not Aurora</code></p><p>  <strong>Auroraå…¨çƒæ•°æ®åº“ï¼ˆæ¨èï¼‰ï¼š</strong></p><ul><li>1ä¸ªprimary <strong>region</strong>ï¼ˆè¯»&#x2F;å†™ï¼‰</li><li>æœ€å¤š5ä¸ªsecondary region (read-onlyï¼‰ï¼Œå¤åˆ¶å»¶è¿Ÿ(replication lag)å°äº1ç§’</li></ul><p>  C. ä¸ºæ•°æ®åº“åˆ›å»ºåªè¯»å‰¯æœ¬ã€‚å°†ä¸€åŠè®¡ç®—å’Œå­˜å‚¨èµ„æºçš„åªè¯»å‰¯æœ¬é…ç½®ä¸ºæºæ•°æ®åº“ã€‚<br>  D. ä¸ºæ•°æ®åº“åˆ›å»ºåªè¯»å‰¯æœ¬ã€‚ä¸ºåªè¯»å‰¯æœ¬é…ç½®ä¸æºæ•°æ®åº“ç›¸åŒçš„è®¡ç®—å’Œå­˜å‚¨èµ„æºã€‚</p><p>  <code>D seems ok   D. Create read replicas for the database. Configure the read replicas with the same compute and storage resources as the source database.</code></p><h2 id="97-D"><a href="#97-D" class="headerlink" title="97-D"></a>97-D</h2><p>  ä¸€å®¶å…¬å¸æœ‰ä¸€ä¸ªåœ¨æœ¬åœ°è¿è¡Œçš„å¤§å‹ Microsoft SharePoint éƒ¨ç½²ï¼Œéœ€è¦ Microsoft Windows <strong>å…±äº«æ–‡ä»¶å­˜å‚¨</strong>ã€‚è¯¥å…¬å¸å¸Œæœ›å°†æ­¤å·¥ä½œè´Ÿè½½è¿ç§»åˆ° AWS äº‘ï¼Œå¹¶æ­£åœ¨è€ƒè™‘å„ç§å­˜å‚¨é€‰é¡¹ã€‚å­˜å‚¨è§£å†³æ–¹æ¡ˆå¿…é¡»å…·æœ‰é«˜å¯ç”¨æ€§ï¼Œå¹¶ä¸ Active Directory é›†æˆä»¥è¿›è¡Œè®¿é—®æ§åˆ¶ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <del>A.</del> é…ç½® Amazon EFS å­˜å‚¨å¹¶è®¾ç½®ç”¨äºèº«ä»½éªŒè¯çš„ Active Directory åŸŸã€‚</p><p>  <code>EFS is for Linux</code></p><p>  <code>æ²¡æœ‰ä¸“é—¨é’ˆå¯¹ Windows æ–‡ä»¶å…±äº«è¿›è¡Œä¼˜åŒ–,è€Œæ˜¯å¤šä¸ªinstanceä¹‹é—´å…±äº«</code></p><p>  B. åœ¨ä¸¤ä¸ªå¯ç”¨åŒºçš„ AWS Storage Gateway æ–‡ä»¶ç½‘å…³ä¸Šåˆ›å»º SMB æ–‡ä»¶å…±äº«ã€‚</p><p>  <code>é€‚åˆéœ€è¦è¾ƒä½è¦æ±‚çš„æ–‡ä»¶å­˜å‚¨å·¥ä½œè´Ÿè½½</code></p><p>  <del>C.</del> åˆ›å»ºAmazon S3 å­˜å‚¨æ¡¶å¹¶é…ç½® Microsoft Windows Server ä»¥å°†å…¶æŒ‚è½½ä¸ºå·ã€‚</p><p>  <code>S3 å­˜å‚¨æ¡¶è™½ç„¶ä¹Ÿå¯ä»¥ç”¨æ¥å­˜å‚¨æ–‡ä»¶ï¼Œä½†å®ƒä¸æ˜¯ç›´æ¥æä¾› Windows æ–‡ä»¶å…±äº«åŠŸèƒ½çš„è§£å†³æ–¹æ¡ˆã€‚</code></p><p>  <strong>D. åœ¨ AWS ä¸Šåˆ›å»º Amazon FSx for Windows File Server æ–‡ä»¶ç³»ç»Ÿå¹¶è®¾ç½®ç”¨äºèº«ä»½éªŒè¯çš„<br>  Active Directory åŸŸã€‚</strong></p>  <aside>  ğŸ“Œ Active Directory åŸŸæ˜¯ä¸€ç§ç”¨äºç®¡ç†å’Œç»„ç»‡ç½‘ç»œèµ„æºçš„ç›®å½•æœåŠ¡ï¼Œå®ƒæä¾›äº†å¯¹ç”¨æˆ·ã€è®¡ç®—æœºå’Œå…¶ä»–èµ„æºçš„ç»Ÿä¸€èº«ä»½éªŒè¯å’Œè®¿é—®æ§åˆ¶ã€‚  </aside><h2 id="101-A"><a href="#101-A" class="headerlink" title="101-A"></a>101-A</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ­£åœ¨è®¾è®¡å…·æœ‰å…¬æœ‰å­ç½‘å’Œç§æœ‰å­ç½‘çš„ VPCã€‚ VPC å’Œå­ç½‘ä½¿ç”¨ IPv4 CIDRå—ã€‚ä¸‰ä¸ªå¯ç”¨åŒº (AZ) ä¸­å„æœ‰ 1 ä¸ªå…¬æœ‰å­ç½‘å’Œ 1 ä¸ªç§æœ‰å­ç½‘ï¼Œä»¥å®ç°é«˜å¯ç”¨æ€§ã€‚ Internetç½‘å…³ç”¨äºä¸ºå…¬å…±å­ç½‘æä¾› Internet è®¿é—®ã€‚ç§æœ‰å­ç½‘éœ€è¦è®¿é—®äº’è”ç½‘æ‰èƒ½å…è®¸ Amazon EC2å®ä¾‹ä¸‹è½½è½¯ä»¶æ›´æ–°ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ€æ ·åšæ‰èƒ½å®ç°ç§æœ‰å­ç½‘çš„ Internet è®¿é—®ï¼Ÿ</p><p>  éVPCï¼ˆå…¬å…±äº’è”ç½‘ï¼‰æµé‡<br>  A. åˆ›å»ºä¸‰ä¸ª <strong>NAT ç½‘å…³</strong>ï¼Œæ¯ä¸ªå¯ç”¨åŒºä¸­çš„æ¯ä¸ªå…¬æœ‰å­ç½‘ä¸€ä¸ªã€‚ä¸ºæ¯ä¸ªå¯ç”¨åŒºåˆ›å»ºç§æœ‰è·¯ç”±<br>  è¡¨ï¼Œå°†é VPC trac è½¬å‘åˆ°å…¶å¯ç”¨åŒºä¸­çš„ NAT ç½‘å…³ã€‚</p><p>  B. åˆ›å»ºä¸‰ä¸ª <strong>NAT å®ä¾‹</strong>ï¼Œæ¯ä¸ªå¯ç”¨åŒºä¸­çš„æ¯ä¸ªç§æœ‰å­ç½‘ä¸€ä¸ªã€‚ä¸ºæ¯ä¸ªå¯ç”¨åŒºåˆ›å»ºç§æœ‰è·¯ç”±<br>  è¡¨ï¼Œå°†é VPC trac è½¬å‘åˆ°å…¶å¯ç”¨åŒºä¸­çš„ NAT å®ä¾‹ã€‚</p><p>  <code>NATå®ä¾‹è¾ƒæ—§ï¼Œå¯æ‰©å±•æ€§è¾ƒå·®</code></p><p>  C. åœ¨å…¶ä¸­ä¸€ä¸ªç§æœ‰å­ç½‘ä¸Šåˆ›å»ºç¬¬äºŒä¸ª <strong>Internet ç½‘å…³</strong>ã€‚æ›´æ–°å°†é VPC è·Ÿè¸ªè½¬å‘åˆ°ç§æœ‰<br>  Internet ç½‘å…³çš„ç§æœ‰å­ç½‘çš„è·¯ç”±è¡¨ã€‚</p><p>  <code>ä¸å®‰å…¨ï¼Œå¯¼è‡´æ•´ä¸ªç§æœ‰å­ç½‘çš„æµé‡ç›´æ¥æµå‘äº’è”ç½‘</code></p><p>  D. åœ¨å…¬å…±å­ç½‘ä¸Šä¹‹ä¸€åˆ›å»ºegress-only internet gateway<strong>ä»…å‡ºå£ Internet ç½‘å…³</strong>ã€‚æ›´æ–°å°†é VPC è·Ÿè¸ªè½¬å‘åˆ°ä»…å‡ºå£ Internetç½‘å…³çš„ç§æœ‰å­ç½‘çš„è·¯ç”±è¡¨</p><p>  <code>å‡ºç«™ä¸“ç”¨äº’è”ç½‘ç½‘å…³æ˜¯ä¸ºIPv6-only VPCè®¾è®¡çš„ï¼Œä¸é€‚ç”¨äºåŸºäºIPv4çš„èµ„æºå®ç°å‡ºç«™äº’è”ç½‘è¿æ¥ã€‚</code></p><h2 id="108-A"><a href="#108-A" class="headerlink" title="108-A"></a>108-A</h2><p>  ä¸€å®¶å…¬å¸æ‹¥æœ‰ä¸€ä¸ªæ±½è½¦é”€å”®ç½‘ç«™ï¼Œè¯¥ç½‘ç«™å°†å…¶åˆ—è¡¨å­˜å‚¨åœ¨ Amazon RDS çš„æ•°æ®åº“ä¸­ã€‚å½“æ±½è½¦å‡ºå”®æ—¶ï¼Œéœ€è¦ä»ç½‘ç«™ä¸Šåˆ é™¤åˆ—è¡¨ï¼Œå¹¶ä¸”æ•°æ®å¿…é¡»å‘é€åˆ°å¤šä¸ªç›®æ ‡ç³»ç»Ÿã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ¨èå“ªç§è®¾è®¡ï¼Ÿ</p><p>  <strong>A. åˆ›å»ºä¸€ä¸ªåœ¨ Amazon RDS ä¸Šçš„æ•°æ®åº“æ›´æ–°æ—¶è§¦å‘çš„ AWS Lambda å‡½æ•°ï¼Œä»¥å°†ä¿¡æ¯å‘é€åˆ° Amazon Simple Queue Service (Amazon SQS) é˜Ÿåˆ—ä»¥ä¾›ç›®æ ‡ä½¿ç”¨ã€‚</strong></p><p>  B. åˆ›å»ºä¸€ä¸ª AWS Lambda å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨ Amazon RDS ä¸Šçš„æ•°æ®åº“æ›´æ–°æ—¶è§¦å‘ï¼Œä»¥å°†ä¿¡æ¯å‘é€åˆ° Amazon Simple Queue Service (Amazon SQS) FIFO é˜Ÿåˆ—ä»¥ä¾›ç›®æ ‡ä½¿ç”¨ã€‚</p><p>  <code>ä¸éœ€è¦é¡ºåºå¤„ç†</code></p><p>  C. è®¢é˜… <strong>RDS äº‹ä»¶é€šçŸ¥</strong>å¹¶å°† Amazon Simple Queue Service (Amazon SQS) é˜Ÿåˆ—å‘é€åˆ°å¤šä¸ªAmazon Simple Notication Service (Amazon SNS) ä¸»é¢˜ã€‚ä½¿ç”¨ AWS Lambda å‡½æ•°æ›´æ–°ç›®æ ‡ã€‚</p><p>  <code>RDS äº‹ä»¶é€šçŸ¥ä¸»è¦é€‚ç”¨äºæ•°æ®åº“çš„æ“ä½œäº‹ä»¶ï¼ˆä¾‹å¦‚å¿«ç…§ã€å‚æ•°ç»„æ›´æ”¹ç­‰ï¼‰ï¼Œä¸é€‚ç”¨äºæ•°æ®**ä¿®æ”¹**äº‹ä»¶ã€‚</code></p><p>  D. è®¢é˜… RDS äº‹ä»¶é€šçŸ¥å¹¶å°† Amazon Simple Notication Service (Amazon SNS) ä¸»é¢˜å‘é€åˆ°å¤šä¸ª Amazon Simple Queue Service (Amazon SQS) é˜Ÿåˆ—ã€‚ä½¿ç”¨ AWS Lambda å‡½æ•°æ›´æ–°ç›®æ ‡ã€‚</p><p>  <code>Amazon RDSäº‹ä»¶é€šçŸ¥ä¸»è¦ç”¨äºé€šçŸ¥ä¸æ•°æ®åº“ç®¡ç†å’Œè¿ç»´ç›¸å…³çš„äº‹ä»¶ï¼Œå¦‚æ•°æ®åº“å®ä¾‹çš„åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€å¤‡ä»½å®Œæˆç­‰ã€‚</code></p><p>  <code>æ•°æ®åº“ å†…å®¹æ›´æ”¹æ— æ³•é€šçŸ¥</code></p><h2 id="131-D"><a href="#131-D" class="headerlink" title="131-D"></a>131-D</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨å¼€å‘ä¸€ä¸ªæ–‡ä»¶å…±äº«åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå°†ä½¿ç”¨ Amazon S3 å­˜å‚¨æ¡¶è¿›è¡Œå­˜å‚¨ã€‚è¯¥å…¬å¸å¸Œæœ›é€šè¿‡ Amazon CloudFront å‘è¡Œç‰ˆæä¾›æ‰€æœ‰æ–‡ä»¶ã€‚è¯¥å…¬å¸ä¸å¸Œæœ›é€šè¿‡ç›´æ¥å¯¼èˆªåˆ° S3 URL æ¥è®¿é—®è¿™äº›æ–‡ä»¶ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ€æ ·åšæ‰èƒ½æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. ä¸ºæ¯ä¸ª S3 å­˜å‚¨æ¡¶ç¼–å†™å•ç‹¬çš„ç­–ç•¥ï¼Œä»¥ä»…æˆäºˆ CloudFront è®¿é—®çš„è¯»å–æƒé™ã€‚<br>  B. åˆ›å»º IAM ç”¨æˆ·ã€‚æˆäºˆç”¨æˆ·å¯¹ S3 å­˜å‚¨æ¡¶ä¸­å¯¹è±¡çš„è¯»å–æƒé™ã€‚å°†ç”¨æˆ·åˆ†é…åˆ°CloudFrontã€‚<br>  C. ç¼–å†™ä¸€ä¸ª S3 å­˜å‚¨æ¡¶ç­–ç•¥ï¼Œå°† CloudFront åˆ†é… ID åˆ†é…ä¸ºä¸»ä½“ï¼Œå¹¶å°†ç›®æ ‡ S3 å­˜å‚¨æ¡¶åˆ†é…ä¸º Amazon èµ„æºåç§° (ARN)ã€‚</p><p>  D. åˆ›å»ºæºè®¿é—®èº«ä»½ (OAI)ã€‚å°† OAI åˆ†é…ç»™ CloudFront åˆ†é…ã€‚é…ç½® S3 å­˜å‚¨æ¡¶æƒé™ï¼Œä»…OAI å…·æœ‰è¯»å–æƒé™ã€‚<br>  æ­£ç¡®ç­”æ¡ˆï¼šD</p><h2 id="132-A"><a href="#132-A" class="headerlink" title="132-A"></a>132-A</h2><p>  ä¸€å®¶å…¬å¸çš„ç½‘ç«™ä¸ºç”¨æˆ·æä¾›å¯ä¸‹è½½çš„<strong>å†å²</strong>ç»©æ•ˆæŠ¥å‘Šã€‚è¯¥ç½‘ç«™éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿæ‰©å±•çš„è§£å†³æ–¹æ¡ˆï¼Œä»¥æ»¡è¶³å…¬å¸åœ¨å…¨çƒèŒƒå›´å†…çš„ç½‘ç«™éœ€æ±‚ã€‚è¯¥è§£å†³æ–¹æ¡ˆåº”è¯¥å…·æœ‰æˆæœ¬æ•ˆç›Šï¼Œé™åˆ¶åŸºç¡€è®¾æ–½èµ„æºçš„é…ç½®ï¼Œå¹¶æä¾›å°½å¯èƒ½æœ€å¿«çš„å“åº”æ—¶é—´ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ¨èå“ªç§ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <code>historical reports â‡’ static content â‡’ S3</code></p><p>  A. Amazon CloudFront å’Œ Amazon S3<br>  B.AWS Lambda å’Œ Amazon DynamoDB<br>  C. ä½¿ç”¨ Amazon EC2 Auto Scaling çš„åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨<br>  D. å…·æœ‰å†…éƒ¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨çš„ Amazon Route 53</p><h2 id="133-C"><a href="#133-C" class="headerlink" title="133-C"></a>133-C</h2><p>  ä¸€å®¶å…¬å¸åœ¨æœ¬åœ°è¿è¡Œ Oracle æ•°æ®åº“ã€‚ä½œä¸ºå…¬å¸è¿ç§»åˆ° AWS çš„ä¸€éƒ¨åˆ†ï¼Œè¯¥å…¬å¸å¸Œæœ›å°†æ•°æ®åº“å‡çº§åˆ°æœ€æ–°çš„å¯ç”¨ç‰ˆæœ¬ã€‚è¯¥å…¬å¸è¿˜å¸Œæœ›ä¸ºæ•°æ®åº“è®¾ç½®ç¾éš¾æ¢å¤ï¼ˆDRï¼‰ã€‚å…¬å¸éœ€è¦æœ€å¤§é™åº¦åœ°å‡å°‘æ­£å¸¸è¿è¥å’Œç¾éš¾æ¢å¤è®¾ç½®çš„è¿è¥å¼€é”€ã€‚<em><strong>è¯¥å…¬å¸è¿˜éœ€è¦ç»´æŠ¤å¯¹æ•°æ®åº“åº•å±‚æ“ä½œç³»ç»Ÿçš„è®¿é—®</strong></em>ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. å°† Oracle æ•°æ®åº“è¿ç§»åˆ° Amazon <del>EC2 å®ä¾‹</del>ã€‚è®¾ç½®æ•°æ®åº“å¤åˆ¶åˆ°ä¸åŒçš„ AWS åŒºåŸŸã€‚</p><p>  B. å°† Oracle æ•°æ®åº“è¿ç§»åˆ° Amazon RDS for Oracleã€‚æ¿€æ´»è·¨åŒºåŸŸè‡ªåŠ¨å¤‡ä»½ä»¥å°†å¿«ç…§å¤åˆ¶åˆ°<br>  å¦ä¸€ä¸ª AWS åŒºåŸŸã€‚</p><p>  C. å°† Oracle æ•°æ®åº“è¿ç§»åˆ° Amazon RDS Custom for Oracleã€‚ä¸ºå¦ä¸€ä¸ª AWS <strong>åŒºåŸŸ</strong>ä¸­çš„æ•°<br>  æ®åº“åˆ›å»ºåªè¯»å‰¯æœ¬ã€‚</p><p>  **<code>*RDS Custom***å¯ä»¥è®¿é—®åº•å±‚æ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸”æä¾›è¾ƒå°‘çš„æ“ä½œå¼€é”€ã€‚å¦ä¸€ä¸ª regionçš„è¯»å‰¯æœ¬ä¹Ÿå¯ä»¥ç”¨äºå®¹ç¾æ´»åŠ¨</code></p><p>  <code>åªè¯»å‰¯æœ¬å¯ä»¥æ™‹å‡ä¸ºç‹¬ç«‹çš„æ•°æ®åº“</code></p><p>  D. å°† Oracle æ•°æ®åº“è¿ç§»åˆ° Amazon RDS for Oracleã€‚åœ¨å¦ä¸€ä¸ªå¯ç”¨åŒºåˆ›å»ºå¤‡ç”¨æ•°æ®åº“ã€‚</p><h2 id="136-AC"><a href="#136-AC" class="headerlink" title="136-AC"></a>136-AC</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨å°†å…¶æœ¬åœ° PostgreSQL æ•°æ®åº“è¿ç§»åˆ° Amazon Aurora PostgreSQLã€‚<strong>æœ¬åœ°æ•°æ®åº“å¿…é¡»åœ¨è¿ç§»æœŸé—´ä¿æŒåœ¨çº¿ä¸”å¯è®¿é—®</strong>ã€‚ Aurora æ•°æ®åº“å¿…é¡»ä¸æœ¬åœ°æ•°æ®åº“<strong>ä¿æŒåŒæ­¥</strong>ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»é‡‡å–å“ªäº›æ“ä½œç»„åˆæ‰èƒ½æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. åˆ›å»º<strong>æŒç»­å¤åˆ¶ä»»åŠ¡ongoing replication task</strong>ã€‚</p><p>  <code>è®¾ç½®ä¸€ç§æœºåˆ¶æ¥æŒç»­åœ°å°†æºæ•°æ®åº“çš„å˜æ›´ï¼ˆå¦‚æ–°å¢ã€æ›´æ–°ã€åˆ é™¤ç­‰æ“ä½œï¼‰å¤åˆ¶åˆ°ç›®æ ‡æ•°æ®åº“ä¸­ï¼Œä»¥ä¿æŒä¸¤ä¸ªæ•°æ®åº“ä¹‹é—´çš„æ•°æ®**åŒæ­¥**ã€‚</code><br>  B. åˆ›å»ºæœ¬åœ°æ•°æ®åº“çš„æ•°æ®åº“å¤‡ä»½ã€‚<br>  C. åˆ›å»º AWS Database Migration Service (AWS DMS) å¤åˆ¶æœåŠ¡å™¨ã€‚</p><p>  <code>è¿ç§»è¿‡ç¨‹å§‹ç»ˆå¯ç”¨</code><br>  D. ä½¿ç”¨ AWS Schema Conversion Tool (AWS SCT) è½¬æ¢æ•°æ®åº“æ¶æ„ã€‚<br>  E. åˆ›å»º Amazon EventBridge (Amazon CloudWatch Events) è§„åˆ™æ¥ç›‘æ§æ•°æ®åº“åŒæ­¥ã€‚</p><h2 id="301-C"><a href="#301-C" class="headerlink" title="301-C"></a>301-C</h2><p>  æŸå¤§å­¦ç ”ç©¶å®éªŒå®¤éœ€è¦å°† 30 TB æ•°æ®ä»æœ¬åœ° Windows æ–‡ä»¶æœåŠ¡å™¨è¿ç§»åˆ° Amazon FSx for<br>  Windows File Serverã€‚è¯¥å®éªŒå®¤æ‹¥æœ‰ 1 Gbps çš„ç½‘ç»œé“¾è·¯ï¼Œä¸å¤§å­¦çš„è®¸å¤šå…¶ä»–éƒ¨é—¨å…±äº«ã€‚è¯¥å®éªŒå®¤å¸Œæœ›å®æ–½ä¸€é¡¹æ•°æ®è¿ç§»æœåŠ¡ï¼Œä»¥æœ€å¤§é™åº¦åœ°æé«˜æ•°æ®ä¼ è¾“çš„æ€§èƒ½ã€‚ç„¶è€Œï¼Œå®éªŒå®¤éœ€è¦èƒ½å¤Ÿæ§åˆ¶æœåŠ¡ä½¿ç”¨çš„å¸¦å®½é‡ï¼Œä»¥å°½é‡å‡å°‘å¯¹å…¶ä»–éƒ¨é—¨çš„å½±å“ã€‚æ•°æ®è¿ç§»å¿…é¡»åœ¨æ¥ä¸‹æ¥çš„ 5 å¤©å†…è¿›è¡Œã€‚<br>  å“ªç§ AWS è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <del>A.AWS Snowcone</del></p><p>  B.Amazon FSx æ–‡ä»¶ç½‘å…³</p><p>  <strong>C.AWS æ•°æ®åŒæ­¥</strong></p><p>  D. AWS ä¼ è¾“ç³»åˆ—</p><p>  <code>ä¸æ”¯æŒWindows</code></p><h2 id="308-BD"><a href="#308-BD" class="headerlink" title="308-BD"></a>308-BD</h2><p>  ä¸€å®¶å…¬å¸æ‹¥æœ‰å¤šä¸ªä½¿ç”¨åˆå¹¶è´¦å•çš„ AWS è´¦æˆ·ã€‚è¯¥å…¬å¸ä¸º Oracle æŒ‰éœ€æ•°æ®åº“å®ä¾‹è¿è¡Œå¤š<br>  ä¸ªæ´»åŠ¨é«˜æ€§èƒ½ Amazon RDS 90 å¤©ã€‚è¯¥å…¬å¸çš„è´¢åŠ¡å›¢é˜Ÿå¯ä»¥è®¿é—®<strong>åˆå¹¶è®¡è´¹è´¦æˆ·</strong>å’Œæ‰€æœ‰å…¶ä»–<br>  AWS è´¦æˆ·ä¸­çš„ AWS Trusted Advisorã€‚<br>  è´¢åŠ¡å›¢é˜Ÿéœ€è¦ä½¿ç”¨é€‚å½“çš„ AWS è´¦æˆ·æ¥è®¿é—® RDS çš„ Trusted Advisor æ£€æŸ¥å»ºè®®ã€‚è´¢åŠ¡å›¢é˜Ÿ<br>  å¿…é¡»å®¡æŸ¥é€‚å½“çš„ Trusted Advisor æ£€æŸ¥ä»¥é™ä½ RDS æˆæœ¬ã€‚<br>  è´¢åŠ¡å›¢é˜Ÿåº”é‡‡å–å“ªäº›æ­¥éª¤ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰<br>  A. ä½¿ç”¨è¿è¡Œ RDS å®ä¾‹çš„è´¦æˆ·ä¸­çš„ Trusted Advisor å»ºè®®ã€‚<br>  B. ä½¿ç”¨åˆå¹¶è®¡è´¹å¸æˆ·ä¸­çš„ Trusted Advisor å»ºè®®åŒæ—¶æŸ¥çœ‹æ‰€æœ‰ RDS å®ä¾‹æ£€æŸ¥ã€‚<br>  C. æŸ¥çœ‹ Trusted Advisor æ£€æŸ¥ Amazon RDS é¢„ç•™å®ä¾‹ä¼˜åŒ–ã€‚<br>  D. æŸ¥çœ‹ Trusted Advisor æ£€æŸ¥ Amazon RDS ç©ºé—²æ•°æ®åº“å®ä¾‹ã€‚ </p><p>  E. æŸ¥çœ‹ Trusted Advisor æ£€æŸ¥ Amazon Redshift é¢„ç•™èŠ‚ç‚¹ä¼˜åŒ–ã€‚</p><h2 id="309-A"><a href="#309-A" class="headerlink" title="309-A"></a>309-A</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦ä¼˜åŒ–å­˜å‚¨æˆæœ¬ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»è¯†åˆ«ä¸å†è¢«è®¿é—®æˆ–å¾ˆå°‘è®¿é—®çš„ä»»ä½• Amazon S3 å­˜å‚¨æ¡¶ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€å®ç°è¿™ä¸€ç›®æ ‡ï¼Ÿ</p><p>  <strong>A. ä½¿ç”¨ S3 Storage Lens ä»ªè¡¨æ¿æ¥åˆ†æå­˜å‚¨æ¡¶è®¿é—®æ¨¡å¼ä»¥è·å–é«˜çº§æ´»åŠ¨æŒ‡æ ‡ã€‚</strong><br>  B. ä½¿ç”¨ AWS ç®¡ç†æ§åˆ¶å°ä¸­çš„ S3 ä»ªè¡¨æ¿åˆ†æå­˜å‚¨æ¡¶è®¿é—®æ¨¡å¼ã€‚<br>  C. æ‰“å¼€å­˜å‚¨æ¡¶çš„ Amazon CloudWatch BucketSizeBytes æŒ‡æ ‡ã€‚é€šè¿‡ä½¿ç”¨ Amazon Athena çš„<br>  æŒ‡æ ‡æ•°æ®æ¥åˆ†æå­˜å‚¨æ¡¶è®¿é—®æ¨¡å¼ã€‚<br>  D. æ‰“å¼€ AWS CloudTrail ä»¥è¿›è¡Œ S3 å¯¹è±¡ç›‘æ§ã€‚ä½¿ç”¨ä¸ Amazon CloudWatch Logs é›†æˆçš„<br>  CloudTrail æ—¥å¿—åˆ†æå­˜å‚¨æ¡¶è®¿é—®æ¨¡</p><h2 id="310-B"><a href="#310-B" class="headerlink" title="310-B"></a>310-B</h2><p>  ä¸€å®¶å…¬å¸å‘ä»äº‹äººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹  (AI&#x2F;ML) ç ”ç©¶çš„å®¢æˆ·å‡ºå”®æ•°æ®é›†ã€‚æ•°æ®é›†æ˜¯å¤§å‹æ ¼å¼åŒ–æ–‡ä»¶ï¼Œå­˜å‚¨åœ¨ us-east-1 åŒºåŸŸçš„ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚è¯¥å…¬å¸æ‰˜ç®¡ä¸€ä¸ª Web åº”ç”¨ç¨‹åºï¼Œå®¢æˆ·å¯ä»¥ä½¿ç”¨è¯¥åº”ç”¨ç¨‹åºè´­ä¹°ç»™å®šæ•°æ®é›†çš„è®¿é—®æƒé™ã€‚ Web åº”ç”¨ç¨‹åºéƒ¨ç½²åœ¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨åé¢çš„å¤šä¸ª Amazon EC2 å®ä¾‹ä¸Šã€‚è´­ä¹°åï¼Œå®¢æˆ·ä¼šæ”¶åˆ°ä¸€ä¸ª S3 ç­¾åçš„ URLï¼Œå…è®¸è®¿é—®è¿™äº›æ–‡ä»¶ã€‚</p><p>  å®¢æˆ·éå¸ƒåŒ—ç¾å’Œæ¬§æ´²ã€‚è¯¥å…¬å¸å¸Œæœ›<strong>é™ä½ä¸æ•°æ®ä¼ è¾“ç›¸å…³çš„æˆæœ¬ï¼Œå¹¶å¸Œæœ›ç»´æŒæˆ–æé«˜æ€§èƒ½</strong>ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ€æ ·åšæ‰èƒ½æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. åœ¨ç°æœ‰ S3 å­˜å‚¨æ¡¶ä¸Šé…ç½® <del>S3 ä¼ è¾“åŠ é€Ÿ</del>ã€‚å°†å®¢æˆ·è¯·æ±‚å®šå‘åˆ° S3 Transfer Acceleration ç«¯ç‚¹ã€‚ç»§ç»­ä½¿ç”¨ S3 ç­¾å URL è¿›è¡Œè®¿é—®æ§åˆ¶ã€‚</p><p>  <strong>B. ä½¿</strong>ç”¨ç°æœ‰ S3 å­˜å‚¨æ¡¶ä½œä¸ºæºéƒ¨ç½² Amazon CloudFront åˆ†é…ã€‚å°†å®¢æˆ·è¯·æ±‚å®šå‘åˆ°CloudFront URLã€‚åˆ‡æ¢åˆ° CloudFront ç­¾å URL è¿›è¡Œè®¿é—®æ§åˆ¶ã€‚</p><p>  C. åœ¨ eu-central-1 åŒºåŸŸä¸­è®¾ç½®ç¬¬äºŒä¸ª S3 å­˜å‚¨æ¡¶ï¼Œå¹¶åœ¨å­˜å‚¨æ¡¶ä¹‹é—´è¿›è¡Œ S3 <strong>è·¨åŒºåŸŸå¤åˆ¶</strong>ã€‚å°†å®¢æˆ·è¯·æ±‚ç›´æ¥å‘é€è‡³æœ€è¿‘çš„åŒºåŸŸã€‚ç»§ç»­ä½¿ç”¨ S3 ç­¾å URL è¿›è¡Œè®¿é—®æ§åˆ¶ã€‚</p><p>  <code>è·¨åŒºåŸŸå¤åˆ¶ï¼ˆCRRï¼‰æˆ–åŒåŒºåŸŸå¤åˆ¶ï¼ˆSRRï¼‰ï¼Œåªæœ‰åœ¨æ¿€æ´»å¤åˆ¶å**åˆ›å»ºçš„æ–°å¯¹è±¡ä¼šè¢«å¤åˆ¶**åˆ°ç›®æ ‡å­˜å‚¨æ¡¶ï¼Œè€Œä¸ä¼šè¿½æº¯å¤åˆ¶æ—§å¯¹è±¡ã€‚</code></p><p>  D. ä¿®æ”¹ Web åº”ç”¨ç¨‹åºä»¥<del>å°†æ•°æ®é›†æµå¼ä¼ è¾“ç»™æœ€ç»ˆç”¨æˆ·</del>ã€‚é…ç½® Web åº”ç”¨ç¨‹åºä»¥ä»ç°æœ‰ S3<br>  å­˜å‚¨æ¡¶è¯»å–æ•°æ®ã€‚ç›´æ¥åœ¨åº”ç”¨ç¨‹åºä¸­å®æ–½è®¿é—®æ§åˆ¶ã€‚</p><h2 id="314-B"><a href="#314-B" class="headerlink" title="314-B"></a>314-B</h2><p>  ä¸€å®¶å…¬å¸æ‹¥æœ‰ä¸€ä¸ªæœ¬åœ° MySQL æ•°æ®åº“ï¼Œä¾›å…¨çƒé”€å”®å›¢é˜Ÿä½¿ç”¨ï¼Œä¸”è®¿é—®æ¨¡å¼ä¸é¢‘ç¹ã€‚é”€å”®å›¢é˜Ÿè¦æ±‚æ•°æ®åº“çš„åœæœºæ—¶é—´æœ€å°‘ã€‚æ•°æ®åº“ç®¡ç†å‘˜å¸Œæœ›å°†æ­¤æ•°æ®åº“è¿ç§»åˆ° AWSï¼Œ<strong>è€Œä¸é€‰æ‹©ç‰¹å®šå®ä¾‹ç±»å‹</strong>ï¼Œä»¥åº”å¯¹æœªæ¥æ›´å¤šç”¨æˆ·çš„éœ€æ±‚ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ¨èå“ªç§æœåŠ¡ï¼Ÿ</p><p>  A. Amazon Aurora MySQL<br>  B. é€‚ç”¨äº MySQL çš„ Amazon Aurora Serverless</p><p>  <strong><code>&quot;without selecting a particular instance type&quot; = serverless</code></strong><br>  C.Amazon Redshift Spectrum<br>  D. é€‚ç”¨äº MySQL çš„ Amazon RDS</p><h2 id="319-A"><a href="#319-A" class="headerlink" title="319-A"></a>319-A</h2><p>  ä¸€å®¶å…¬å¸åœ¨ AWS äº‘ä¸­æ‹¥æœ‰æ•°ç™¾ä¸ªåŸºäº Linux çš„ Amazon EC2 å®ä¾‹ã€‚ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨å…±<br>  äº« SSH å¯†é’¥æ¥ç®¡ç†å®ä¾‹ã€‚ç»è¿‡æœ€è¿‘çš„å®¡è®¡åï¼Œè¯¥å…¬å¸çš„å®‰å…¨å›¢é˜Ÿè¦æ±‚åˆ é™¤æ‰€æœ‰å…±äº«å¯†é’¥ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»è®¾è®¡ä¸€ä¸ªèƒ½å¤Ÿæä¾›å¯¹ EC2 å®ä¾‹çš„å®‰å…¨è®¿é—®çš„è§£å†³æ–¹æ¡ˆã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„ç®¡ç†å¼€é”€æ»¡è¶³æ­¤è¦æ±‚ï¼Ÿ</p><p>  A. ä½¿ç”¨ AWS Systems Manager ä¼šè¯ç®¡ç†å™¨è¿æ¥åˆ° EC2 å®ä¾‹ã€‚<br>  B. ä½¿ç”¨ AWS Security Token Service (AWS STS) æŒ‰éœ€ç”Ÿæˆä¸€æ¬¡æ€§ SSH å¯†é’¥ã€‚<br>  C. å…è®¸å¯¹ä¸€ç»„å ¡å’å®ä¾‹è¿›è¡Œå…±äº« SSH è®¿é—®ã€‚å°†æ‰€æœ‰å…¶ä»–å®ä¾‹é…ç½®ä¸ºä»…å…è®¸æ¥è‡ªå ¡å’å®ä¾‹<br>  çš„ SSH è®¿é—®ã€‚<br>  D. ä½¿ç”¨ Amazon Cognito è‡ªå®šä¹‰æˆæƒæ–¹å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯ã€‚è°ƒç”¨ AWS Lambda å‡½æ•°æ¥<br>  ç”Ÿæˆä¸´æ—¶ SSH å¯†é’¥ã€‚</p><h2 id="325-A"><a href="#325-A" class="headerlink" title="325-A"></a>325-A</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨æ‰˜ç®¡ Amazon S3 å­˜å‚¨æ¡¶ä¸­çš„ Web åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºä½¿ç”¨ Amazon Cognito ä½œä¸ºèº«ä»½æä¾›å•†æ¥å¯¹ç”¨æˆ·è¿›è¡Œèº«ä»½éªŒè¯å¹¶è¿”å› JSON Web ä»¤ç‰Œ (JWT)ï¼Œè¯¥ä»¤ç‰Œæä¾›å¯¹å­˜å‚¨åœ¨å¦ä¸€ä¸ª S3 å­˜å‚¨æ¡¶ä¸­çš„å—ä¿æŠ¤èµ„æºçš„è®¿é—®æƒé™ã€‚<br>  éƒ¨ç½²åº”ç”¨ç¨‹åºåï¼Œç”¨æˆ·æŠ¥å‘Šé”™è¯¯å¹¶ä¸”æ— æ³•è®¿é—®å—ä¿æŠ¤çš„å†…å®¹ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»é€šè¿‡æ<br>  ä¾›é€‚å½“çš„æƒé™æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥è®¿é—®å—ä¿æŠ¤çš„å†…å®¹ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>A.</strong> æ›´æ–° Amazon Cognito èº«ä»½æ± ä»¥æ‰¿æ‹…é€‚å½“çš„ IAM è§’è‰²æ¥è®¿é—®å—ä¿æŠ¤çš„å†…å®¹ã€‚</p><p>  <code>åœ¨ Amazon Cognito èº«ä»½æ± ä¸­é…ç½®ä¸€ä¸ª IAM è§’è‰²ï¼Œè¯¥è§’è‰²å…·æœ‰è®¿é—®å¦ä¸€ä¸ª S3 å­˜å‚¨æ¡¶ä¸­èµ„æºæ‰€éœ€çš„æƒé™ã€‚</code></p><p>  B. æ›´æ–° S3 ACL ä»¥å…è®¸åº”ç”¨ç¨‹åºè®¿é—®å—ä¿æŠ¤çš„å†…å®¹ã€‚</p><p>  C. å°†åº”ç”¨ç¨‹åºé‡æ–°éƒ¨ç½²åˆ° Amazon S3ï¼Œä»¥é˜²æ­¢ S3 å­˜å‚¨æ¡¶ä¸­çš„æœ€ç»ˆä¸€è‡´æ€§è¯»å–å½±å“ç”¨æˆ·è®¿é—®å—ä¿æŠ¤å†…å®¹çš„èƒ½åŠ›ã€‚</p><p>  D. æ›´æ–° Amazon Cognito æ± ä»¥ä½¿ç”¨èº«ä»½æ± ä¸­çš„è‡ªå®šä¹‰å±æ€§æ˜ å°„ï¼Œå¹¶æˆäºˆç”¨æˆ·è®¿é—®å—ä¿æŠ¤å†…å®¹çš„é€‚å½“æƒé™ã€‚</p><p>  <code>å³ä½¿ä½¿ç”¨äº†è‡ªå®šä¹‰å±æ€§æ˜ å°„ï¼Œä¹Ÿéœ€è¦é€šè¿‡é€‚å½“çš„ IAM è§’è‰²æ¥ç®¡ç†è®¿é—®æƒé™ï¼Œä»¥ç¡®ä¿ä¸€è‡´çš„èº«ä»½éªŒè¯å’Œæˆæƒè¿‡ç¨‹ã€‚</code></p><h2 id="454-C"><a href="#454-C" class="headerlink" title="454-C"></a>454-C</h2><p>  ä¸€å®¶å…¬å¸æ‹¥æœ‰<strong>è·¨å¤šä¸ª AWS åŒºåŸŸå’Œè´¦æˆ·</strong>çš„èµ„æºã€‚æ–°é›‡ç”¨çš„è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå‘ç°ä»¥å‰çš„å‘˜å·¥æ²¡æœ‰æä¾›æœ‰å…³èµ„æºåº“å­˜çš„è¯¦ç»†ä¿¡æ¯ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦æ„å»ºå’Œæ˜ å°„æ‰€æœ‰å¸æˆ·ä¸­å„ç§å·¥ä½œè´Ÿè½½çš„å…³ç³»è¯¦ç»†ä¿¡æ¯ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€é«˜æ•ˆçš„æ–¹å¼æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. ä½¿ç”¨ AWS Systems Manager Inventory ä»è¯¦ç»†è§†å›¾æŠ¥å‘Šç”Ÿæˆåœ°å›¾è§†å›¾ã€‚</p><p>  <code>ç”¨äºæ”¶é›†å…³äºæ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„ä¿¡æ¯ï¼Œä¸é€‚ç”¨äºæ„å»ºå·¥ä½œè´Ÿè½½å…³ç³»å›¾ã€‚</code></p><p>   B. ä½¿ç”¨ AWS Step Functions æ”¶é›†å·¥ä½œè´Ÿè½½è¯¦ç»†ä¿¡æ¯ã€‚æ‰‹åŠ¨æ„å»ºå·¥ä½œè´Ÿè½½çš„æ¶æ„å›¾ã€‚</p><p>  <code>Step Functions å¯ç”¨äºç¼–æ’å’Œåè°ƒä¸åŒæœåŠ¡çš„å·¥ä½œæµ</code><br>  <strong>C. ä½¿ç”¨ AWS ä¸Šçš„å·¥ä½œè´Ÿè½½å‘ç°ç”Ÿæˆå·¥ä½œè´Ÿè½½çš„æ¶æ„å›¾ã€‚</strong></p><p>  <code>åœ¨è·¨å¤šä¸ª AWS åŒºåŸŸå’Œè´¦æˆ·æ‹¥æœ‰èµ„æºçš„æƒ…å†µä¸‹ï¼Œæœ€é«˜æ•ˆçš„æ–¹æ³•æ˜¯ä½¿ç”¨ AWS ä¸Šçš„å·¥ä½œè´Ÿè½½å‘ç°æ¥ç”Ÿæˆå·¥ä½œè´Ÿè½½çš„æ¶æ„å›¾ã€‚</code><br>  D. ä½¿ç”¨ AWS X-Ray æŸ¥çœ‹å·¥ä½œè´Ÿè½½è¯¦ç»†ä¿¡æ¯ã€‚æ„å»ºå…·æœ‰å…³ç³»çš„æ¶æ„å›¾ã€‚<br>  <code>AWS X-Ray æ˜¯ç”¨äºåˆ†æå’Œè°ƒè¯•åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºçš„æœåŠ¡</code></p><h2 id="455-ADF"><a href="#455-ADF" class="headerlink" title="455-ADF"></a>455-ADF</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨ AWS Organizationsã€‚è¯¥å…¬å¸å¸Œæœ›ä»¥ä¸åŒçš„é¢„ç®—æ¥è¿è¥å…¶ä¸€äº› AWS è´¦æˆ·ã€‚è¯¥å…¬å¸å¸Œæœ›åœ¨ç‰¹å®šæ—¶é—´æ®µå†…è¾¾åˆ°åˆ†é…çš„é¢„ç®—é˜ˆå€¼æ—¶æ¥æ”¶è­¦æŠ¥å¹¶è‡ªåŠ¨é˜»æ­¢åœ¨ AWS è´¦æˆ·ä¸Šé…ç½®é¢å¤–èµ„æºã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆç»„åˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸‰é¡¹ã€‚ï¼‰</p><p>  A. ä½¿ç”¨ AWS Budgets åˆ›å»ºé¢„ç®—ã€‚åœ¨æ‰€éœ€ AWS è´¦æˆ·çš„æˆæœ¬å’Œä½¿ç”¨æƒ…å†µæŠ¥å‘Šéƒ¨åˆ†ä¸‹è®¾ç½®é¢„<br>  ç®—é‡‘é¢ã€‚</p><p>  B. ä½¿ç”¨ AWS Budgets åˆ›å»ºé¢„ç®—ã€‚åœ¨æ‰€éœ€ AWS è´¦æˆ·çš„è´¦å•ä»ªè¡¨æ¿ä¸‹è®¾ç½®é¢„ç®—é‡‘é¢ã€‚</p><p>  C. ä¸º AWS Budgets åˆ›å»º IAM **ç”¨æˆ·ï¼Œ**ä»¥ä½¿ç”¨æ‰€éœ€æƒé™è¿è¡Œé¢„ç®—æ“ä½œã€‚</p><p>  D. ä¸º AWS Budgetsåˆ›å»º IAM <strong>è§’è‰²</strong>ï¼Œä»¥ä½¿ç”¨æ‰€éœ€æƒé™è¿è¡Œé¢„ç®—æ“ä½œã€‚ </p><p>  E. æ·»åŠ è­¦æŠ¥ï¼Œä»¥ä¾¿åœ¨æ¯ä¸ªå¸æˆ·è¾¾åˆ°å…¶é¢„ç®—é˜ˆå€¼æ—¶é€šçŸ¥å…¬å¸ã€‚æ·»åŠ é¢„ç®—æ“ä½œï¼Œé€‰æ‹©ä½¿ç”¨é€‚å½“çš„ cong è§„åˆ™åˆ›å»ºçš„ IAM èº«ä»½ï¼Œä»¥é˜²æ­¢é…ç½®é¢å¤–èµ„æºã€‚</p><p>  F. æ·»åŠ è­¦æŠ¥ï¼Œä»¥ä¾¿åœ¨æ¯ä¸ªå¸æˆ·è¾¾åˆ°å…¶é¢„ç®—é˜ˆå€¼æ—¶é€šçŸ¥å…¬å¸ã€‚æ·»åŠ é¢„ç®—æ“ä½œï¼Œé€‰æ‹©ä½¿ç”¨é€‚å½“<br>  çš„æœåŠ¡æ§åˆ¶ç­–ç•¥ (SCP) åˆ›å»ºçš„ IAM èº«ä»½ï¼Œä»¥é˜²æ­¢é…ç½®é¢å¤–èµ„æºã€‚<br>   <code>Organizationsä¸­SCP</code></p><h2 id="457-C"><a href="#457-C" class="headerlink" title="457-C"></a>457-C</h2><p>  ä¸€å®¶ä½¿ç”¨ AWS çš„å…¬å¸æ­£åœ¨æ„å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥å°†æ•°æ®ä¼ è¾“ç»™äº§å“åˆ¶é€ å•†ã€‚è¯¥å…¬å¸æ‹¥æœ‰è‡ª<br>  å·±çš„èº«ä»½æä¾›å•† (IdP)ã€‚è¯¥å…¬å¸å¸Œæœ› IdP åœ¨ç”¨æˆ·ä½¿ç”¨åº”ç”¨ç¨‹åºä¼ è¾“æ•°æ®æ—¶å¯¹åº”ç”¨ç¨‹åºç”¨æˆ·<br>  è¿›è¡Œèº«ä»½éªŒè¯ã€‚å…¬å¸å¿…é¡»ä½¿ç”¨é€‚ç”¨æ€§å£°æ˜ 2 <strong><code>(AS2)</code></strong> åè®®ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. ä½¿ç”¨ AWS DataSync ä¼ è¾“æ•°æ®ã€‚åˆ›å»ºç”¨äº IdP èº«ä»½éªŒè¯çš„ AWS Lambda å‡½æ•°ã€‚<br>  B. ä½¿ç”¨ Amazon AppFlow æµä¼ è¾“æ•°æ®ã€‚åˆ›å»ºç”¨äº IdP èº«ä»½éªŒè¯çš„ Amazon Elastic Container<br>  Service (Amazon ECS) ä»»åŠ¡ã€‚<br>  C. ä½¿ç”¨ AWS Transfer Family ä¼ è¾“æ•°æ®ã€‚åˆ›å»ºç”¨äº IdP èº«ä»½éªŒè¯çš„ AWS Lambda å‡½æ•°ã€‚</p><p>   <strong><code>(AS2)</code></strong><br>  D. ä½¿ç”¨ AWS Storage Gateway ä¼ è¾“æ•°æ®ã€‚åˆ›å»ºç”¨äº IdP èº«ä»½éªŒè¯çš„ Amazon Cognito èº«ä»½æ± ã€‚<br>  æ­£ç¡®ç­”æ¡ˆï¼šC</p><h2 id="458-BC"><a href="#458-BC" class="headerlink" title="458-BC"></a>458-BC</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ­£åœ¨ Amazon API Gateway ä¸­è®¾è®¡ RESTAPI ä»¥å®ç°ç°é‡‘å›æŠ¥æœåŠ¡ã€‚è¯¥åº”ç”¨ç¨‹åºéœ€è¦ 1 GB å†…å­˜å’Œ 2 GB å­˜å‚¨ç©ºé—´ç”¨äºå…¶è®¡ç®—èµ„æºã€‚</p><p>  <strong>åº”ç”¨ç¨‹åºå°†è¦æ±‚æ•°æ®é‡‡ç”¨å…³ç³»æ ¼å¼The application will require that the data is in a relational format.</strong>ã€‚<br>  å“ªç§é¢å¤–çš„ AWS æœåŠ¡ç»„åˆèƒ½å¤Ÿä»¥æœ€å°‘çš„ç®¡ç†å·¥ä½œæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  Aã€äºšé©¬é€Š EC2</p><p>  B.AWS Lambda</p><p>  <code>serverless</code></p><p>  C.äºšé©¬é€Š RDS</p><p>  D.äºšé©¬é€Š DynamoDB</p><p>  <code>NoSQL database - ä¸æ˜¯å…³ç³»å‹æ•°æ®åº“</code> </p><p>  E.Amazon Elastic Kubernetes æœåŠ¡ (Amazon EKS)</p><h2 id="459-A"><a href="#459-A" class="headerlink" title="459-A"></a>459-A</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨ AWS Organizations åœ¨å¤šä¸ª AWS è´¦æˆ·ä¸­è¿è¡Œå·¥ä½œè´Ÿè½½ã€‚å½“å…¬å¸åˆ›å»ºæ ‡ç­¾æ—¶ï¼Œæ ‡è®°ç­–ç•¥ä¼šå°†éƒ¨é—¨æ ‡ç­¾æ·»åŠ åˆ° AWS èµ„æºã€‚<br>  ä¼šè®¡å›¢é˜Ÿéœ€è¦ç¡®å®š Amazon EC2 æ¶ˆè€—çš„æ”¯å‡ºã€‚ä¼šè®¡å›¢é˜Ÿå¿…é¡»ç¡®å®šå“ªäº›éƒ¨é—¨è´Ÿè´£æˆæœ¬ï¼Œæ— è®ºAWS è´¦æˆ·å¦‚ä½•ã€‚ä¼šè®¡å›¢é˜Ÿå¯ä»¥è®¿é—®ç»„ç»‡å†…æ‰€æœ‰ AWS è´¦æˆ·çš„ AWS Cost Explorerï¼Œå¹¶ä¸”éœ€è¦è®¿é—® Cost Explorer ä¸­çš„æ‰€æœ‰æŠ¥å‘Šã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆä»¥æœ€é«˜æ•ˆçš„æ–¹å¼æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>A.</strong> From the Organizations <strong>management account</strong> billing console, activate a <strong>user-dened</strong> cost allocation tag named department. Create one cost report in Cost Explorer grouping by tag name, and lter by EC2.</p><p>  <code>ç®¡ç†è´¦æˆ·å…·æœ‰***ä»˜æ¬¾äººè´¦æˆ·***çš„è´£ä»»ï¼Œå¹¶è´Ÿè´£æ”¯ä»˜æˆå‘˜è´¦æˆ·äº§ç”Ÿçš„æ‰€æœ‰è´¹ç”¨ã€‚æ‚¨æ— æ³•æ›´æ”¹ä¸€ä¸ªç»„ç»‡çš„ç®¡ç†è´¦æˆ·ã€‚</code><br>  <strong>B.</strong> From the Organizations <strong>management account</strong> billing console, activate an <strong>AWS-dened</strong> cost allocation tag named department. Create one cost report in Cost Explorer grouping by tag name, and lter by EC2.</p><p>  <strong>C.</strong> From the Organizations <strong>member account</strong> billing console, activate a <strong>user-dened</strong> cost allocation tag named department. Create one cost report in Cost Explorer grouping by the tag name, and lter by EC2.</p><p>  <strong>D.</strong> From the Organizations <strong>member account</strong> billing console, activate an <strong>AWS-dened</strong> cost allocation tag named department. Create one cost report in Cost Explorer grouping by tag name, and lter by EC2.</p><p>  A. ä»ç»„ç»‡ç®¡ç†å¸æˆ·è®¡è´¹æ§åˆ¶å°ä¸­ï¼Œæ¿€æ´»åä¸ºâ€œéƒ¨é—¨â€çš„ç”¨æˆ·å®šä¹‰çš„æˆæœ¬åˆ†é…æ ‡ç­¾ã€‚åœ¨ Cost<br>  Explorer ä¸­åˆ›å»ºä¸€ä»½æˆæœ¬æŠ¥å‘Šï¼ŒæŒ‰æ ‡ç­¾åç§°åˆ†ç»„ï¼Œå¹¶æŒ‰ EC2 è¿‡æ»¤ã€‚<br>  B. ä»ç»„ç»‡ç®¡ç†è´¦æˆ·è®¡è´¹æ§åˆ¶å°ä¸­ï¼Œæ¿€æ´»åä¸ºâ€œéƒ¨é—¨â€çš„ AWS å®šä¹‰çš„æˆæœ¬åˆ†é…æ ‡ç­¾ã€‚åœ¨ Cost<br>  Explorer ä¸­åˆ›å»ºä¸€ä»½æˆæœ¬æŠ¥å‘Šï¼ŒæŒ‰æ ‡ç­¾åç§°åˆ†ç»„ï¼Œå¹¶æŒ‰ EC2 è¿‡æ»¤ã€‚<br>  C. ä»ç»„ç»‡æˆå‘˜å¸æˆ·è®¡è´¹æ§åˆ¶å°ï¼Œæ¿€æ´»åä¸ºâ€œéƒ¨é—¨â€çš„ç”¨æˆ·å®šä¹‰æˆæœ¬åˆ†é…æ ‡ç­¾ã€‚åœ¨ Cost<br>  Explorer ä¸­åˆ›å»ºä¸€ä»½æˆæœ¬æŠ¥å‘Šï¼ŒæŒ‰æ ‡ç­¾åç§°åˆ†ç»„ï¼Œå¹¶æŒ‰ EC2 è¿›è¡Œè¿‡æ»¤ã€‚<br>  D. ä»ç»„ç»‡æˆå‘˜è´¦æˆ·è®¡è´¹æ§åˆ¶å°ä¸­ï¼Œæ¿€æ´»åä¸ºâ€œéƒ¨é—¨â€çš„ AWS å®šä¹‰çš„æˆæœ¬åˆ†é…æ ‡ç­¾ã€‚åœ¨ Cost<br>  Explorer ä¸­åˆ›å»ºä¸€ä»½æˆæœ¬æŠ¥å‘Šï¼ŒæŒ‰æ ‡ç­¾åç§°åˆ†ç»„ï¼Œå¹¶æŒ‰ EC2 è¿‡æ»¤ã€‚<br>  æ­£ç¡®ç­”æ¡ˆï¼šA</p><h2 id="464-A"><a href="#464-A" class="headerlink" title="464-A"></a>464-A</h2><p>  ä¸€å®¶å…¬å¸æ‰˜ç®¡ä¸€ä¸ªåœ¨çº¿è´­ç‰©åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå°†æ‰€æœ‰è®¢å•å­˜å‚¨åœ¨ Amazon RDS for<br>  PostgreSQL å•å¯ç”¨åŒºæ•°æ®åº“å®ä¾‹ä¸­ã€‚ç®¡ç†å±‚å¸Œæœ›æ¶ˆé™¤å•ç‚¹æ•…éšœï¼Œå¹¶è¦æ±‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ¨<br>  èä¸€ç§æ–¹æ³•æ¥æœ€å¤§é™åº¦åœ°<strong>å‡å°‘æ•°æ®åº“åœæœºæ—¶é—´ï¼Œè€Œæ— éœ€å¯¹åº”ç”¨ç¨‹åºä»£ç è¿›è¡Œä»»ä½•æ›´æ”¹</strong>ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <code>ä¸æ¶‰åŠåˆ›å»ºæ–°å®ä¾‹ã€æ¢å¤å¿«ç…§æˆ–æ‰‹åŠ¨è®¾ç½®å¤åˆ¶çš„å…¶ä»–è§£å†³æ–¹æ¡ˆç›¸æ¯”ï¼Œè½¬æ¢åˆ°Multi-AZéƒ¨ç½²æ˜¯ä¸€ç§æ›´ç®€å•ã€æ›´ç²¾ç®€çš„æ–¹æ³•ï¼Œå¼€é”€æ›´ä½ã€‚æ€»çš„æ¥è¯´ï¼Œé€‰é¡¹Aæä¾›äº†ä¸€ç§ç»æµæœ‰æ•ˆçš„æ–¹æ³•æ¥æœ€å°åŒ–æ•°æ®åº“åœæœºæ—¶é—´ï¼Œè€Œä¸éœ€è¦è¿›è¡Œé‡å¤§æ›´æ”¹æˆ–å¢åŠ å¤æ‚æ€§</code><br>  A. é€šè¿‡ä¿®æ”¹æ•°æ®åº“å®ä¾‹å¹¶æŒ‡å®šå¤šå¯ç”¨åŒºé€‰é¡¹ï¼Œå°†ç°æœ‰æ•°æ®åº“å®ä¾‹è½¬æ¢ä¸ºå¤šå¯ç”¨åŒºéƒ¨ç½²ã€‚</p><p>  B. åˆ›å»ºæ–°çš„ RDS å¤šå¯ç”¨åŒºéƒ¨ç½²ã€‚æ‹æ‘„å½“å‰ RDS å®ä¾‹çš„å¿«ç…§å¹¶ä½¿ç”¨è¯¥å¿«ç…§æ¢å¤æ–°çš„å¤šå¯<br>  ç”¨åŒºéƒ¨ç½²ã€‚</p><p>  C. åœ¨å¦ä¸€ä¸ªå¯ç”¨åŒºä¸­åˆ›å»º PostgreSQL æ•°æ®åº“çš„åªè¯»å‰¯æœ¬ã€‚ä½¿ç”¨ Amazon Route 53 åŠ æƒè®°<br>  å½•é›†åœ¨æ•°æ®åº“ä¹‹é—´åˆ†é…è¯·æ±‚ã€‚</p><p>  D. å°† RDS for PostgreSQL æ•°æ®åº“æ”¾å…¥ Amazon EC2 Auto Scaling ç»„ä¸­ï¼Œç»„å¤§å°è‡³å°‘ä¸º 2ã€‚ä½¿ç”¨ Amazon Route 53 åŠ æƒè®°å½•é›†è·¨å®ä¾‹åˆ†é…è¯·æ±‚ã€‚</p><h2 id="478-B"><a href="#478-B" class="headerlink" title="478-B"></a>478-B</h2><p>  å¾‹å¸ˆäº‹åŠ¡æ‰€éœ€è¦ä¸å…¬ä¼—å…±äº«ä¿¡æ¯ã€‚è¯¥ä¿¡æ¯åŒ…æ‹¬æ•°ç™¾ä¸ªå¿…é¡»å…¬å¼€å¯è¯»çš„æ–‡ä»¶ã€‚<strong>ç¦æ­¢ä»»ä½•äººåœ¨æŒ‡å®šçš„æœªæ¥æ—¥æœŸä¹‹å‰ä¿®æ”¹æˆ–åˆ é™¤æ–‡ä»¶ã€‚</strong><br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å®‰å…¨çš„æ–¹å¼æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  å¯ç”¨ç‰ˆæœ¬æ§åˆ¶ä¼šè·Ÿè¸ªæ¯ä¸ªå¯¹è±¡çš„å¤šä¸ªç‰ˆæœ¬ï¼Œè¿™æ„å‘³ç€å½“æ‚¨ä¸Šä¼ æ–°çš„ç‰ˆæœ¬æ—¶ï¼Œæ—§ç‰ˆæœ¬ä¸ä¼šè¢«åˆ é™¤ã€‚</p><p>  <del>A. å°†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°é…ç½®ä¸ºé™æ€ç½‘ç«™æ‰˜ç®¡çš„ Amazon S3 å­˜å‚¨æ¡¶ã€‚å‘åœ¨æŒ‡å®šæ—¥æœŸä¹‹å‰è®¿é—®S3 å­˜å‚¨æ¡¶çš„ä»»ä½• AWS å§”æ‰˜äººæˆäºˆåªè¯» IAM æƒé™ã€‚</del></p><p>  B. åˆ›å»ºå¯ç”¨ S3 <strong>ç‰ˆæœ¬æ§åˆ¶</strong>çš„æ–° Amazon S3 å­˜å‚¨æ¡¶ã€‚ä½¿ç”¨ S3 å¯¹è±¡é”ï¼Œå¹¶æ ¹æ®æŒ‡å®šæ—¥æœŸä¿ç•™æœŸé™ã€‚é…ç½®é™æ€ç½‘ç«™æ‰˜ç®¡çš„ S3 å­˜å‚¨æ¡¶ã€‚è®¾ç½® S3 å­˜å‚¨æ¡¶ç­–ç•¥ä»¥å…è®¸å¯¹å¯¹è±¡è¿›è¡Œåªè¯»è®¿é—®ã€‚</p><p>  C. åˆ›å»ºå¯ç”¨ S3 ç‰ˆæœ¬æ§åˆ¶çš„æ–° Amazon S3 å­˜å‚¨æ¡¶ã€‚é…ç½®äº‹ä»¶è§¦å‘å™¨ä»¥åœ¨å¯¹è±¡ä¿®æ”¹æˆ–åˆ é™¤æ—¶è¿è¡ŒAWS Lambda å‡½æ•°ã€‚é…ç½® Lambda å‡½æ•°ä»¥å°†å¯¹è±¡æ›¿æ¢ä¸ºç§æœ‰ S3 å­˜å‚¨æ¡¶ä¸­çš„åŸå§‹</p><p>  D. å°†æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°é…ç½®ä¸ºé™æ€ç½‘ç«™æ‰˜ç®¡çš„ Amazon S3 å­˜å‚¨æ¡¶ã€‚é€‰æ‹©åŒ…å«æ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚ä½¿ç”¨S3 å¯¹è±¡é”ï¼Œå¹¶æ ¹æ®æŒ‡å®šæ—¥æœŸä¿ç•™æœŸé™ã€‚<strong>å‘è®¿é—® S3 å­˜å‚¨æ¡¶çš„ä»»ä½• AWS å§”æ‰˜äººæˆäºˆåªè¯» IAM æƒé™ã€‚</strong></p><p>  <code>æœªå¯ç”¨versioning</code></p><h2 id="479-B"><a href="#479-B" class="headerlink" title="479-B"></a>479-B</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨é€šè¿‡æ‰‹åŠ¨é…ç½®å¿…è¦çš„åŸºç¡€è®¾æ–½æ¥ä¸ºå…¶æ–°ç½‘ç«™åˆ¶ä½œåŸºç¡€è®¾æ–½åŸå‹ã€‚è¯¥åŸºç¡€è®¾æ–½åŒ…æ‹¬ Auto Scaling ç»„ã€Application Load Balancer å’Œ Amazon RDS æ•°æ®åº“ã€‚é…ç½®ç»è¿‡å½»åº•éªŒè¯åï¼Œè¯¥å…¬å¸å¸Œæœ›èƒ½å¤Ÿ<strong>ç«‹å³ä»¥è‡ªåŠ¨åŒ–æ–¹å¼</strong>åœ¨ä¸¤ä¸ªå¯ç”¨åŒºä¸­éƒ¨ç½²åŸºç¡€è®¾æ–½ä»¥ä¾›å¼€å‘å’Œç”Ÿäº§ä½¿ç”¨ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥å»ºè®®ä»€ä¹ˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. ä½¿ç”¨ AWS Systems Manager åœ¨ä¸¤ä¸ªå¯ç”¨åŒºä¸­å¤åˆ¶å’Œé…ç½®åŸå‹åŸºç¡€è®¾æ–½</p><p>  <code>å®ƒé€šå¸¸ç”¨äºç®¡ç†è¿è¡Œä¸­çš„èµ„æºçŠ¶æ€å’Œé…ç½®ï¼Œè€Œä¸æ˜¯ç”¨äºéƒ¨ç½²åŸºç¡€è®¾æ–½ã€‚</code></p><p>  B. ä½¿ç”¨åŸå‹åŸºç¡€è®¾æ–½ä½œä¸ºæŒ‡å¯¼ï¼Œå°†åŸºç¡€è®¾æ–½å®šä¹‰ä¸ºæ¨¡æ¿ã€‚ä½¿ç”¨ AWS CloudFormation éƒ¨ç½²åŸºç¡€è®¾æ–½ã€‚<br>  C. ä½¿ç”¨ AWS Cong è®°å½•åŸå‹åŸºç¡€è®¾æ–½ä¸­ä½¿ç”¨çš„èµ„æºæ¸…å•ã€‚ä½¿ç”¨ AWS Cong å°†åŸå‹åŸºç¡€è®¾æ–½éƒ¨ç½²åˆ°ä¸¤ä¸ªå¯ç”¨åŒºã€‚<br>  D. ä½¿ç”¨ AWS Elastic Beanstalk å¹¶å°†å…¶é…ç½®ä¸ºä½¿ç”¨å¯¹åŸå‹åŸºç¡€è®¾æ–½çš„è‡ªåŠ¨å¼•ç”¨æ¥è‡ªåŠ¨åœ¨ä¸¤ä¸ªå¯ç”¨åŒºä¸­éƒ¨ç½²æ–°ç¯å¢ƒã€‚</p><p>  <code>AWS Elastic Beanstalk æ˜¯ä¸€ç§æ‰˜ç®¡æœåŠ¡ï¼Œç”¨äºéƒ¨ç½²å’Œç®¡ç†åº”ç”¨ç¨‹åºã€‚</code></p><p>  <code>éœ€æ±‚æ˜¯éƒ¨ç½²åŸºç¡€è®¾æ–½ï¼Œè€Œä¸ä»…ä»…æ˜¯åº”ç”¨ç¨‹åºã€‚</code></p><h2 id="481-B"><a href="#481-B" class="headerlink" title="481-B"></a>481-B</h2><p>  ä¸€å®¶å…¬å¸åœ¨ AWS äº‘ä¸­æ‰˜ç®¡ä¸€ä¸ªä¸‰å±‚ Web åº”ç”¨ç¨‹åºã€‚å¤šå¯ç”¨åŒº Amazon RDS for MySQLæœåŠ¡å™¨æ„æˆæ•°æ®åº“å±‚ Amazon ElastiCache æ„æˆç¼“å­˜å±‚ã€‚è¯¥å…¬å¸éœ€è¦ä¸€ç§ç¼“å­˜ç­–ç•¥ï¼Œå½“å®¢æˆ·å°†é¡¹ç›®æ·»åŠ åˆ°æ•°æ®åº“æ—¶ï¼Œè¯¥ç­–ç•¥å¯ä»¥æ·»åŠ æˆ–æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ã€‚ç¼“å­˜ä¸­çš„æ•°æ®å¿…é¡»å§‹ç»ˆä¸æ•°æ®åº“ä¸­çš„æ•°æ®åŒ¹é…ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. å®ç°å»¶è¿ŸåŠ è½½ç¼“å­˜ç­–ç•¥</p><p>  <code>å»¶è¿ŸåŠ è½½é€šå¸¸æ˜¯æŒ‡åœ¨æ•°æ®è¢«è¯·æ±‚æ—¶æ‰å°†å…¶åŠ è½½åˆ°ç¼“å­˜ä¸­</code></p><p>  B. å®ç°ç›´å†™å¼ç¼“å­˜ç­–ç•¥</p><p>  <code>ç›´å†™å¼ç¼“å­˜ç­–ç•¥æ˜¯æŒ‡åœ¨æ›´æ–°æ•°æ®åº“æ•°æ®æ—¶ï¼Œé¦–å…ˆæ›´æ–°æ•°æ®åº“ï¼Œç„¶åå†æ›´æ–°ç¼“å­˜ï¼Œä»¥ç¡®ä¿ç¼“å­˜ä¸­çš„æ•°æ®å§‹ç»ˆä¸æ•°æ®åº“ä¸­çš„æ•°æ®åŒ¹é…ã€‚è¿™ç§æ–¹æ³•å¯ä»¥ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§ï¼Œå› ä¸ºå…ˆæ›´æ–°æ•°æ®åº“å¯ä»¥ç¡®ä¿ç¼“å­˜ä¸­çš„æ•°æ®ä¸ä¼šè¿‡æ—¶æˆ–ä¸å‡†ç¡®ã€‚</code></p><p>  C. å®ç°æ·»åŠ  TTL ç¼“å­˜ç­–ç•¥</p><p>  <code>æ·»åŠ  TTLï¼ˆç”Ÿå­˜æ—¶é—´ï¼‰ç¼“å­˜ç­–ç•¥å¯ä»¥åœ¨ä¸€æ®µæ—¶é—´åä»ç¼“å­˜ä¸­åˆ é™¤æ•°æ®ï¼Œä»¥ç¡®ä¿æ•°æ®ä¸ä¼šå¤ªæ—§ã€‚</code></p><p>  D. å®æ–½ AWS AppCong ç¼“å­˜ç­–ç•¥</p><p>  <code>AWS AppCong æ˜¯ç”¨äºè‡ªåŠ¨åŒ–è°ƒæ•´å®¹é‡çš„æœåŠ¡ï¼Œä¸ç¼“å­˜ç­–ç•¥æ— å…³ã€‚</code></p><p>  æ­£ç¡®ç­”æ¡ˆï¼šB</p><h2 id="482-B"><a href="#482-B" class="headerlink" title="482-B"></a>482-B</h2><p>  ä¸€å®¶å…¬å¸å¸Œæœ›å°† 100 GB çš„å†å²æ•°æ®ä»æœ¬åœ°ä½ç½®è¿ç§»åˆ° Amazon S3 å­˜å‚¨æ¡¶ã€‚è¯¥å…¬å¸æ‹¥æœ‰æ¯ç§’ 100 å…†æ¯”ç‰¹ (Mbps) çš„å†…éƒ¨äº’è”ç½‘è¿æ¥ã€‚è¯¥å…¬å¸éœ€è¦å¯¹ä¼ è¾“åˆ° S3 å­˜å‚¨æ¡¶çš„æ•°æ®è¿›è¡ŒåŠ å¯†ã€‚è¯¥å…¬å¸å°†æŠŠæ–°æ•°æ®ç›´æ¥å­˜å‚¨åœ¨ Amazon S3 ä¸­ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. åœ¨ AWS CLI ä¸­ä½¿ç”¨ s3sync å‘½ä»¤å°†æ•°æ®ç›´æ¥ç§»åŠ¨åˆ° S3 å­˜å‚¨æ¡¶</p><p>  <code>ä¸æ”¯æŒè‡ªåŠ¨åŠ å¯†</code></p><p>  B. ä½¿ç”¨ AWS DataSync å°†æ•°æ®ä»æœ¬åœ°ä½ç½®è¿ç§»åˆ° S3 å­˜å‚¨æ¡¶</p><p>  <code>æœ¬åœ°åˆ° AWS ä»¥åŠ AWS ä¹‹é—´çš„æ•°æ®ä¼ è¾“</code></p><p>  <code>å®ƒä¼šå¤„ç†æ•°æ®çš„åŠ å¯†ï¼Œç¡®ä¿æ•°æ®å®‰å…¨æ€§ã€‚</code></p><p>  C. ä½¿ç”¨ AWS Snowball å°†æ•°æ®ç§»åŠ¨åˆ° S3 å­˜å‚¨æ¡¶</p><p>  <strong><code>TBçº§åˆ«</code></strong></p><p>  D. è®¾ç½®ä»æœ¬åœ°ä½ç½®åˆ° AWS çš„ IPsec VPNã€‚ä½¿ç”¨ AWS CLI ä¸­çš„ s3 cp å‘½ä»¤å°†æ•°æ®ç›´æ¥ç§»åŠ¨åˆ° S3 å­˜å‚¨æ¡¶</p><p>  <code>å¤æ‚å’Œæ˜‚è´µ</code></p><p>  æ­£ç¡®ç­”æ¡ˆï¼šB</p><h2 id="483-B"><a href="#483-B" class="headerlink" title="483-B"></a>483-B</h2><p>  ä¸€å®¶å…¬å¸å¯¹åœ¨ Windows å®¹å™¨ä¸‹çš„ .NET 6 Framework ä¸Šè¿è¡Œçš„ Windows ä½œä¸šè¿›è¡Œäº†å®¹å™¨<br>  åŒ–ã€‚è¯¥å…¬å¸å¸Œæœ›åœ¨ AWS äº‘ä¸­è¿è¡Œæ­¤ä½œä¸šã€‚è¯¥ä½œä¸šæ¯ 10 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ã€‚ä½œä¸šçš„è¿è¡Œæ—¶é—´<br>  åœ¨ 1 åˆ†é’Ÿåˆ° 3 åˆ†é’Ÿä¹‹é—´å˜åŒ–ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿæœ€å…·æˆæœ¬æ•ˆç›Šåœ°æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <code>AWS Lambda å’Œ Amazon EventBridge å¯èƒ½æ›´é€‚ç”¨äºäº‹ä»¶é©±åŠ¨å‹çš„ä»»åŠ¡ï¼Œè€Œé€‰é¡¹ C å’Œ D ä¸­çš„ ECS å’Œè®¡åˆ’ä»»åŠ¡å¯èƒ½éœ€è¦æ›´å¤šçš„é…ç½®å’Œç®¡ç†ã€‚</code><br>  A. æ ¹æ®ä½œä¸šçš„å®¹å™¨æ˜ åƒåˆ›å»º AWS Lambda å‡½æ•°ã€‚é…ç½® Amazon EventBridge ä»¥æ¯ 10 åˆ†<br>  é’Ÿè°ƒç”¨è¯¥å‡½æ•°ã€‚</p><p>  <code>æ›´å¤šæ‰‹åŠ¨é…ç½®</code><br>  <strong>B. ä½¿ç”¨ AWS Batch åˆ›å»ºä½¿ç”¨ AWS Fargate èµ„æºçš„ä½œä¸šã€‚å°†ä½œä¸šè°ƒåº¦é…ç½®ä¸ºæ¯ 10 åˆ†é’Ÿè¿<br>  è¡Œä¸€æ¬¡ã€‚</strong></p><p>  <code>AWS Batch å…è®¸æ‚¨ä»¥æˆæœ¬æ•ˆç›Šçš„æ–¹å¼åœ¨ AWS ä¸Šæ‰§è¡Œå¤§é‡çš„è®¡ç®—å·¥ä½œè´Ÿè½½ï¼Œå¯ä»¥è‡ªåŠ¨ä¸ºæ‚¨ç®¡ç†å’Œè°ƒåº¦å®¹å™¨åŒ–ä½œä¸šã€‚</code><br>  C. åœ¨ AWS Fargate ä¸Šä½¿ç”¨ Amazon Elastic Container Service (Amazon ECS) è¿è¡Œä½œä¸šã€‚æ ¹<br>  æ®ä½œä¸šçš„å®¹å™¨é•œåƒåˆ›å»ºè®¡åˆ’ä»»åŠ¡ï¼Œæ¯ 10 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ã€‚</p><p>  D. åœ¨ AWS Fargate ä¸Šä½¿ç”¨ Amazon Elastic Container Service (Amazon ECS) è¿è¡Œä½œä¸šã€‚æ ¹<br>  æ®ä½œä¸šçš„å®¹å™¨é•œåƒåˆ›å»ºç‹¬ç«‹ä»»åŠ¡ã€‚ä½¿ç”¨ Windows ä»»åŠ¡è®¡åˆ’ç¨‹åºæ¯ 10 åˆ†é’Ÿè¿è¡Œä¸€æ¬¡ä½œä¸šã€‚</p><h2 id="484-AE"><a href="#484-AE" class="headerlink" title="484-AE"></a>484-AE</h2><p>  ä¸€å®¶å…¬å¸å¸Œæœ›ä»è®¸å¤šç‹¬ç«‹çš„ AWS è´¦æˆ·è¿ç§»åˆ°æ•´åˆçš„å¤šè´¦æˆ·æ¶æ„ã€‚è¯¥å…¬å¸è®¡åˆ’ä¸ºä¸åŒçš„ä¸šåŠ¡éƒ¨é—¨åˆ›å»ºè®¸å¤šæ–°çš„ AWS è´¦æˆ·ã€‚è¯¥å…¬å¸éœ€è¦ä½¿ç”¨é›†ä¸­å¼ä¼ä¸šç›®å½•æœåŠ¡æ¥éªŒè¯å¯¹è¿™äº› AWSè´¦æˆ·çš„è®¿é—®æƒé™ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ¨èå“ªç§æ“ä½œç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰<br>  A. åœ¨ AWS Organizations ä¸­åˆ›å»ºä¸€ä¸ªæ–°ç»„ç»‡å¹¶å¯ç”¨æ‰€æœ‰åŠŸèƒ½ã€‚åœ¨ç»„ç»‡ä¸­åˆ›å»ºæ–°çš„ AWS è´¦æˆ·ã€‚</p><p>  B. è®¾ç½® Amazon Cognito èº«ä»½æ± ã€‚é…ç½® AWS IAM Identity Center (AWS Single Sign-On)ä»¥æ¥å— Amazon Cognito èº«ä»½éªŒè¯ã€‚</p><p>  C. é…ç½®æœåŠ¡æ§åˆ¶ç­–ç•¥ (SCP) æ¥ç®¡ç† AWS è´¦æˆ·ã€‚å°† AWS IAM Identity Centerï¼ˆAWS Single  Sign-Onï¼‰æ·»åŠ åˆ° AWS Directory Serviceã€‚</p><p>  D. åœ¨ AWS Organizations ä¸­åˆ›å»ºä¸€ä¸ªæ–°ç»„ç»‡ã€‚é…ç½®ç»„ç»‡çš„èº«ä»½éªŒè¯æœºåˆ¶ä»¥ç›´æ¥ä½¿ç”¨ AWS Directory Serviceã€‚</p><p>  E. åœ¨ç»„ç»‡ä¸­è®¾ç½® AWS IAM Identity Center (AWS Single Sign-On)ã€‚é…ç½®IAM Identity Centerï¼Œå¹¶å°†å…¶ä¸å…¬å¸çš„ä¼ä¸šç›®å½•æœåŠ¡é›†æˆã€‚</p><p>  æ­£ç¡®ç­”æ¡ˆï¼šAE</p><h2 id="486-A"><a href="#486-A" class="headerlink" title="486-A"></a>486-A</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨ AWS ä¸Šæ„å»ºä¸‰å±‚åº”ç”¨ç¨‹åºã€‚è¡¨ç¤ºå±‚å°†æœåŠ¡äºé™æ€ç½‘ç«™ã€‚é€»è¾‘å±‚æ˜¯å®¹å™¨åŒ–åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºå°†æ•°æ®å­˜å‚¨åœ¨å…³ç³»æ•°æ®åº“ä¸­ã€‚è¯¥å…¬å¸å¸Œæœ›ç®€åŒ–éƒ¨ç½²å¹¶é™ä½è¿è¥æˆæœ¬ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. ä½¿ç”¨ Amazon S3 æ‰˜ç®¡é™æ€å†…å®¹ã€‚å°†ECSä¸AWS Fargate ç»“åˆä½¿ç”¨ä»¥è·å¾—è®¡ç®—èƒ½åŠ›ã€‚ä½¿ç”¨æ‰˜ç®¡ Amazon RDS é›†ç¾¤ä½œä¸ºæ•°æ®åº“ã€‚ </p><ul><li>**<code>Amazon S3 æ‰˜ç®¡é™æ€å†…å®¹**ï¼šAmazon S3 æ˜¯ä¸€ç§é«˜åº¦å¯æ‰©å±•çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œé€‚ç”¨äºæ‰˜ç®¡é™æ€ç½‘ç«™çš„é™æ€å†…å®¹ã€‚è¿™å°†æä¾›å¯é çš„ã€ä½å»¶è¿Ÿçš„å†…å®¹ä¼ é€ã€‚</code></li><li>**<code>ECS ä¸ AWS Fargate**ï¼šæ— éœ€ç®¡ç†åº•å±‚åŸºç¡€è®¾æ–½</code></li></ul><p>  B. ä½¿ç”¨ Amazon CloudFront æ‰˜ç®¡é™æ€å†…å®¹ã€‚å°†ECSä¸ Amazon EC2 ç»“åˆä½¿ç”¨ä»¥è·å¾—è®¡ç®—èƒ½åŠ›ã€‚ä½¿ç”¨æ‰˜ç®¡ Amazon RDS é›†ç¾¤ä½œä¸ºæ•°æ®åº“ã€‚</p><p>  <code>S3 æ›´ç®€å•ã€æˆæœ¬æ•ˆç›Šæ›´é«˜ã€‚</code></p><p>  C. ä½¿ç”¨ Amazon S3 æ‰˜ç®¡é™æ€å†…å®¹ã€‚å°†  EKSä¸AWS Fargate ç»“åˆä½¿ç”¨ä»¥è·å¾—è®¡ç®—èƒ½åŠ›ã€‚ä½¿ç”¨æ‰˜ç®¡ Amazon RDS é›†ç¾¤ä½œä¸ºæ•°æ®åº“ã€‚</p><p>  <code>EKSæ¯”ECSè´µ</code></p><p>  D. ä½¿ç”¨ Amazon EC2 é¢„ç•™å®ä¾‹æ‰˜ç®¡é™æ€å†…å®¹ã€‚å°†EKSä¸ Amazon EC2 ç»“åˆä½¿ç”¨ä»¥è·å¾—è®¡ç®—èƒ½åŠ›ã€‚ä½¿ç”¨æ‰˜ç®¡ Amazon RDS é›†ç¾¤ä½œä¸ºæ•°æ®åº“ã€‚</p><p>  æ­£ç¡®ç­”æ¡ˆï¼šA</p><h2 id="496-BD"><a href="#496-BD" class="headerlink" title="496-BD"></a>496-BD</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨æ¥æ‰˜ç®¡å…¶åº”ç”¨ç¨‹åºã€‚è¯¥å…¬å¸çš„å­˜å‚¨å®¹é‡å³å°†è€—å°½ã€‚è¿™äº›åº”ç”¨ç¨‹åºåŒæ—¶ä½¿ç”¨<strong>å—å­˜å‚¨å’Œ NFS å­˜å‚¨</strong>ã€‚è¯¥å…¬å¸éœ€è¦ä¸€ä¸ªé«˜æ€§èƒ½çš„è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒæœ¬åœ°ç¼“å­˜ï¼Œè€Œæ— éœ€é‡æ–°æ„å»ºç°æœ‰åº”ç”¨ç¨‹åºã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›æ“ä½œç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. å°† Amazon S3 ä½œä¸ºæ–‡ä»¶ç³»ç»Ÿå®‰è£…åˆ°æœ¬åœ°æœåŠ¡å™¨ã€‚<br>  <strong>B. éƒ¨ç½² AWS Storage Gateway fileç½‘å…³æ¥æ›¿æ¢ NFS å­˜å‚¨</strong>ã€‚<br>  C. éƒ¨ç½² AWS Snowball Edge ä»¥å°† NFS æŒ‚è½½é…ç½®åˆ°æœ¬åœ°æœåŠ¡å™¨ã€‚</p><p>  <code>AWS Snowball Edge æ˜¯ä¸€ç§ç”¨äºæ•°æ®è¿ç§»å’Œè¾¹ç¼˜è®¡ç®—çš„è®¾å¤‡</code><br>  <strong>D. éƒ¨ç½² AWS Storage Gateway volumeç½‘å…³æ¥æ›¿æ¢å—å­˜å‚¨ã€‚</strong> </p><p>  E. éƒ¨ç½² Amazon Elastic File System(Amazon EFS) å·å¹¶å°†å…¶æŒ‚è½½åˆ°æœ¬åœ°æœåŠ¡å™¨ã€‚</p><h2 id="498-A"><a href="#498-A" class="headerlink" title="498-A"></a>498-A</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨ Amazon S3 å°†é«˜åˆ†è¾¨ç‡å›¾ç‰‡å­˜å‚¨åœ¨ S3 å­˜å‚¨æ¡¶ä¸­ã€‚ä¸ºäº†æœ€å¤§é™åº¦åœ°å‡å°‘åº”ç”¨ç¨‹åºæ›´æ”¹ï¼Œè¯¥å…¬å¸å°†å›¾ç‰‡å­˜å‚¨ä¸º S3 å¯¹è±¡çš„æœ€æ–°ç‰ˆæœ¬ã€‚è¯¥å…¬å¸åªéœ€ä¿ç•™å›¾ç‰‡çš„ä¸¤ä¸ªæœ€æ–°ç‰ˆæœ¬ã€‚<br>  è¯¥å…¬å¸å¸Œæœ›é™ä½æˆæœ¬ã€‚è¯¥å…¬å¸å·²å°† S3 å­˜å‚¨æ¡¶è§†ä¸ºä¸€é¡¹å·¨é¢å¼€æ”¯ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€é™ä½ S3 æˆæœ¬ï¼Ÿ</p><p>  <strong>A. ä½¿ç”¨ S3 Lifecycle åˆ é™¤è¿‡æœŸçš„å¯¹è±¡ç‰ˆæœ¬å¹¶ä¿ç•™ä¸¤ä¸ªæœ€æ–°ç‰ˆæœ¬ã€‚</strong></p><p>  B. ä½¿ç”¨ AWS Lambdaå‡½æ•°æ£€æŸ¥æ—§ç‰ˆæœ¬å¹¶åˆ é™¤é™¤ä¸¤ä¸ªæœ€æ–°ç‰ˆæœ¬ä¹‹å¤–çš„æ‰€æœ‰ç‰ˆæœ¬ã€‚</p><p>  C. ä½¿ç”¨ S3 æ‰¹é‡æ“ä½œåˆ é™¤éå½“å‰å¯¹è±¡ç‰ˆæœ¬å¹¶ä»…ä¿ç•™ä¸¤ä¸ªæœ€æ–°ç‰ˆæœ¬ã€‚</p><p>  D. åœç”¨ S3 å­˜å‚¨æ¡¶ä¸Šçš„ç‰ˆæœ¬æ§åˆ¶å¹¶ä¿ç•™ä¸¤ä¸ªæœ€æ–°ç‰ˆæœ¬ã€‚</p><h2 id="154-B"><a href="#154-B" class="headerlink" title="154-B"></a>154-B</h2><p>  å…¬å¸éœ€è¦å°†åŒ»å­¦è¯•éªŒçš„ç»“æœä¿å­˜åˆ° Amazon S3 å­˜å‚¨åº“ã€‚å­˜å‚¨åº“å¿…é¡»å…è®¸å°‘æ•°ç§‘å­¦å®¶æ·»åŠ æ–°æ–‡ä»¶ï¼Œå¹¶ä¸”å¿…é¡»é™åˆ¶æ‰€æœ‰å…¶ä»–ç”¨æˆ·çš„åªè¯»è®¿é—®æƒé™ã€‚<strong>ä»»ä½•ç”¨æˆ·éƒ½æ— æ³•ä¿®æ”¹æˆ–åˆ é™¤å­˜å‚¨åº“ä¸­çš„ä»»ä½•æ–‡ä»¶</strong>ã€‚å…¬å¸å¿…é¡»å°†æ¯ä¸ªæ–‡ä»¶åœ¨åˆ›å»ºä¹‹æ—¥èµ·è‡³å°‘ä¿ç•™ 1 å¹´ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. åœ¨æ²»ç†æ¨¡å¼ä¸‹ä½¿ç”¨ S3 å¯¹è±¡é”ï¼Œåˆæ³•æŒæœ‰æœŸä¸º 1 å¹´ã€‚</p><p>  B. åœ¨åˆè§„æ¨¡å¼ä¸‹ä½¿ç”¨ S3 å¯¹è±¡é”ï¼Œä¿ç•™æœŸä¸º 365 å¤©ã€‚</p><p>  **<code>åˆè§„æ¨¡å¼ï¼ˆCompliance Modeï¼‰**ï¼š</code></p><p>  <code>å¯¹è±¡ä¸€æ—¦è¢«é”å®šï¼Œå³ä½¿å…·æœ‰ç®¡ç†æƒé™çš„ç”¨æˆ·ï¼ˆ**åŒ…æ‹¬ root** ç”¨æˆ·ï¼‰ä¹Ÿæ— æ³•åˆ é™¤æˆ–æ›´æ”¹å¯¹è±¡ï¼Œç›´åˆ°é”å®šæœŸç»“æŸã€‚</code></p><p>  C. ä½¿ç”¨ IAM è§’è‰²é™åˆ¶æ‰€æœ‰ç”¨æˆ·åˆ é™¤æˆ–æ›´æ”¹ S3 å­˜å‚¨æ¡¶ä¸­çš„å¯¹è±¡ã€‚ä½¿ç”¨ S3 å­˜å‚¨æ¡¶ç­–ç•¥ä»…<br>  å…è®¸ IAM è§’è‰²ã€‚</p><p>  D. é…ç½® S3 å­˜å‚¨æ¡¶ä»¥åœ¨æ¯æ¬¡æ·»åŠ å¯¹è±¡æ—¶è°ƒç”¨ AWS Lambda å‡½æ•°ã€‚é…ç½®è¯¥å‡½æ•°æ¥è·Ÿè¸ªå·²ä¿<br>  å­˜å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œä»¥ä¾¿å¯ä»¥ç›¸åº”åœ°æ ‡è®°ä¿®æ”¹çš„å¯¹è±¡ã€‚</p><p>  æ­£ç¡®ç­”æ¡ˆï¼šB</p><h2 id="155-C"><a href="#155-C" class="headerlink" title="155-C"></a>155-C</h2><p>  ä¸€å®¶å¤§å‹åª’ä½“å…¬å¸åœ¨ AWS ä¸Šæ‰˜ç®¡ Web åº”ç”¨ç¨‹åºã€‚è¯¥å…¬å¸å¸Œæœ›å¼€å§‹<strong>ç¼“å­˜</strong>æœºå¯†åª’ä½“æ–‡ä»¶ï¼Œä»¥ä¾¿ä¸–ç•Œå„åœ°çš„ç”¨æˆ·èƒ½å¤Ÿå¯é åœ°è®¿é—®è¿™äº›æ–‡ä»¶ã€‚å†…å®¹å­˜å‚¨åœ¨ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚å…¬å¸å¿…é¡»å¿«é€Ÿäº¤ä»˜å†…å®¹ï¼Œæ— è®ºè¯·æ±‚æ¥è‡ªä½•å¤„ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. ä½¿ç”¨ AWS DataSync å°† S3 å­˜å‚¨æ¡¶è¿æ¥åˆ° Web åº”ç”¨ç¨‹åºã€‚</p><p>  B. éƒ¨ç½² AWS Global Accelerator ä»¥å°† S3 å­˜å‚¨æ¡¶è¿æ¥åˆ° Web åº”ç”¨ç¨‹åºã€‚</p><p>  <code>BCéƒ½ä½¿ç”¨**è¾¹ç¼˜ä½ç½®ï¼ˆEdge Locations**</code><br>  C. éƒ¨ç½² Amazon CloudFront ä»¥å°† S3 å­˜å‚¨æ¡¶è¿æ¥åˆ° CloudFront è¾¹ç¼˜æœåŠ¡å™¨ã€‚</p><p>  <code>C, Caching == Edge location == CloudFront</code></p><p>  D. ä½¿ç”¨ Amazon Simple Queue Service (Amazon SQS) å°† S3 å­˜å‚¨æ¡¶è¿æ¥åˆ° Web åº”ç”¨ç¨‹åºã€‚</p><h2 id="157-DE"><a href="#157-DE" class="headerlink" title="157-DE"></a>157-DE</h2><p>  ä¸€å®¶å…¬å¸å°†æ•°æ®å­˜å‚¨åœ¨ Amazon Aurora PostgreSQL æ•°æ®åº“é›†ç¾¤ä¸­ã€‚å…¬å¸å¿…é¡»å°†æ‰€æœ‰æ•°æ®ä¿<br>  å­˜ 5 å¹´ï¼Œå¹¶åœ¨ 5 å¹´ååˆ é™¤æ‰€æœ‰æ•°æ®ã€‚å…¬å¸è¿˜å¿…é¡»æ°¸ä¹…ä¿å­˜åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œçš„æ“ä½œçš„å®¡æ ¸æ—¥<br>  å¿—ã€‚ç›®å‰ï¼Œè¯¥å…¬å¸å·²ä¸º Aurora é…ç½®äº†è‡ªåŠ¨å¤‡ä»½ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›æ­¥éª¤ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. æ‹æ‘„æ•°æ®åº“é›†ç¾¤çš„æ‰‹åŠ¨å¿«ç…§ã€‚</p><p>  <code>æ‰‹åŠ¨å¿«ç…§éœ€è¦æ‰‹åŠ¨ç®¡ç†ï¼Œå¹¶ä¸”åœ¨ 5 å¹´åå¯èƒ½ä¼šå˜å¾—éå¸¸ç¹çä¸”ä¸å¯è¡Œã€‚</code></p><p>  B. ä¸º<strong>è‡ªåŠ¨å¤‡ä»½</strong>åˆ›å»ºç”Ÿå‘½å‘¨æœŸç­–ç•¥ã€‚</p><p>  C. é…ç½®<strong>è‡ªåŠ¨å¤‡ä»½</strong>ä¿ç•™ 5 å¹´ã€‚</p><p>  <code>æœ€é•¿35å¤©</code></p><p>  D. ä¸ºæ•°æ®åº“é›†ç¾¤é…ç½® Amazon CloudWatch Logs å¯¼å‡ºã€‚</p><p>  E. ä½¿ç”¨ AWS Backup è¿›è¡Œå¤‡ä»½å¹¶å°†å¤‡ä»½ä¿ç•™ 5 å¹´ã€‚</p><p>  <code>é…ç½®å¤‡ä»½ç­–ç•¥ä»¥ä¿ç•™å¤‡ä»½è‡³å°‘ 5 å¹´ï¼Œä»¥æ»¡è¶³é•¿æœŸæ•°æ®ä¿ç•™çš„éœ€æ±‚ã€‚</code></p><h2 id="158-A"><a href="#158-A" class="headerlink" title="158-A"></a>158-A</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ­£åœ¨ä¸ºå³å°†ä¸¾è¡Œçš„éŸ³ä¹æ´»åŠ¨ä¼˜åŒ–ç½‘ç«™ã€‚è¡¨æ¼”è§†é¢‘å°†å®æ—¶ä¼ è¾“ï¼Œç„¶åæŒ‰éœ€æä¾›ã€‚è¯¥æ´»åŠ¨é¢„è®¡å°†å¸å¼•å…¨çƒåœ¨çº¿è§‚ä¼—ã€‚</p><p>  å“ªç§æœåŠ¡å¯ä»¥æé«˜å®æ—¶æµåª’ä½“å’Œç‚¹æ’­æµåª’ä½“çš„æ€§èƒ½ï¼Ÿ</p><p>  A. äºšé©¬é€Š CloudFront</p><p>  <code>use CloudFront to deliver video on demand (VOD) or live streaming video using any HTTP origin</code><br>  B.AWS å…¨çƒåŠ é€Ÿå™¨</p><p>  æ›´é€‚åˆéHTTP<br>  C. äºšé©¬é€Š 53 å·å…¬è·¯<br>  D. Amazon S3 ä¼ è¾“åŠ é€Ÿ</p><h2 id="159"><a href="#159" class="headerlink" title="159"></a>159</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨è¿è¡Œä¸€ä¸ªä½¿ç”¨ Amazon API Gateway å’Œ AWS Lambda çš„å¯å…¬å¼€è®¿é—®çš„æ— æœåŠ¡<br>  å™¨åº”ç”¨ç¨‹åºã€‚ç”±äºæ¥è‡ªåƒµå°¸ç½‘ç»œçš„æ¬ºè¯ˆè¯·æ±‚ï¼Œè¯¥åº”ç”¨ç¨‹åºçš„è®¿é—®é‡æœ€è¿‘æ¿€å¢ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”é‡‡å–å“ªäº›æ­¥éª¤æ¥é˜»æ­¢æœªç»æˆæƒç”¨æˆ·çš„è¯·æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  <strong>A. ä½¿ç”¨ä»…ä¸çœŸå®ç”¨æˆ·å…±äº«çš„ API å¯†é’¥åˆ›å»ºä½¿ç”¨è®¡åˆ’ã€‚</strong></p><p>  B. åœ¨ Lambda å‡½æ•°ä¸­é›†æˆé€»è¾‘ä»¥å¿½ç•¥æ¥è‡ªæ¬ºè¯ˆæ€§ IP åœ°å€çš„è¯·æ±‚ã€‚</p><p>  <code>æ¯”è¾ƒç¹ç</code></p><p>  <strong>C. å®æ–½ AWS WAF è§„åˆ™æ¥å®šä½æ¶æ„è¯·æ±‚å¹¶è§¦å‘æ“ä½œä»¥å°†å…¶è¿‡æ»¤æ‰ã€‚</strong></p><p>  D. å°†ç°æœ‰çš„å…¬å…± API è½¬æ¢ä¸ºç§æœ‰ APIã€‚æ›´æ–° DNS è®°å½•ä»¥å°†ç”¨æˆ·é‡å®šå‘åˆ°æ–°çš„ API ç«¯ç‚¹ã€‚</p><p>   E. ä¸ºæ¯ä¸ªå°è¯•è®¿é—® API çš„ç”¨æˆ·åˆ›å»ºä¸€ä¸ª IAM è§’è‰²ã€‚ç”¨æˆ·åœ¨è¿›è¡Œ API è°ƒç”¨æ—¶å°†æ‰¿æ‹…è¯¥è§’è‰²ã€‚</p><p>  æ­£ç¡®ç­”æ¡ˆï¼šA C</p><h2 id="160-C"><a href="#160-C" class="headerlink" title="160-C"></a>160-C</h2><p>  ä¸€å®¶ç”µå­å•†åŠ¡å…¬å¸åœ¨ AWS äº‘ä¸­æ‰˜ç®¡å…¶åˆ†æåº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºæ¯æœˆç”Ÿæˆçº¦ 300 MB çš„æ•°æ®ã€‚æ•°æ®ä»¥ JSON æ ¼å¼å­˜å‚¨ã€‚è¯¥å…¬å¸æ­£åœ¨è¯„ä¼°å¤‡ä»½æ•°æ®çš„<strong>ç¾éš¾æ¢å¤è§£å†³æ–¹æ¡ˆ</strong>ã€‚å¦‚æœéœ€è¦ï¼Œæ•°æ®å¿…é¡»å¯ä»¥åœ¨æ¯«ç§’å†…è®¿é—®ï¼Œå¹¶ä¸”æ•°æ®å¿…é¡»ä¿ç•™ 30 å¤©ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆæœ€ç»æµé«˜æ•ˆåœ°æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. Amazon OpenSearch æœåŠ¡ï¼ˆAmazon Elasticsearch æœåŠ¡ï¼‰</p><p>  <code>é€‚ç”¨äºæœç´¢å’Œåˆ†ææ•°æ®ï¼Œä½†ä¸æ˜¯æœ€ç»æµçš„å­˜å‚¨é€‰æ‹©ï¼Œè€Œä¸”å¯èƒ½è¶…è¿‡éœ€æ±‚ã€‚</code></p><p>  B. äºšé©¬é€Š S3 Glacier</p><p>  <code>é€‚ç”¨äºå­˜æ¡£å’Œé•¿æœŸä¿å­˜æ•°æ®ï¼Œä½†æ•°æ®æ¢å¤å¯èƒ½éœ€è¦æ•°åˆ†é’Ÿåˆ°æ•°å°æ—¶ï¼Œä¸ç¬¦åˆæ¯«ç§’çº§è®¿é—®è¦æ±‚</code></p><p>  C. Amazon S3 æ ‡å‡†</p><p>  <code>JSON is object notation. S3 stores objects</code></p><p>  D. é€‚ç”¨äº PostgreSQL çš„ Amazon RDS</p><p>  <code>å…³ç³»å‹æ•°æ®åº“æœåŠ¡ï¼Œä¸å¤ªé€‚åˆå­˜å‚¨å¤§é‡çš„ JSON æ ¼å¼æ•°æ®ï¼Œ</code></p><h2 id="161-B"><a href="#161-B" class="headerlink" title="161-B"></a>161-B</h2><p>  ä¸€å®¶å…¬å¸æœ‰ä¸€ä¸ªå°å‹ Python åº”ç”¨ç¨‹åºï¼Œç”¨äºå¤„ç† <strong>JSON æ–‡æ¡£</strong>å¹¶å°†ç»“æœè¾“å‡ºåˆ°æœ¬åœ° SQLæ•°æ®åº“ã€‚è¯¥åº”ç”¨ç¨‹åºæ¯å¤©è¿è¡Œæ•°åƒæ¬¡ã€‚è¯¥å…¬å¸å¸Œæœ›å°†åº”ç”¨ç¨‹åºè¿ç§»åˆ° AWS äº‘ã€‚è¯¥å…¬å¸éœ€è¦ä¸€ä¸ªé«˜åº¦å¯ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œæœ€å¤§é™åº¦åœ°æé«˜å¯æ‰©å±•æ€§å¹¶æœ€å¤§é™åº¦åœ°å‡å°‘è¿è¥å¼€é”€ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <code>JSON is object notation. S3 stores objects</code></p><p>  A. å°† JSON æ–‡æ¡£æ”¾å…¥ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚åœ¨å¤šä¸ª Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œ Python ä»£ç ä»¥å¤„ç†æ–‡æ¡£ã€‚å°†ç»“æœå­˜å‚¨åœ¨ Amazon Aurora æ•°æ®åº“é›†ç¾¤ä¸­ã€‚</p><p>  <code>æ¶‰åŠåˆ°è‡ªå·±ç®¡ç† EC2 å®ä¾‹ï¼Œå¹¶éœ€è¦è®¾ç½®è‡ªåŠ¨æ‰©å±•</code></p><p>  B. å°† JSON æ–‡æ¡£æ”¾å…¥ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚åˆ›å»ºä¸€ä¸ª AWS Lambda å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿è¡ŒPython ä»£ç ä»¥åœ¨æ–‡æ¡£åˆ°è¾¾ S3 å­˜å‚¨æ¡¶æ—¶å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚å°†ç»“æœå­˜å‚¨åœ¨ Amazon Aurora æ•°æ®åº“é›†ç¾¤ä¸­ã€‚</p><p>  C. å°† JSON æ–‡æ¡£æ”¾å…¥ Amazon Elastic Block Store (Amazon EBS) å·ä¸­ã€‚ä½¿ç”¨ EBS å¤šé‡é™„åŠ åŠŸèƒ½å°†å·é™„åŠ åˆ°å¤šä¸ª Amazon EC2 å®ä¾‹ã€‚åœ¨ EC2 å®ä¾‹ä¸Šè¿è¡Œ Python ä»£ç æ¥å¤„ç†æ–‡æ¡£ã€‚å°†ç»“æœå­˜å‚¨åœ¨ Amazon RDS æ•°æ®åº“å®ä¾‹ä¸Šã€‚</p><p>  D. å°† JSON æ–‡æ¡£ä½œä¸ºæ¶ˆæ¯æ”¾å…¥ Amazon Simple Queue Service (Amazon SQS) é˜Ÿåˆ—ä¸­ã€‚å°†Python ä»£ç éƒ¨ç½²ä¸ºé…ç½®äº† Amazon EC2 å¯åŠ¨ç±»å‹çš„ Amazon Elastic Container Service(Amazon ECS) é›†ç¾¤ä¸Šçš„å®¹å™¨ã€‚ä½¿ç”¨å®¹å™¨æ¥å¤„ç† SQS æ¶ˆæ¯ã€‚å°†ç»“æœå­˜å‚¨åœ¨ Amazon RDS æ•°<br>  æ®åº“å®ä¾‹ä¸Šã€‚</p><h2 id="165"><a href="#165" class="headerlink" title="165"></a>165</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»è®¾è®¡ä¸€ä¸ªä½¿ç”¨ Amazon CloudFront å’Œ Amazon S3 æºæ¥å­˜å‚¨é™æ€ç½‘ç«™<br>  çš„è§£å†³æ–¹æ¡ˆã€‚è¯¥å…¬å¸çš„å®‰å…¨ç­–ç•¥è¦æ±‚æ‰€æœ‰ç½‘ç«™è·Ÿè¸ªå‡ç”± AWS WAF æ£€æŸ¥ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥å¦‚ä½•æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. é…ç½® S3 å­˜å‚¨æ¡¶ç­–ç•¥ä»¥ä»…æ¥å—æ¥è‡ª AWS WAF Amazon èµ„æºåç§° (ARN) çš„è¯·æ±‚ã€‚<br>  B. é…ç½® Amazon CloudFront ä»¥åœ¨ä» S3 æºè¯·æ±‚å†…å®¹ä¹‹å‰å°†æ‰€æœ‰ä¼ å…¥è¯·æ±‚è½¬å‘åˆ° AWS<br>  WAFã€‚<br>  C. é…ç½®ä¸€ä¸ªå®‰å…¨ç»„ï¼Œä»…å…è®¸ Amazon CloudFront IP åœ°å€è®¿é—® Amazon S3ã€‚å°† AWS WAF<br>  å…³è”åˆ° CloudFrontã€‚<br>  D. é…ç½® Amazon CloudFront å’Œ Amazon S3 ä»¥ä½¿ç”¨æºè®¿é—®èº«ä»½ (OAI) æ¥é™åˆ¶å¯¹ S3 å­˜å‚¨<br>  æ¡¶çš„è®¿é—®ã€‚åœ¨åˆ†é…ä¸Šå¯ç”¨ AWS WAFã€‚<br>  æ­£ç¡®ç­”æ¡ˆï¼šD</p><h2 id="167-D"><a href="#167-D" class="headerlink" title="167-D"></a>167-D</h2><p>  ä¸€å®¶å…¬å¸åœ¨ä¸€ç»„ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œç”Ÿäº§åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºä» Amazon SQS é˜Ÿ<br>  åˆ—è¯»å–æ•°æ®å¹¶<em><strong>å¹¶è¡Œ</strong></em>å¤„ç†æ¶ˆæ¯ã€‚æ¶ˆæ¯é‡æ˜¯ä¸å¯é¢„æµ‹çš„ï¼Œå¹¶ä¸”ç»å¸¸æœ‰é—´æ­‡æ€§çš„è¸ªè¿¹ã€‚</p><p>  <strong>è¯¥åº”ç”¨ç¨‹åºéœ€è¦æŒç»­å¤„ç†æ¶ˆæ¯è€Œä¸ä¼šé€ æˆä»»ä½•åœæœºã€‚</strong></p><p>  <strong>This application should continuallyprocess messages without any downtime.</strong></p><p>  å“ªç§è§£å†³æ–¹æ¡ˆæœ€ç»æµé«˜æ•ˆåœ°æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. ä»…ä½¿ç”¨ Spot å®ä¾‹æ¥å¤„ç†æ‰€éœ€çš„æœ€å¤§å®¹é‡ã€‚<br>  B. ä»…ä½¿ç”¨é¢„ç•™å®ä¾‹æ¥å¤„ç†æ‰€éœ€çš„æœ€å¤§å®¹é‡ã€‚</p><p>  C. ä½¿ç”¨é¢„ç•™å®ä¾‹ä½œä¸ºåŸºå‡†å®¹é‡ï¼Œå¹¶ä½¿ç”¨ Spot å®ä¾‹æ¥å¤„ç†é¢å¤–å®¹é‡ã€‚</p><p>  <code>SPOTé€‚ç”¨äºå¯ä»¥å®¹å¿å®ä¾‹ç»ˆæ­¢çš„å·¥ä½œè´Ÿè½½</code><br>  D. ä½¿ç”¨é¢„ç•™å®ä¾‹ä½œä¸ºåŸºå‡†å®¹é‡ï¼Œå¹¶ä½¿ç”¨æŒ‰éœ€å®ä¾‹æ¥å¤„ç†é¢å¤–å®¹é‡ã€‚</p><h2 id="170-C"><a href="#170-C" class="headerlink" title="170-C"></a>170-C</h2><p>  ä¸€å®¶å…¬å¸çš„ Web åº”ç”¨ç¨‹åºåœ¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨åé¢çš„ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œã€‚è¯¥å…¬å¸æœ€è¿‘æ”¹å˜äº†æ”¿ç­–ï¼Œç°åœ¨è¦æ±‚åªèƒ½ä»ä¸€ä¸ªç‰¹å®šçš„å›½å®¶&#x2F;åœ°åŒºè®¿é—®è¯¥åº”ç”¨ç¨‹åºã€‚<br>  å“ªç§é…ç½®å¯ä»¥æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Ÿ</p><p>  A. é…ç½® EC2 å®ä¾‹çš„å®‰å…¨ç»„ã€‚<br>  B. åœ¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ä¸Šé…ç½®å®‰å…¨ç»„ã€‚</p><p>  <code>ABä»…é™äºæ§åˆ¶æµé‡è¿›å‡ºå®ä¾‹æˆ–è´Ÿè½½å‡è¡¡å™¨ï¼Œè€Œæ— æ³•å®ç°ç‰¹å®šå›½å®¶/åœ°åŒºçš„è®¿é—®æ§åˆ¶ã€‚</code><br>  C. åœ¨ VPC ä¸­çš„ Application Load Balancer ä¸Šé…ç½® AWS WAFã€‚</p><p>  <code>AWS WAFå¯ä»¥ç”¨äºå®ç°Webåº”ç”¨ç¨‹åºçš„è®¿é—®æ§åˆ¶å’Œä¿æŠ¤ï¼ŒåŒ…æ‹¬åŸºäºIPåœ°å€çš„è®¿é—®é™åˆ¶ã€‚</code><br>  D. é…ç½®åŒ…å« EC2 å®ä¾‹çš„å­ç½‘çš„ç½‘ç»œ ACLã€‚</p><p>  <code>å­ç½‘çº§åˆ«çš„æµé‡æ§åˆ¶</code><br>  æ­£ç¡®ç­”æ¡ˆï¼šC</p><h2 id="172-C"><a href="#172-C" class="headerlink" title="172-C"></a>172-C</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆæ­£åœ¨ä¸ºåº”ç”¨ç¨‹åºåˆ›å»ºæ–°çš„ Amazon CloudFront å‘è¡Œç‰ˆã€‚ç”¨æˆ·æäº¤çš„ä¸€äº›ä¿¡æ¯å±äºæ•æ„Ÿä¿¡æ¯ã€‚è¯¥åº”ç”¨ç¨‹åºä½¿ç”¨ HTTPSï¼Œä½†éœ€è¦å¦ä¸€å±‚å®‰å…¨æ€§ã€‚æ•æ„Ÿä¿¡æ¯åº”åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºå †æ ˆä¸­å—åˆ°ä¿æŠ¤ï¼Œå¹¶ä¸”å¯¹ä¿¡æ¯çš„è®¿é—®åº”ä»…é™äºæŸäº›åº”ç”¨ç¨‹åºã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›è¡ŒåŠ¨ï¼Ÿ</p><p>  A. é…ç½® CloudFront ç­¾å URLã€‚<br>  B. é…ç½® CloudFront ç­¾å cookieã€‚</p><p>  <code>é€‰é¡¹Aå’Œé€‰é¡¹Bä¸­çš„CloudFrontç­¾åURLå’Œç­¾åCookieç”¨äºéªŒè¯è¯·æ±‚çš„æ¥æºå’Œå®Œæ•´æ€§ï¼Œä½†å¹¶ä¸æ¶‰åŠå­—æ®µçº§åŠ å¯†æˆ–æ•æ„Ÿä¿¡æ¯çš„ä¿æŠ¤ã€‚</code><br>  C. é…ç½® CloudFront å­—æ®µçº§åŠ å¯†é…ç½®æ–‡ä»¶ã€‚<br>  D. é…ç½® CloudFront å¹¶å°†æŸ¥çœ‹å™¨åè®®ç­–ç•¥çš„æºåè®®ç­–ç•¥è®¾ç½®ä¸ºä»… HTTPSã€‚</p><p>  <code>ä¸ºäº†å¼ºåˆ¶CloudFrontä»…æ¥å—HTTPSè¿æ¥ï¼Œä½†å¹¶ä¸æ¶‰åŠå­—æ®µçº§åŠ å¯†æˆ–æ•æ„Ÿä¿¡æ¯çš„ä¿æŠ¤ã€‚</code><br>  æ­£ç¡®ç­”æ¡ˆï¼šC</p><h2 id="176-A"><a href="#176-A" class="headerlink" title="176-A"></a>176-A</h2><p>  åº”ç”¨ç¨‹åºåœ¨ç§æœ‰å­ç½‘ä¸­çš„ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œã€‚åº”ç”¨ç¨‹åºéœ€è¦è®¿é—® Amazon<br>  DynamoDB è¡¨ã€‚åœ¨ç¡®ä¿ <strong>trac ä¸ä¼šç¦»å¼€ AWS ç½‘ç»œ</strong>çš„åŒæ—¶è®¿é—®è¡¨çš„æœ€å®‰å…¨æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>  A. ä½¿ç”¨ DynamoDB çš„ VPC ç»ˆç«¯èŠ‚ç‚¹ã€‚</p><p>  <code>VPCç»ˆç«¯èŠ‚ç‚¹æ˜¯ä¸€ç§å…è®¸æ‚¨çš„VPCä¸­çš„èµ„æºä¸æ”¯æŒçš„AWSæœåŠ¡ï¼ˆä¾‹å¦‚DynamoDBï¼‰è¿›è¡Œç§æœ‰è¿æ¥çš„æ–¹å¼ã€‚</code><br>  B. åœ¨å…¬å…±å­ç½‘ä¸­ä½¿ç”¨ NAT ç½‘å…³ã€‚</p><p>  <code>NAT gatewayä½¿ç§æœ‰å®ä¾‹è®¿é—®äº’è”ç½‘</code></p><p>  <code>NATå®ä¾‹å’ŒNATç½‘å…³éƒ½åº”è¯¥æ”¾ç½®åœ¨å…¬å…±å­ç½‘</code><br>  C. åœ¨ç§æœ‰å­ç½‘ä¸­ä½¿ç”¨ NAT å®ä¾‹ã€‚<br>  D. ä½¿ç”¨è¿æ¥åˆ° VPC çš„<del>äº’è”ç½‘ç½‘å…³</del>ã€‚</p><h2 id="180-BC"><a href="#180-BC" class="headerlink" title="180-BC"></a>180-BC</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨è®¾è®¡ä¸€ä¸ªç”± API é©±åŠ¨çš„äº‘é€šä¿¡å¹³å°ã€‚è¯¥åº”ç”¨ç¨‹åºæ‰˜ç®¡åœ¨ç½‘ç»œè´Ÿè½½å‡è¡¡å™¨(NLB) åé¢çš„ Amazon EC2 å®ä¾‹ä¸Šã€‚è¯¥å…¬å¸ä½¿ç”¨ Amazon API Gateway ä¸ºå¤–éƒ¨ç”¨æˆ·æä¾›é€šè¿‡ API è®¿é—®åº”ç”¨ç¨‹åºçš„æƒé™ã€‚è¯¥å…¬å¸å¸Œæœ›ä¿æŠ¤å¹³å°å…å— <strong>SQL æ³¨å…¥</strong>ç­‰ Web æ”»å‡»ï¼Œ<strong>è¿˜å¸Œæœ›æ£€æµ‹å’Œç¼“è§£å¤§å‹ã€å¤æ‚çš„DDoS æ”»å‡»ã€‚</strong></p><p>  å“ªç§è§£å†³æ–¹æ¡ˆç»„åˆå¯æä¾›æœ€å¼ºçš„ä¿æŠ¤ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  <strong>AWS WAFæ¥è·¯ç”±å’Œä¿æŠ¤æœåŠ¡ä¸­ä»»åŠ¡ä¸­çš„ HTTP (S) ç¬¬ 7 å±‚æµé‡ã€‚</strong></p><p>  <strong>Shield - Load Balancer, CF, Route53<br>  AWF - CF, ALB, API Gateway</strong></p><p>  A. ä½¿ç”¨ AWS WAF ä¿æŠ¤ NLBã€‚</p><p>  <code>NLBæ˜¯TCP,UDP</code></p><p>  B. å°† AWS Shield Advanced ä¸ NLB ç»“åˆä½¿ç”¨ã€‚</p><p>  C. ä½¿ç”¨ AWS WAF ä¿æŠ¤ Amazon API Gatewayã€‚</p><p>  D. å°† Amazon GuardDuty ä¸ AWS Shield Standard ç»“åˆä½¿ç”¨ </p><p>  E. å°† AWS Shield Standardä¸ Amazon API Gateway ç»“åˆä½¿ç”¨ã€‚</p><h2 id="183-A"><a href="#183-A" class="headerlink" title="183-A"></a>183-A</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨æ„å»ºä¸€ä¸ªæ–°çš„åŠ¨æ€è®¢è´­ç½‘ç«™ã€‚è¯¥å…¬å¸å¸Œæœ›æœ€å¤§é™åº¦åœ°å‡å°‘æœåŠ¡å™¨ç»´æŠ¤å’Œä¿®è¡¥ã€‚ç½‘ç«™å¿…é¡»å…·æœ‰é«˜å¯ç”¨æ€§ï¼Œå¹¶ä¸”å¿…é¡»<strong>å°½å¿«æ‰©å±•è¯»å†™å®¹é‡</strong>ï¼Œä»¥æ»¡è¶³ç”¨æˆ·éœ€æ±‚çš„å˜åŒ–ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. åœ¨ Amazon S3 ä¸­æ‰˜ç®¡é™æ€å†…å®¹ã€‚ä½¿ç”¨ Amazon API Gateway å’Œ AWS Lambda æ‰˜ç®¡åŠ¨<br>  æ€å†…å®¹ã€‚ä½¿ç”¨å…·æœ‰<strong>æŒ‰éœ€</strong>æ•°æ®åº“å®¹é‡çš„ <strong>Amazon DynamoDB</strong>ã€‚é…ç½® Amazon CloudFront ä»¥äº¤<br>  ä»˜ç½‘ç«™å†…å®¹ã€‚</p><p>  B. åœ¨ Amazon S3 ä¸­æ‰˜ç®¡é™æ€å†…å®¹ã€‚ä½¿ç”¨ Amazon API Gateway å’Œ AWS Lambda æ‰˜ç®¡åŠ¨<br>  æ€å†…å®¹ã€‚å°† Amazon Aurora ä¸ Aurora Auto Scaling ç»“åˆä½¿ç”¨ä½œä¸ºæ•°æ®åº“ã€‚é…ç½® Amazon<br>  CloudFront ä»¥äº¤ä»˜ç½‘ç«™å†…å®¹ã€‚</p><p>  <code>Aurora auto scaling scales only read replicas</code></p><p>  <del>C. åœ¨ Amazon EC2 å®ä¾‹ä¸Šæ‰˜ç®¡æ‰€æœ‰ç½‘ç«™å†…å®¹ã€‚åˆ›å»º Auto Scaling ç»„ä»¥æ‰©å±• EC2 å®ä¾‹ã€‚ä½¿<br>  ç”¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨æ¥åˆ†å‘ tracã€‚ä½¿ç”¨å…·æœ‰ä¸ºæ•°æ®åº“é¢„ç½®çš„å†™å…¥å®¹é‡çš„ Amazon<br>  DynamoDBã€‚<br>  D. åœ¨ Amazon EC2 å®ä¾‹ä¸Šæ‰˜ç®¡æ‰€æœ‰ç½‘ç«™å†…å®¹ã€‚åˆ›å»º Auto Scaling ç»„ä»¥æ‰©å±• EC2 å®ä¾‹ã€‚<br>  ä½¿ç”¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨æ¥åˆ†å‘ tracã€‚å°† Amazon Aurora ä¸ Aurora Auto Scaling ç»“åˆä½¿ç”¨<br>  ä½œä¸ºæ•°æ®åº“ã€‚</del></p><h2 id="184-A"><a href="#184-A" class="headerlink" title="184-A"></a>184-A</h2><p>  ä¸€å®¶å…¬å¸æ‹¥æœ‰ä¸€ä¸ªç”¨äºè½¯ä»¶å·¥ç¨‹çš„ AWS è´¦æˆ·ã€‚ AWS è´¦æˆ·å¯ä»¥é€šè¿‡ä¸€å¯¹ AWS Direct<br>  Connect è¿æ¥è®¿é—®å…¬å¸çš„æœ¬åœ°æ•°æ®ä¸­å¿ƒã€‚æ‰€æœ‰é VPC trac éƒ½ä¼šè·¯ç”±åˆ°è™šæ‹Ÿä¸“ç”¨ç½‘å…³ã€‚<br>  ä¸€ä¸ªå¼€å‘å›¢é˜Ÿæœ€è¿‘é€šè¿‡æ§åˆ¶å°åˆ›å»ºäº†ä¸€ä¸ª AWS Lambda å‡½æ•°ã€‚å¼€å‘å›¢é˜Ÿéœ€è¦å…è®¸è¯¥å‡½æ•°è®¿<br>  é—®åœ¨å…¬å¸æ•°æ®ä¸­å¿ƒçš„ç§æœ‰å­ç½‘ä¸­è¿è¡Œçš„æ•°æ®åº“ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  <strong>A. å°† Lambda å‡½æ•°é…ç½®ä¸ºåœ¨å…·æœ‰é€‚å½“å®‰å…¨ç»„çš„ VPC ä¸­è¿è¡Œã€‚</strong><br>  B. è®¾ç½®ä» AWS åˆ°æ•°æ®ä¸­å¿ƒçš„ VPN è¿æ¥ã€‚é€šè¿‡ VPN ä» Lambda å‡½æ•°è·¯ç”± tracã€‚<br>  C. æ›´æ–° VPC ä¸­çš„è·¯ç”±è¡¨ï¼Œä»¥å…è®¸ Lambda å‡½æ•°é€šè¿‡ Direct Connect è®¿é—®æœ¬åœ°æ•°æ®ä¸­å¿ƒã€‚<br>  D. åˆ›å»ºå¼¹æ€§ IP åœ°å€ã€‚é…ç½® Lambda å‡½æ•°ä»¥é€šè¿‡å¼¹æ€§ IP åœ°å€å‘é€ tracï¼Œæ— éœ€å¼¹æ€§ç½‘ç»œæ¥</p><h2 id="185-B"><a href="#185-B" class="headerlink" title="185-B"></a>185-B</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨ Amazon ECS è¿è¡Œåº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºåˆ›å»ºåŸå§‹å›¾åƒçš„è°ƒæ•´å¤§å°ç‰ˆæœ¬ï¼Œç„¶åè¿›è¡Œ Amazon S3 API è°ƒç”¨ä»¥å°†è°ƒæ•´å¤§å°çš„å›¾åƒå­˜å‚¨åœ¨ Amazon S3 ä¸­ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¦‚ä½•ç¡®ä¿åº”ç”¨ç¨‹åºæœ‰æƒè®¿é—® Amazon S3ï¼Ÿ</p><p>  A. æ›´æ–° AWS IAM ä¸­çš„ S3 è§’è‰²ä»¥å…è®¸ä» Amazon ECS è¿›è¡Œè¯»&#x2F;å†™è®¿é—®ï¼Œç„¶åé‡æ–°å¯åŠ¨å®¹å™¨ã€‚<br>  B. åˆ›å»ºå…·æœ‰ S3 æƒé™çš„ IAM è§’è‰²ï¼Œç„¶åå°†è¯¥è§’è‰²æŒ‡å®šä¸ºä»»åŠ¡å®šä¹‰ä¸­çš„ taskRoleArnã€‚</p><p>  <code>é€šè¿‡åˆ›å»ºå…·æœ‰é€‚å½“çš„ Amazon S3 æƒé™çš„ IAM è§’è‰²ï¼Œå¹¶å°†è¯¥è§’è‰²çš„ ARNï¼ˆAmazon Resource Nameï¼‰æŒ‡å®šä¸ºä»»åŠ¡å®šä¹‰çš„ taskRoleArnï¼Œå®¹å™¨å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªè§’è‰²çš„æƒé™æ¥è®¿é—® Amazon S3ã€‚</code><br>  C. åˆ›å»ºä¸€ä¸ªå…è®¸ä» Amazon ECS è®¿é—® Amazon S3 çš„å®‰å…¨ç»„ï¼Œå¹¶æ›´æ–° ECS é›†ç¾¤ä½¿ç”¨çš„å¯åŠ¨é…ç½®ã€‚</p><p>  <code>å®‰å…¨ç»„é€šå¸¸ç”¨äºæ§åˆ¶ç½‘ç»œæµé‡è¿›å‡º EC2 å®ä¾‹ï¼Œè€Œä¸æ˜¯ç”¨æ¥æ§åˆ¶åº”ç”¨ç¨‹åºå¯¹ AWS æœåŠ¡çš„è®¿é—®æƒé™ã€‚</code><br>  D. åˆ›å»ºå…·æœ‰ S3 æƒé™çš„ IAM ç”¨æˆ·ï¼Œç„¶ååœ¨ä»¥æ­¤è´¦æˆ·ç™»å½•æ—¶é‡æ–°å¯åŠ¨ ECS é›†ç¾¤çš„ Amazon EC2 å®ä¾‹ã€‚</p><h2 id="193-B"><a href="#193-B" class="headerlink" title="193-B"></a>193-B</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œæ‰¹å¤„ç†åº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºç”±å…·æœ‰å¤šä¸ª Amazon<br>  RDS æ•°æ®åº“çš„åç«¯ç»„æˆã€‚è¯¥åº”ç”¨ç¨‹åºå¯¼è‡´å¯¹æ•°æ®åº“çš„å¤§é‡è¯»å–ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ<strong>å¿…é¡»å‡å°‘<br>  æ•°æ®åº“è¯»å–æ¬¡æ•°</strong>ï¼ŒåŒæ—¶ç¡®ä¿<strong>é«˜å¯ç”¨æ€§</strong>ã€‚<br>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥åšä»€ä¹ˆæ¥æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Ÿ</p><p>  A. æ·»åŠ  Amazon RDS åªè¯»å‰¯æœ¬ã€‚</p><p>  B. ä½¿ç”¨ Amazon ElastiCache for Redis</p><p>  <code>redis é«˜å¯ç”¨</code></p><p>  <strong>Redis vs Memcached:<br>  The question states high availability which Memcached does not support.<br>  Redis supports Multi-AZ and therefore - ensures high availability.</strong></p><p>  C. ä½¿ç”¨ Amazon Route 53 DNS ç¼“å­˜</p><p>  D. ä½¿ç”¨ Amazon ElastiCache for Memcachedã€‚</p><h2 id="64-D"><a href="#64-D" class="headerlink" title="64-D"></a>64-D</h2><p>  ä¸€å®¶å…¬å¸åœ¨æœ¬åœ°è¿è¡Œçš„ Windows æ–‡ä»¶æœåŠ¡å™¨ä¸Šæ‹¥æœ‰è¶…è¿‡ 5 TB çš„æ–‡ä»¶æ•°æ®ã€‚ç”¨æˆ·å’Œåº”ç”¨ç¨‹åºæ¯å¤©éƒ½ä¸æ•°æ®è¿›è¡Œäº¤äº’ã€‚è¯¥å…¬å¸æ­£åœ¨å°†å…¶ Windows å·¥ä½œè´Ÿè½½è¿ç§»åˆ° AWSã€‚éšç€å…¬å¸ç»§ç»­è¿™ä¸€æµç¨‹ï¼Œå…¬å¸éœ€è¦ä»¥æœ€å°çš„å»¶è¿Ÿ<strong>è®¿é—® AWS å’Œæœ¬åœ°æ–‡ä»¶å­˜å‚¨</strong>ã€‚è¯¥å…¬å¸éœ€è¦ä¸€ç§èƒ½å¤Ÿæœ€å¤§é™åº¦åœ°å‡å°‘è¿è¥å¼€é”€ä¸”æ— éœ€å¯¹ç°æœ‰æ–‡ä»¶è®¿é—®æ¨¡å¼è¿›è¡Œé‡å¤§æ›´æ”¹çš„è§£å†³æ–¹æ¡ˆã€‚</p><p>  è¯¥å…¬å¸ä½¿ç”¨AWS ç«™ç‚¹åˆ°ç«™ç‚¹ VPN è¿æ¥æ¥è¿æ¥åˆ° AWSã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ€æ ·åšæ‰èƒ½æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. åœ¨ AWS ä¸Šéƒ¨ç½²å¹¶é…ç½® Amazon FSx for Windows File Serverã€‚å°†æœ¬åœ°æ–‡ä»¶æ•°æ®ç§»åŠ¨åˆ°FSx for Windows File Serverã€‚é‡æ–°é…ç½®å·¥ä½œè´Ÿè½½ä»¥ä½¿ç”¨ FSx for Windows File Server on AWSã€‚</p><p>  B. åœ¨æœ¬åœ°éƒ¨ç½²å¹¶é…ç½® Amazon S3 æ–‡ä»¶ç½‘å…³ã€‚å°†æœ¬åœ°æ–‡ä»¶æ•°æ®ç§»åŠ¨åˆ° S3 æ–‡ä»¶ç½‘å…³ã€‚é‡æ–°é…ç½®æœ¬åœ°å·¥ä½œè´Ÿè½½å’Œäº‘å·¥ä½œè´Ÿè½½ä»¥ä½¿ç”¨ S3 æ–‡ä»¶ç½‘å…³</p><p>  C. åœ¨æœ¬åœ°éƒ¨ç½²å¹¶é…ç½® Amazon S3 æ–‡ä»¶ç½‘å…³ã€‚å°†æœ¬åœ°æ–‡ä»¶æ•°æ®ç§»åŠ¨åˆ° Amazon S3ã€‚é‡æ–°é…ç½®å·¥ä½œè´Ÿè½½ä»¥ç›´æ¥ä½¿ç”¨ Amazon S3 æˆ– S3 æ–‡ä»¶ç½‘å…³ã€‚å–å†³äºæ¯ä¸ªå·¥ä½œè´Ÿè½½çš„ä½ç½®ã€‚</p><p>  D. åœ¨ AWS ä¸Šéƒ¨ç½²å¹¶é…ç½® Amazon FSx for Windows File Serverã€‚åœ¨æœ¬åœ°éƒ¨ç½²å’Œé…ç½®Amazon FSx æ–‡ä»¶ç½‘å…³ã€‚å°†æœ¬åœ°æ–‡ä»¶æ•°æ®ç§»åŠ¨åˆ° FSx æ–‡ä»¶ç½‘å…³ã€‚é…ç½®äº‘å·¥ä½œè´Ÿè½½ä»¥ä½¿ç”¨FSx for Windows File Server on AWSã€‚é…ç½®æœ¬åœ°å·¥ä½œè´Ÿè½½ä»¥ä½¿ç”¨ FSx æ–‡ä»¶ç½‘å…³</p><h2 id="66-C"><a href="#66-C" class="headerlink" title="66-C"></a>66-C</h2><p>  é—®é¢˜ #66<br>  ä¸€å®¶å…¬å¸çš„åº”ç”¨ç¨‹åºä¼šç”Ÿæˆå¤§é‡æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°çº¦ä¸º 5 MBã€‚è¿™äº›æ–‡ä»¶å­˜å‚¨åœ¨ Amazon<br>  S3 ä¸­ã€‚å…¬å¸æ”¿ç­–è¦æ±‚è¿™äº›æ–‡ä»¶å¿…é¡»ä¿å­˜ 4 å¹´æ‰èƒ½åˆ é™¤ã€‚<strong>å§‹ç»ˆéœ€è¦ç«‹å³å¯è®¿é—®</strong>ï¼Œå› ä¸ºæ–‡ä»¶<br>  åŒ…å«ä¸æ˜“å¤åˆ¶çš„<strong>å…³é”®ä¸šåŠ¡æ•°æ®</strong>ã€‚è¿™äº›æ–‡ä»¶åœ¨å¯¹è±¡åˆ›å»ºçš„å‰ 30 å¤©å†…ç»å¸¸è¢«è®¿é—®ï¼Œä½†åœ¨å‰ 30<br>  å¤©ä¹‹åå¾ˆå°‘è¢«è®¿é—®ã€‚å“ªç§å­˜å‚¨è§£å†³æ–¹æ¡ˆæœ€å…·æˆæœ¬æ•ˆç›Šï¼Ÿ</p><p>  A. åˆ›å»º S3 å­˜å‚¨æ¡¶ç”Ÿå‘½å‘¨æœŸç­–ç•¥ï¼Œä»¥ä¾¿åœ¨å¯¹è±¡åˆ›å»ºå 30 å¤©å°†æ–‡ä»¶ä» S3 Standard ç§»åŠ¨åˆ°S3 Glacierã€‚å¯¹è±¡åˆ›å»º 4 å¹´ååˆ é™¤æ–‡ä»¶ã€‚</p><p>  <code>å¦‚æœä»–ä»¬æ²¡æœ‰æ˜ç¡®æåˆ°ä»–ä»¬æ­£åœ¨ä½¿ç”¨Glacier Instant Retrievalï¼Œæˆ‘ä»¬åº”è¯¥å‡è®¾å†°å·-&gt;éœ€è¦æ›´å¤šçš„æ—¶é—´æ¥æ£€ç´¢ï¼Œå¯èƒ½ä¸ç¬¦åˆè¦æ±‚</code></p><p>  B. åˆ›å»º S3 å­˜å‚¨æ¡¶ç”Ÿå‘½å‘¨æœŸç­–ç•¥ï¼Œä»¥ä¾¿åœ¨å¯¹è±¡åˆ›å»ºå 30 å¤©å°†æ–‡ä»¶ä» S3 Standard ç§»åŠ¨åˆ°<br>  S3 One Zone-Infrequent Access (S3 One Zone-IA)ã€‚å¯¹è±¡åˆ›å»º 4 å¹´ååˆ é™¤æ–‡ä»¶ã€‚</p><p>  <code>one zone-IAä¸é€‚åˆå…³é”®æ€§æ•°æ®</code></p><p>  C. åˆ›å»º S3 å­˜å‚¨æ¡¶ç”Ÿå‘½å‘¨æœŸç­–ç•¥ï¼Œä»¥ä¾¿åœ¨å¯¹è±¡åˆ›å»ºå 30 å¤©å°†æ–‡ä»¶ä» S3 Standard ç§»åŠ¨åˆ°<br>  S3 Standard-Infrequent Access (S3 Standard-IA)ã€‚å¯¹è±¡åˆ›å»º 4 å¹´ååˆ é™¤æ–‡ä»¶ã€‚</p><p>  D. åˆ›å»º S3 å­˜å‚¨æ¡¶ç”Ÿå‘½å‘¨æœŸç­–ç•¥ï¼Œä»¥ä¾¿åœ¨å¯¹è±¡åˆ›å»ºå 30 å¤©å°†æ–‡ä»¶ä» S3 Standard ç§»åŠ¨åˆ°S3 Standard-Infrequent Access (S3 Standard-IA)ã€‚åœ¨å¯¹è±¡<del>åˆ›å»º 4 å¹´åå°†æ–‡ä»¶ç§»è‡³ S3 Glacierã€‚</del><br>  æ­£ç¡®ç­”æ¡ˆï¼šC</p><h2 id="71-B"><a href="#71-B" class="headerlink" title="71-B"></a>71-B</h2><p>  ä¸€å®¶å…¬å¸è¿è¡Œä¸€ä¸ªä½¿ç”¨ Amazon DynamoDB å­˜å‚¨å®¢æˆ·ä¿¡æ¯çš„è´­ç‰©åº”ç”¨ç¨‹åºã€‚åœ¨æ•°æ®æŸåçš„<br>  æƒ…å†µä¸‹ï¼Œè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦è®¾è®¡ä¸€ä¸ªæ»¡è¶³æ¢å¤ç‚¹ç›®æ ‡ï¼ˆRPOï¼‰ä¸º 15 åˆ†é’Ÿå’Œæ¢å¤æ—¶é—´ç›®æ ‡<br>  ï¼ˆRTOï¼‰ä¸º 1 å°æ—¶çš„è§£å†³æ–¹æ¡ˆã€‚ä¸ºäº†æ»¡è¶³è¿™äº›éœ€æ±‚ï¼Œè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ¨èä»€ä¹ˆï¼Ÿ</p><p>  A.èšé›† DynamoDB å…¨å±€è¡¨ã€‚å¯¹äº RPO æ¢å¤ï¼Œè¯·å°†åº”ç”¨ç¨‹åºæŒ‡å‘ä¸åŒçš„ AWS åŒºåŸŸã€‚</p><p>  <code>å°†åº”ç”¨ç¨‹åºæŒ‡å‘ä¸åŒçš„ AWS åŒºåŸŸå¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œå› ä¸ºæ•°æ®åŒæ­¥å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚</code></p><p>  <strong>B.æ‹¥å¡åŠ¨æ€æ•°æ®åº“point-in-time recoverã€‚å¯¹äº RPO æ¢å¤ï¼Œè¯·è¿˜åŸåˆ°æ‰€éœ€çš„æ—¶é—´ç‚¹ã€‚</strong></p><p>  C.å‡ºå£æ¯å¤©å°† DynamoDB æ•°æ®ä¼ è¾“åˆ° Amazon S3 Glacierã€‚å¯¹äº RPO æ¢å¤ï¼Œè¯·å°†æ•°æ®ä»S3 Glacier å¯¼å…¥åˆ° DynamoDBã€‚</p><p>  <code>ä½†åœ¨ RPO æ¢å¤æ—¶ï¼Œéœ€è¦å°†æ•°æ®ä» S3 Glacier æ¢å¤å¹¶å¯¼å…¥ DynamoDBï¼Œå¯èƒ½ä¼šèŠ±è´¹è¾ƒé•¿æ—¶é—´ã€‚</code></p><p>  D.è®¡åˆ’æ¯ 15 åˆ†é’Ÿä¸º DynamoDB è¡¨åˆ›å»ºä¸€æ¬¡ Amazon EBS å¿«ç…§ã€‚å¯¹äº RPO æ¢å¤ï¼Œå¯ä»¥ä½¿ç”¨EBS å¿«ç…§æ¢å¤ DynamoDB è¡¨ã€‚<br>  <code>DynamoDBæ˜¯æ— æœåŠ¡å™¨çš„â€¦DynamoDB å¹¶ä¸æ”¯æŒ EBS å¿«ç…§</code></p><h2 id="73-CD"><a href="#73-CD" class="headerlink" title="73-CD"></a>73-CD</h2><p>  ä¸€å®¶å…¬å¸æœ€è¿‘åœ¨ç§æœ‰å­ç½‘ä¸­çš„ Amazon EC2 ä¸Šå¯åŠ¨äº†åŸºäº Linux çš„åº”ç”¨ç¨‹åºå®ä¾‹ï¼Œå¹¶åœ¨<br>  VPC çš„å…¬æœ‰å­ç½‘ä¸­çš„ Amazon EC2 å®ä¾‹ä¸Šå¯åŠ¨äº†åŸºäº Linux çš„å ¡å’ä¸»æœºã€‚è§£å†³æ–¹æ¡ˆæ¶æ„<br>  å¸ˆéœ€è¦é€šè¿‡å…¬å¸çš„ Internet è¿æ¥ä»æœ¬åœ°ç½‘ç»œè¿æ¥åˆ°å ¡å’ä¸»æœºå’Œåº”ç”¨ç¨‹åºæœåŠ¡å™¨ã€‚è§£å†³æ–¹æ¡ˆ<br>  æ¶æ„å¸ˆå¿…é¡»ç¡®ä¿æ‰€æœ‰ EC2 å®ä¾‹çš„å®‰å…¨ç»„éƒ½å…è®¸è¯¥è®¿é—®ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥é‡‡å–å“ªäº›æ­¥éª¤<br>  ç»„åˆæ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. å°†å ¡å’ä¸»æœºçš„å½“å‰å®‰å…¨ç»„æ›¿æ¢ä¸ºä»…å…è®¸æ¥è‡ªåº”ç”¨ç¨‹åºå®ä¾‹çš„å…¥ç«™è®¿é—®çš„å®‰å…¨ç»„ã€‚<br>  B. å°†å ¡å’ä¸»æœºå½“å‰çš„å®‰å…¨ç»„æ›¿æ¢ä¸ºä»…å…è®¸æ¥è‡ªå…¬å¸å†…éƒ¨ IP èŒƒå›´çš„å…¥ç«™è®¿é—®çš„å®‰å…¨ç»„ã€‚<br>  C. å°†å ¡å’ä¸»æœºå½“å‰çš„å®‰å…¨ç»„æ›¿æ¢ä¸ºä»…å…è®¸æ¥è‡ªå…¬å¸<strong>å¤–éƒ¨ IP èŒƒå›´</strong>çš„å…¥ç«™è®¿é—®çš„å®‰å…¨ç»„ã€‚</p><p>  <code>ä»æœ¬åœ°ç½‘ç»œåˆ°å ¡å’é€šè¿‡äº’è”ç½‘(ä½¿ç”¨æœ¬åœ°èµ„æºçš„å…¬å…±IP)</code><br>  D. å°†åº”ç”¨ç¨‹åºå®ä¾‹çš„å½“å‰å®‰å…¨ç»„æ›¿æ¢ä¸ºä»…å…è®¸æ¥è‡ªå ¡å’ä¸»æœºçš„ç§æœ‰ IP åœ°å€çš„å…¥ç«™ SSHè®¿é—®çš„å®‰å…¨ç»„ã€‚ </p><p>  <code>å ¡å’å’Œec2åœ¨åŒä¸€ä¸ªVPCä¸­ï¼Œè¿™æ„å‘³ç€å ¡å’å¯ä»¥é€šè¿‡å®ƒçš„ç§æœ‰IPåœ°å€ä¸ec2é€šä¿¡</code></p><p>  E. å°†åº”ç”¨ç¨‹åºå®ä¾‹çš„å½“å‰å®‰å…¨ç»„æ›¿æ¢ä¸ºä»…å…è®¸ä»å ¡å’ä¸»æœºçš„å…¬å…± IP åœ°å€è¿›è¡Œå…¥ç«™ SSH è®¿é—®çš„å®‰å…¨ç»„ã€‚</p><h2 id="87"><a href="#87" class="headerlink" title="87"></a>87</h2><p>  ä¸€å®¶å…¬å¸åœ¨ç”± Amazon API Gateway API è°ƒç”¨çš„ AWS Lambda å‡½æ•°ä¸Šæ‰˜ç®¡åº”ç”¨ç¨‹åºã€‚Lambda å‡½æ•°å°†å®¢æˆ·æ•°æ®ä¿å­˜åˆ° Amazon Aurora MySQL æ•°æ®åº“ã€‚<em><em>æ¯å½“å…¬å¸å‡çº§æ•°æ®åº“æ—¶ï¼ŒLambda å‡½æ•°éƒ½æ— æ³•å»ºç«‹æ•°æ®åº“è¿æ¥ï¼Œç›´åˆ°å‡çº§å®Œæˆã€‚<strong>ç»“æœæ˜¯æŸäº›äº‹ä»¶çš„å®¢æˆ·æ•°æ®æ²¡æœ‰è¢«è®°å½•ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦è®¾è®¡ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ¥</strong></em>å­˜å‚¨æ•°æ®åº“å‡çº§æœŸé—´åˆ›å»ºçš„å®¢æˆ·æ•°æ®</em>**ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. é…ç½® Amazon RDS ä»£ç†ä»¥ä½äº Lambda å‡½æ•°å’Œæ•°æ®åº“ä¹‹é—´ã€‚é…ç½® Lambda å‡½æ•°ä»¥è¿æ¥åˆ° RDS ä»£ç†ã€‚</p><p>  **<code>å¯ä»¥å¤„ç†ä¸æ•°æ®åº“çš„è¿æ¥å’Œè¯·æ±‚**ï¼Œä»è€Œå‡è½»æ•°æ®åº“çš„è´Ÿæ‹…ã€‚</code></p><p>  <code>å¯ä»¥è§£å†³æ•°æ®åº“å‡çº§æœŸé—´çš„è¿æ¥é—®é¢˜ï¼Œä½†ä¸ç›´æ¥è§£å†³å­˜å‚¨å‡çº§æœŸé—´åˆ›å»ºçš„å®¢æˆ·æ•°æ®çš„éœ€æ±‚ã€‚</code><br>  B. å°† Lambda å‡½æ•°çš„è¿è¡Œæ—¶é—´å¢åŠ åˆ°æœ€å¤§å€¼ã€‚åœ¨å°†å®¢æˆ·æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä»£ç ä¸­åˆ›å»ºé‡è¯•æœºåˆ¶ã€‚<br>  é€‰é¡¹ C: å°†å®¢æˆ·æ•°æ®æŒä¹…åŒ–åˆ° Lambda æœ¬åœ°å­˜å‚¨ã€‚é…ç½®æ–°çš„ Lambda å‡½æ•°æ‰«ææœ¬åœ°å­˜å‚¨ä»¥å°†å®¢æˆ·æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“ã€‚</p><p>  <code>Lambda å‡½æ•°çš„æœ¬åœ°å­˜å‚¨æ˜¯ä¸´æ—¶çš„ï¼Œ</code></p><p>  D. å°†å®¢æˆ·æ•°æ®å­˜å‚¨åœ¨ Amazon Simple Queue Service (Amazon SQS) FIFO é˜Ÿåˆ—ä¸­ã€‚åˆ›å»ºä¸€ä¸ªæ–°çš„ Lambda å‡½æ•°æ¥è½®è¯¢é˜Ÿåˆ—å¹¶å°†å®¢æˆ·æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ã€‚</p><h2 id="93-B"><a href="#93-B" class="headerlink" title="93-B"></a>93-B</h2><p>  ä¸€å®¶å…¬å¸è¿è¡Œç”± MySQL æ•°æ®åº“æä¾›æ”¯æŒçš„æœ¬åœ°åº”ç”¨ç¨‹åºã€‚è¯¥å…¬å¸æ­£åœ¨å°†åº”ç”¨ç¨‹åºè¿ç§»åˆ°<br>  AWSï¼Œä»¥æé«˜åº”ç”¨ç¨‹åºçš„å¼¹æ€§å’Œå¯ç”¨æ€§ã€‚å½“å‰çš„ä½“ç³»ç»“æ„åœ¨æ­£å¸¸æ“ä½œæœŸé—´æ˜¾ç¤ºæ•°æ®åº“ä¸Šçš„<br>  å¤§é‡è¯»å–æ´»åŠ¨ã€‚æ¯ 4 å°æ—¶ï¼Œå…¬å¸çš„å¼€å‘å›¢é˜Ÿå°±ä¼šå®Œæ•´å¯¼å‡ºç”Ÿäº§æ•°æ®åº“ï¼Œä»¥å¡«å……ä¸´æ—¶ç¯å¢ƒä¸­<br>  çš„æ•°æ®åº“ã€‚åœ¨æ­¤æœŸé—´ï¼Œç”¨æˆ·ä¼šé‡åˆ°ä¸å¯æ¥å—çš„åº”ç”¨ç¨‹åºå»¶è¿Ÿã€‚åœ¨è¯¥è¿‡ç¨‹å®Œæˆä¹‹å‰ï¼Œå¼€å‘å›¢<br>  é˜Ÿæ— æ³•ä½¿ç”¨æš‚å­˜ç¯å¢ƒã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»æ¨èå¯ç¼“è§£åº”ç”¨ç¨‹åºå»¶è¿Ÿé—®é¢˜çš„æ›¿ä»£æ¶æ„ã€‚æ›¿<br>  æ¢æ¶æ„è¿˜å¿…é¡»ä½¿å¼€å‘å›¢é˜Ÿèƒ½å¤Ÿç«‹å³ç»§ç»­ä½¿ç”¨ç™»å°ç¯å¢ƒã€‚å“ªç§è§£å†³æ–¹æ¡ˆæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿã€</p><p>  A. å°† Amazon Aurora MySQL ä¸å¤šå¯ç”¨åŒº Aurora å‰¯æœ¬ç»“åˆä½¿ç”¨è¿›è¡Œç”Ÿäº§ã€‚é€šè¿‡å®æ–½ä½¿ç”¨<br>  <em><strong>mysqldump</strong></em> å®ç”¨ç¨‹åºçš„å¤‡ä»½å’Œæ¢å¤è¿‡ç¨‹æ¥å¡«å……ä¸´æ—¶æ•°æ®åº“ã€‚</p><p>  <code>æ¶‰åŠmysqldumpå®ç”¨ç¨‹åºæ¥å¤‡ä»½å’Œæ¢å¤æ•°æ®ï¼Œè¿™å¯èƒ½ä¼šåœ¨æ•°æ®åº“å¾ˆå¤§çš„æƒ…å†µä¸‹å¯¼è‡´è¾ƒé•¿çš„æ¢å¤æ—¶é—´ã€‚</code></p><p>  B. ä½¿ç”¨ Amazon Aurora MySQL å’Œå¤šå¯ç”¨åŒº Aurora å‰¯æœ¬è¿›è¡Œç”Ÿäº§ã€‚ä½¿ç”¨<strong>æ•°æ®åº“å…‹éš†</strong>æŒ‰éœ€<br>  åˆ›å»ºä¸´æ—¶æ•°æ®åº“ã€‚</p><p>  <code>ä½¿ç”¨äº†æ•°æ®åº“å…‹éš†ï¼Œå¯ä»¥åœ¨éœ€è¦æ—¶å¿«é€Ÿåˆ›å»ºä¸´æ—¶æ•°æ®åº“ï¼Œè€Œä¸éœ€è¦é•¿æ—¶é—´çš„æ¢å¤è¿‡ç¨‹</code>ã€‚</p><p>  C. ä½¿ç”¨ Amazon RDS for MySQL è¿›è¡Œå¤šå¯ç”¨åŒºéƒ¨ç½²å’Œç”Ÿäº§åªè¯»å‰¯æœ¬ã€‚ä½¿ç”¨å¤‡ç”¨å®ä¾‹ä½œä¸º<br>  ä¸´æ—¶æ•°æ®åº“ã€‚</p><p>  D. ä½¿ç”¨ Amazon RDS for MySQL è¿›è¡Œå¤šå¯ç”¨åŒºéƒ¨ç½²å’Œç”Ÿäº§åªè¯»å‰¯æœ¬ã€‚é€šè¿‡å®æ–½ä½¿ç”¨<br>  mysqldump å®ç”¨ç¨‹åºçš„å¤‡ä»½å’Œæ¢å¤è¿‡ç¨‹æ¥å¡«å……ä¸´æ—¶æ•°æ®åº“ã€‚</p><p>  <code>æ¶‰åŠmysqldumpå®ç”¨ç¨‹åºæ¥å¤‡ä»½å’Œæ¢å¤æ•°æ®ï¼Œè¿™å¯èƒ½ä¼šåœ¨æ•°æ®åº“å¾ˆå¤§çš„æƒ…å†µä¸‹å¯¼è‡´è¾ƒé•¿çš„æ¢å¤æ—¶é—´ã€‚</code><br>  æ­£ç¡®ç­”æ¡ˆï¼šB</p><h2 id="94-C"><a href="#94-C" class="headerlink" title="94-C"></a>94-C</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨è®¾è®¡ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥å°†<strong>å°æ–‡ä»¶</strong>ä¸Šä¼ åˆ° Amazon S3ã€‚ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶åï¼Œ<br>  éœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œä¸€æ¬¡æ€§ç®€å•å¤„ç†ï¼Œå°†æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå¹¶å°†æ•°æ®ä¿å­˜ä¸º JSON æ ¼å¼ä»¥ä¾›åç»­<br>  åˆ†æã€‚æ¯ä¸ªæ–‡ä»¶ä¸Šä¼ åå¿…é¡»å°½å¿«è¿›è¡Œå¤„ç†ã€‚éœ€æ±‚ä¼šæœ‰æ‰€ä¸åŒã€‚æœ‰æ—¶ï¼Œç”¨æˆ·ä¼šä¸Šä¼ å¤§é‡æ–‡ä»¶ã€‚<br>  åœ¨å…¶ä»–æ—¥å­é‡Œï¼Œç”¨æˆ·ä¼šä¸Šä¼ ä¸€äº›æ–‡ä»¶æˆ–ä¸ä¸Šä¼ æ–‡ä»¶ã€‚å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€<br>  æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <strong>JSON æ–‡ä»¶é€‚åˆå­˜å‚¨åœ¨ä¸€äº›ç°ä»£çš„NoSQLæ•°æ®åº“, S3ã€key-valueã€‘</strong></p><p>  A. é…ç½® Amazon EMR ä»¥ä» Amazon S3 è¯»å–æ–‡æœ¬æ–‡ä»¶ã€‚è¿è¡Œå¤„ç†è„šæœ¬æ¥è½¬æ¢æ•°æ®ã€‚å°†ç”Ÿ<br>  æˆçš„ JSON æ–‡ä»¶å­˜å‚¨åœ¨ Amazon Aurora æ•°æ®åº“é›†ç¾¤ä¸­ã€‚</p><p>  <code>EMRæ¥å¤„ç†æ•°æ®ï¼Œä½†å¯èƒ½è¿‡äºå¤æ‚å’Œæ˜‚è´µï¼Œå°¤å…¶æ˜¯é’ˆå¯¹ç®€å•çš„æ•°æ®è½¬æ¢ä»»åŠ¡ã€‚</code></p><p>  B. é…ç½® Amazon S3 ä»¥å°†äº‹ä»¶é€šçŸ¥å‘é€åˆ° Amazon Simple Queue Service (Amazon SQS) é˜Ÿ<br>  åˆ—ã€‚ä½¿ç”¨ Amazon <strong>EC2 å®ä¾‹</strong>ä»é˜Ÿåˆ—ä¸­è¯»å–å¹¶å¤„ç†æ•°æ®ã€‚å°†ç”Ÿæˆçš„ JSON æ–‡ä»¶å­˜å‚¨åœ¨<br>  Amazon DynamoDB ä¸­ã€‚</p><p>  <code>EC2å®ä¾‹éœ€è¦ç®¡ç†</code></p><p>  C. é…ç½® Amazon S3 ä»¥å°†äº‹ä»¶é€šçŸ¥å‘é€åˆ° Amazon Simple Queue Service (Amazon SQS) é˜Ÿ<br>  åˆ—ã€‚ä½¿ç”¨ AWS Lambda å‡½æ•°ä»é˜Ÿåˆ—ä¸­è¯»å–å¹¶å¤„ç†æ•°æ®ã€‚å°†ç”Ÿæˆçš„ JSON æ–‡ä»¶å­˜å‚¨åœ¨<br>  Amazon DynamoDB ä¸­ã€‚</p><p>  D. é…ç½® Amazon EventBridge (Amazon CloudWatch Events) ä»¥åœ¨ä¸Šä¼ æ–°æ–‡ä»¶æ—¶å°†äº‹ä»¶å‘é€åˆ°<br>  Amazon Kinesis Data Streamsã€‚ä½¿ç”¨ AWS Lambda å‡½æ•°ä½¿ç”¨æµä¸­çš„äº‹ä»¶å¹¶å¤„ç†æ•°æ®ã€‚å°†ç”Ÿ<br>  æˆçš„ JSON æ–‡ä»¶å­˜å‚¨åœ¨ Amazon Aurora æ•°æ®åº“é›†ç¾¤ä¸­ã€‚</p><p>  <code>ä¸å¿…è¦çš„å¤æ‚ï¼Œå­˜å‚¨åœ¨Auroraä¸­ä¸é€‚åˆ</code><br>  æ­£ç¡®ç­”æ¡ˆï¼šC</p><h2 id="107-B"><a href="#107-B" class="headerlink" title="107-B"></a>107-B</h2><p>  ä¸€å®¶è‡ªè¡Œè½¦å…±äº«å…¬å¸æ­£åœ¨å¼€å‘ä¸€ç§å¤šå±‚æ¶æ„ï¼Œä»¥åœ¨é«˜å³°è¿è¥æ—¶é—´è·Ÿè¸ªå…¶è‡ªè¡Œè½¦çš„ä½ç½®ã€‚è¯¥<br>  å…¬å¸å¸Œæœ›<strong>åœ¨å…¶ç°æœ‰çš„åˆ†æå¹³å°ä¸­ä½¿ç”¨è¿™äº›æ•°æ®ç‚¹</strong>ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»ç¡®å®šæœ€å¯è¡Œçš„å¤šå±‚<br>  é€‰é¡¹æ¥æ”¯æŒè¯¥æ¶æ„ã€‚æ•°æ®ç‚¹å¿…é¡»å¯ä» REST API è®¿é—®ã€‚å“ªç§æ“ä½œæ»¡è¶³å­˜å‚¨å’Œæ£€ç´¢ä½ç½®æ•°æ®<br>  çš„è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. å°† Amazon Athena ä¸ Amazon S3 ç»“åˆä½¿ç”¨ã€‚</p><p>  <strong>B.</strong> å°† Amazon API Gateway ä¸ AWS Lambda ç»“åˆä½¿ç”¨</p><ul><li>**<code>Amazon API Gatewayï¼š** å®ƒä½œä¸º REST API è¯·æ±‚çš„å…¥å£ç‚¹ï¼Œå…è®¸æ‚¨åˆ›å»ºå’Œç®¡ç†å¯ä»¥ä¸å„ç§åç«¯æœåŠ¡é›†æˆçš„ APIã€‚å®ƒä¸ºå®¢æˆ·ç«¯æä¾›ä¸ä¹‹äº¤äº’çš„ RESTful æ¥å£ã€‚</code></li><li>**<code>AWS Lambdaï¼š** å¯ä»¥ç”¨æ¥å®ç°å­˜å‚¨å’Œæ£€ç´¢ä½ç½®æ•°æ®çš„åç«¯é€»è¾‘ã€‚å½“ä» API Gateway æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œå¯ä»¥è°ƒç”¨ Lambda æ¥å¤„ç†è¯·æ±‚ï¼Œå¤„ç†æ•°æ®ï¼Œå¹¶ä¸æ•°æ®å­˜å‚¨ï¼ˆå¦‚æ•°æ®åº“æˆ–Amazon S3ï¼‰äº¤äº’ã€‚</code></li></ul><p>  C. å°† Amazon QuickSight ä¸ Amazon Redshift ç»“åˆä½¿ç”¨ã€‚</p><p>  <strong>D.</strong> å°† Amazon API Gateway ä¸ Amazon Kinesis Data Analytics ç»“åˆä½¿ç”¨ã€‚</p><h2 id="109-D"><a href="#109-D" class="headerlink" title="109-D"></a>109-D</h2><p>  å…¬å¸éœ€è¦å°†æ•°æ®å­˜å‚¨åœ¨ Amazon S3 ä¸­ï¼Œå¹¶ä¸”å¿…é¡»é˜²æ­¢æ•°æ®è¢«æ›´æ”¹ã€‚è¯¥å…¬å¸å¸Œæœ›ä¸Šä¼ åˆ°<br>  Amazon S3 çš„æ–°å¯¹è±¡åœ¨ä¸€æ®µéç‰¹å®šæ—¶é—´å†…ä¿æŒä¸å˜ï¼Œç›´åˆ°å…¬å¸å†³å®šä¿®æ”¹è¿™äº›å¯¹è±¡ã€‚åªæœ‰å…¬<br>  å¸ AWS è´¦æˆ·ä¸­çš„ç‰¹å®šç”¨æˆ·æ‰å¯ä»¥åˆ é™¤å¯¹è±¡ã€‚ 10 è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ€æ ·åšæ‰èƒ½æ»¡è¶³è¿™<br>  äº›è¦æ±‚ï¼Ÿ</p><p>  <del>A. åˆ›å»º S3 Glacier æ–‡ä»¶åº“</del>ã€‚å¯¹å¯¹è±¡åº”ç”¨ä¸€æ¬¡å†™å…¥å¤šæ¬¡è¯»å– (WORM) ä¿ç®¡åº“é”å®šç­–ç•¥ã€‚</p><p>  B. åˆ›å»ºå¯ç”¨äº† S3 å¯¹è±¡é”å®šçš„ S3 å­˜å‚¨æ¡¶ã€‚å¯ç”¨ç‰ˆæœ¬æ§åˆ¶ã€‚<del>è®¾ç½®ä¿ç•™æœŸé™ä¸º 100 å¹´</del>ã€‚ä½¿ç”¨<strong>æ²»ç†æ¨¡å¼</strong>ä½œä¸º S3 å­˜å‚¨æ¡¶æ–°å¯¹è±¡çš„é»˜è®¤ä¿ç•™æ¨¡å¼ã€‚ </p><p>  C. åˆ›å»º S3 å­˜å‚¨æ¡¶ã€‚ä½¿ç”¨ AWSCloudTrail è·Ÿè¸ªä¿®æ”¹å¯¹è±¡çš„ä»»ä½• S3 API äº‹ä»¶ã€‚æ”¶åˆ°é€šçŸ¥åï¼Œä»å…¬å¸æ‹¥æœ‰çš„ä»»ä½•å¤‡ä»½ç‰ˆæœ¬ä¸­æ¢å¤ä¿®æ”¹çš„å¯¹è±¡ã€‚ </p><p>  D. åˆ›å»ºå¯ç”¨äº† S3 å¯¹è±¡é”å®šçš„ S3 å­˜å‚¨æ¡¶ã€‚å¯ç”¨ç‰ˆæœ¬æ§åˆ¶ã€‚ä¸ºå¯¹è±¡æ·»åŠ åˆæ³•ä¿ç•™ã€‚å°†s3:PutObjectLegalHold æƒé™æ·»åŠ åˆ°éœ€è¦åˆ é™¤å¯¹è±¡çš„ç”¨æˆ·çš„ IAM ç­–ç•¥ä¸­ã€‚<br>  ä½¿ç”¨å¯¹è±¡é”ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨å¯¹è±¡ç‰ˆæœ¬ä¸Šæ”¾ç½®<strong>legal holdåˆæ³•çš„ä¿ç•™</strong>ã€‚ä¸ä¿ç•™æœŸä¸€æ ·ï¼Œåˆæ³•ä¿ç•™å¯ä»¥é˜²æ­¢å¯¹è±¡ç‰ˆæœ¬è¢«è¦†ç›–æˆ–åˆ é™¤ã€‚ç„¶è€Œï¼Œåˆæ³•æŒæœ‰å¹¶æ²¡æœ‰ç›¸åº”çš„ä¿ç•™æœŸé™ï¼Œåœ¨è§£é™¤ä¹‹å‰ä¸€ç›´æœ‰æ•ˆ</p><h2 id="116-AD"><a href="#116-AD" class="headerlink" title="116-AD"></a>116-AD</h2><p>  ä¸€å®¶å…¬å¸ä¸ºå…¶å…¬å¸ç½‘ç«™ä½¿ç”¨æµè¡Œçš„å†…å®¹ç®¡ç†ç³»ç»Ÿ (CMS)ã€‚ç„¶è€Œï¼Œ**æ‰€éœ€çš„ä¿®è¡¥å’Œç»´æŠ¤æ˜¯ç¹é‡<br>  çš„ã€‚**è¯¥å…¬å¸æ­£åœ¨é‡æ–°è®¾è®¡å…¶ç½‘ç«™å¹¶éœ€è¦æ–°çš„è§£å†³æ–¹æ¡ˆã€‚è¯¥ç½‘ç«™æ¯å¹´æ›´æ–°å››æ¬¡ï¼Œ<strong>ä¸éœ€è¦æä¾›<br>  ä»»ä½•åŠ¨æ€å†…å®¹</strong>ã€‚è¯¥è§£å†³æ–¹æ¡ˆå¿…é¡»æä¾›é«˜å¯æ‰©å±•æ€§å’Œå¢å¼ºçš„å®‰å…¨æ€§ã€‚å“ªç§å˜æ›´ç»„åˆèƒ½å¤Ÿä»¥æœ€<br>  å°‘çš„è¿è¥å¼€é”€æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰</p><p>  A. åœ¨ç½‘ç«™å‰é¢é…ç½® Amazon CloudFront ä»¥ä½¿ç”¨ HTTPS åŠŸèƒ½ã€‚</p><p>  B. åœ¨ç½‘ç«™å‰é¢éƒ¨ç½² AWS <del>WAF Web ACL</del> ä»¥æä¾› HTTPS åŠŸèƒ½ã€‚</p><p>  C. åˆ›å»ºå¹¶éƒ¨ç½² AWS Lambda å‡½æ•°æ¥<strong>ç®¡ç†</strong>å’Œæä¾›ç½‘ç«™å†…å®¹ã€‚</p><p>  D. åˆ›å»ºæ–°ç½‘ç«™å’Œ Amazon S3 å­˜å‚¨æ¡¶ã€‚åœ¨å¯ç”¨é™æ€ç½‘ç«™æ‰˜ç®¡çš„ S3 å­˜å‚¨æ¡¶ä¸Šéƒ¨ç½²ç½‘ç«™ã€‚</p><p>  E.åˆ›å»ºæ–°ç½‘ç«™ã€‚ä½¿ç”¨ Application Load Balancer åé¢çš„ <del>Amazon EC2 å®ä¾‹</del> Auto Scaling ç»„éƒ¨<br>  ç½²ç½‘ç«™ã€‚</p><h2 id="119-B"><a href="#119-B" class="headerlink" title="119-B"></a>119-B</h2><p>  ä¸€å®¶è·¨å›½å…¬å¸æ­£åœ¨ä½¿ç”¨ Amazon API Gateway ä¸ºå…¶ä½äº us-east-1 åŒºåŸŸå’Œ ap-southeast-2 åŒº<br>  åŸŸçš„å¿ è¯šä¿±ä¹éƒ¨ç”¨æˆ·è®¾è®¡ REST APIã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆå¿…é¡»è®¾è®¡ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ¥ä¿æŠ¤è¿™äº›<br>  <strong>è·¨å¤šä¸ªå¸æˆ·</strong>çš„ API Gateway ç®¡ç†çš„ REST API å…å— SQL æ³¨å…¥å’Œè·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ã€‚å“ªç§è§£<br>  å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„ç®¡ç†å·¥ä½œæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. åœ¨ä¸¤ä¸ªåŒºåŸŸä¸­è®¾ç½® AWS WAFã€‚å°†åŒºåŸŸ Web ACL ä¸ API é˜¶æ®µå…³è”ã€‚<br>  B. åœ¨ä¸¤ä¸ªåŒºåŸŸä¸­è®¾ç½® AWS Firewall Managerã€‚é›†ä¸­é…ç½® AWS WAF è§„åˆ™ã€‚<br>  C. åœ¨ Bath åŒºåŸŸè®¾ç½® AWS Shieldã€‚å°†åŒºåŸŸ Web ACL ä¸ API é˜¶æ®µå…³è”ã€‚<br>  D. åœ¨å…¶ä¸­ä¸€ä¸ªåŒºåŸŸè®¾ç½® AWS Shieldã€‚å°†åŒºåŸŸ Web ACL ä¸ API é˜¶æ®µå…³è”ã€‚</p><h2 id="121-A"><a href="#121-A" class="headerlink" title="121-A"></a>121-A</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨ AWS ä¸Šè¿è¡Œåœ¨çº¿äº‹åŠ¡å¤„ç† (OLTP) å·¥ä½œè´Ÿè½½ã€‚æ­¤å·¥ä½œè´Ÿè½½åœ¨å¤šå¯ç”¨åŒºéƒ¨ç½²<br>  ä¸­ä½¿ç”¨æœªåŠ å¯†çš„ Amazon RDS æ•°æ®åº“å®ä¾‹ã€‚æ¯æ—¥æ•°æ®åº“å¿«ç…§å‡ä»æ­¤å®ä¾‹ä¸­è·å–ã€‚è§£å†³æ–¹æ¡ˆ<br>  æ¶æ„å¸ˆåº”è¯¥åšä»€ä¹ˆæ¥ç¡®ä¿æ•°æ®åº“å’Œå¿«ç…§å§‹ç»ˆåŠ å¯†ï¼Ÿ</p><p>  A. åŠ å¯†æœ€æ–°æ•°æ®åº“å¿«ç…§çš„å‰¯æœ¬ã€‚é€šè¿‡æ¢å¤åŠ å¯†å¿«ç…§æ¥æ›¿æ¢ç°æœ‰æ•°æ®åº“å®ä¾‹ã€‚</p><p>  <em>Encrypt a copy of the latest DB snapshot. Replace existing DB instance by restoring the encrypted snapshot.</em><br>  B. åˆ›å»ºä¸€ä¸ªæ–°çš„åŠ å¯† Amazon Elastic Block Store (Amazon EBS) å·å¹¶å°†å¿«ç…§å¤åˆ¶åˆ°å…¶ä¸­ã€‚<br>  åœ¨æ•°æ®åº“å®ä¾‹ä¸Šå¯ç”¨åŠ å¯†ã€‚</p><p>  C. å¤åˆ¶å¿«ç…§å¹¶ä½¿ç”¨ AWS Key Management Service (AWS KMS) å¯ç”¨åŠ å¯† å°†åŠ å¯†å¿«ç…§æ¢å¤<br>  åˆ°ç°æœ‰æ•°æ®åº“å®ä¾‹ã€‚</p><p>  <em>Copy the snapshots and enable encryption using AWS Key Management Service (AWS KMS) Restore encrypted snapshot to an existing DB instance</em></p><p>  D. å°†å¿«ç…§å¤åˆ¶åˆ°ä½¿ç”¨ AWS Key Management Service (AWS KMS) æ‰˜ç®¡å¯†é’¥ (SSE-KMS) çš„<br>  æœåŠ¡å™¨ç«¯åŠ å¯†è¿›è¡ŒåŠ å¯†çš„ Amazon S3 å­˜å‚¨æ¡¶ã€‚<br>  æ­£ç¡®ç­”æ¡ˆï¼šA</p><h2 id="123-D"><a href="#123-D" class="headerlink" title="123-D"></a>123-D</h2><p>  ä¸€å®¶å…¬å¸æœ‰ä¸€ä¸ªåŠ¨æ€ Web åº”ç”¨ç¨‹åºæ‰˜ç®¡åœ¨ä¸¤ä¸ª Amazon EC2 å®ä¾‹ä¸Šã€‚è¯¥å…¬å¸æ‹¥æœ‰è‡ªå·±çš„<br>  SSL è¯ä¹¦ï¼Œè¯¥è¯ä¹¦åœ¨æ¯ä¸ªå®ä¾‹ä¸Šæ‰§è¡Œ SSL ç»ˆæ­¢ã€‚æœ€è¿‘ï¼Œtrac æœ‰æ‰€å¢åŠ ï¼Œè¿è¥å›¢é˜Ÿç¡®å®š SSL<br>  åŠ å¯†å’Œè§£å¯†å¯¼è‡´ Web æœåŠ¡å™¨çš„è®¡ç®—èƒ½åŠ›è¾¾åˆ°æœ€å¤§é™åˆ¶ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥æ€æ ·åšæ‰èƒ½<br>  æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Ÿ<br>  A. ä½¿ç”¨ AWS Certicate Manager (ACM) åˆ›å»ºæ–°çš„ SSL è¯ä¹¦ã€‚åœ¨æ¯ä¸ªå®ä¾‹ä¸Šå®‰è£… ACM<br>  è¯ä¹¦ã€‚<br>  B. åˆ›å»º Amazon S3 å­˜å‚¨æ¡¶ å°† SSL è¯ä¹¦è¿ç§»åˆ° S3 å­˜å‚¨æ¡¶ã€‚é…ç½® EC2 å®ä¾‹ä»¥å¼•ç”¨ç”¨äº<br>  SSL ç»ˆæ­¢çš„å­˜å‚¨æ¡¶ã€‚<br>  C. åˆ›å»ºå¦ä¸€ä¸ª EC2 å®ä¾‹ä½œä¸ºä»£ç†æœåŠ¡å™¨ã€‚å°† SSL è¯ä¹¦è¿ç§»åˆ°æ–°å®ä¾‹å¹¶å°†å…¶é…ç½®ä¸ºç›´æ¥è¿<br>  æ¥åˆ°ç°æœ‰ EC2 å®ä¾‹ã€‚<br>  D. å°† SSL è¯ä¹¦å¯¼å…¥ AWS Certificate Manager (ACM)ã€‚åˆ›å»ºå…·æœ‰ HTTPS ä¾¦å¬å™¨çš„åº”ç”¨ç¨‹<br>  åºè´Ÿè½½å‡è¡¡å™¨ï¼Œè¯¥ä¾¦å¬å™¨ä½¿ç”¨æ¥è‡ª ACM çš„ SSL è¯ä¹¦ã€‚</p><h2 id="125-AD"><a href="#125-AD" class="headerlink" title="125-AD"></a>125-AD</h2><p>  ä¸€å®¶å…¬å¸åœ¨ AWS ä¸Šè¿è¡Œå…¶ä¸¤å±‚ç”µå­å•†åŠ¡ç½‘ç«™ã€‚ Web å±‚ç”±ä¸€ä¸ªè´Ÿè½½å‡è¡¡å™¨ç»„æˆï¼Œè¯¥è´Ÿè½½<br>  å‡è¡¡å™¨å°† trac å‘é€åˆ° Amazon EC2 å®ä¾‹ã€‚æ•°æ®åº“å±‚ä½¿ç”¨ Amazon RDS æ•°æ®åº“å®ä¾‹ã€‚ EC2<br>  å®ä¾‹å’Œ RDS æ•°æ®åº“å®ä¾‹ä¸åº”æš´éœ²äºå…¬å…±äº’è”ç½‘ã€‚ EC2 å®ä¾‹éœ€è¦äº’è”ç½‘è®¿é—®æ‰èƒ½é€šè¿‡ç¬¬ä¸‰<br>  æ–¹ Web æœåŠ¡å®Œæˆè®¢å•çš„æ”¯ä»˜å¤„ç†ã€‚è¯¥åº”ç”¨ç¨‹åºå¿…é¡»å…·æœ‰é«˜å¯ç”¨æ€§ã€‚å“ªç§é…ç½®é€‰é¡¹ç»„åˆå¯<br>  ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰<br>  A. ä½¿ç”¨ Auto Scaling ç»„å¯åŠ¨ç§æœ‰å­ç½‘ä¸­çš„ EC2 å®ä¾‹ã€‚åœ¨ç§æœ‰å­ç½‘ä¸­éƒ¨ç½² RDS å¤šå¯ç”¨åŒºæ•°æ®åº“å®ä¾‹ã€‚<br>  B. åœ¨ä¸¤ä¸ªå¯ç”¨åŒºä¸­é…ç½®å…·æœ‰ä¸¤ä¸ªç§æœ‰å­ç½‘å’Œä¸¤ä¸ª NAT ç½‘å…³çš„ VPCã€‚åœ¨ç§æœ‰å­ç½‘ä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ã€‚<br>  C. ä½¿ç”¨ Auto Scaling ç»„åœ¨ä¸¤ä¸ªå¯ç”¨åŒºçš„å…¬æœ‰å­ç½‘ä¸­å¯åŠ¨ EC2 å®ä¾‹ã€‚åœ¨ç§æœ‰å­ç½‘ä¸­éƒ¨ç½²RDS å¤šå¯ç”¨åŒºæ•°æ®åº“å®ä¾‹ã€‚<br>  D. è·¨ä¸¤ä¸ªå¯ç”¨åŒºé…ç½®å…·æœ‰ 1 ä¸ªå…¬æœ‰å­ç½‘ã€1 ä¸ªç§æœ‰å­ç½‘å’Œ 2 ä¸ª NAT ç½‘å…³çš„ VPCã€‚åœ¨å…¬æœ‰å­ç½‘ä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ã€‚<br>  E. åœ¨ä¸¤ä¸ªå¯ç”¨åŒºä¸­é…ç½®å…·æœ‰ä¸¤ä¸ªå…¬æœ‰å­ç½‘ã€ä¸¤ä¸ªç§æœ‰å­ç½‘å’Œä¸¤ä¸ª NAT ç½‘å…³çš„ VPCã€‚åœ¨å…¬æœ‰å­ç½‘ä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ã€‚</p><h2 id="127-D"><a href="#127-D" class="headerlink" title="127-D"></a>127-D</h2><p>  ä¸€å®¶åª’ä½“å…¬å¸æ­£åœ¨è¯„ä¼°å°†å…¶ç³»ç»Ÿè¿ç§»åˆ° AWS äº‘çš„å¯èƒ½æ€§ã€‚è¯¥å…¬å¸éœ€è¦è‡³å°‘ 10 TB çš„å­˜å‚¨<br>  ç©ºé—´ï¼ˆå…·æœ‰æœ€å¤§å¯èƒ½çš„ I&#x2F;O æ€§èƒ½ï¼‰ç”¨äºè§†é¢‘å¤„ç†ï¼Œ300 TB çš„éå¸¸è€ç”¨çš„å­˜å‚¨ç©ºé—´ç”¨äºå­˜å‚¨<br>  åª’ä½“å†…å®¹ï¼Œä»¥åŠ 900 TB çš„å­˜å‚¨ç©ºé—´ä»¥æ»¡è¶³ä¸å†ä½¿ç”¨çš„å­˜æ¡£åª’ä½“çš„è¦æ±‚ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆ<br>  åº”è¯¥æ¨èå“ªç»„æœåŠ¡æ¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. Amazon EBS ç”¨äºå®ç°æœ€ä½³æ€§èƒ½ï¼ŒAmazon S3 ç”¨äºæŒä¹…æ•°æ®å­˜å‚¨ï¼ŒAmazon S3 Glacier ç”¨<br>  äºå½’æ¡£å­˜å‚¨<br>  B. Amazon EBS ç”¨äºå®ç°æœ€ä½³æ€§èƒ½ï¼ŒAmazon EFS ç”¨äºæŒä¹…æ•°æ®å­˜å‚¨ï¼ŒAmazon S3 Glacier<br>  ç”¨äºå½’æ¡£å­˜å‚¨<br>  C. Amazon EC2 å®ä¾‹å­˜å‚¨å¯å®ç°æœ€ä½³æ€§èƒ½ï¼ŒAmazon EFS å¯å®ç°æŒä¹…æ•°æ®å­˜å‚¨ï¼ŒAmazon S3<br>  å¯å®ç°å½’æ¡£å­˜å‚¨<br>  D. Amazon EC2 å®ä¾‹å­˜å‚¨å¯å®ç°æœ€ä½³æ€§èƒ½ï¼ŒAmazon S3 å¯å®ç°æŒä¹…æ•°æ®å­˜å‚¨ï¼ŒAmazon S3<br>  Glacier å¯å®ç°å½’æ¡£å­˜å‚¨</p><p>  <code>EC2 has newer feature to support video</code></p><h2 id="134-C"><a href="#134-C" class="headerlink" title="134-C"></a>134-C</h2><p>  ä¸€å®¶å…¬å¸å¸Œæœ›å°†å…¶åº”ç”¨ç¨‹åºè¿ç§»åˆ°æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆã€‚æ— æœåŠ¡å™¨è§£å†³æ–¹æ¡ˆéœ€è¦ä½¿ç”¨ SL æ¥<br>  åˆ†æ<strong>ç°æœ‰æ•°æ®å’Œæ–°æ•°æ®</strong>ã€‚è¯¥å…¬å¸å°†æ•°æ®å­˜å‚¨åœ¨ Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚æ•°æ®éœ€è¦åŠ å¯†å¹¶ä¸”å¿…<br>  é¡»å¤åˆ¶åˆ°ä¸åŒçš„ AWS åŒºåŸŸã€‚å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. åˆ›å»ºä¸€ä¸ªæ–°çš„ S3 å­˜å‚¨æ¡¶ã€‚å°†æ•°æ®åŠ è½½åˆ°æ–°çš„ S3 å­˜å‚¨æ¡¶ä¸­ã€‚ä½¿ç”¨ S3 è·¨åŒºåŸŸå¤åˆ¶(CRR) å°†åŠ å¯†å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªåŒºåŸŸä¸­çš„ S3 å­˜å‚¨æ¡¶ã€‚å°†æœåŠ¡å™¨ç«¯åŠ å¯†ä¸ AWS KMS å¤šåŒºåŸŸå¯†é’¥ (SSE-KMS) ç»“åˆä½¿ç”¨ã€‚ä½¿ç”¨ Amazon Athena æŸ¥è¯¢æ•°æ®ã€‚<br>  B. åˆ›å»ºä¸€ä¸ªæ–°çš„ S3 å­˜å‚¨æ¡¶ã€‚å°†æ•°æ®åŠ è½½åˆ°æ–°çš„ S3 å­˜å‚¨æ¡¶ä¸­ã€‚ä½¿ç”¨ S3 è·¨åŒºåŸŸå¤åˆ¶(CRR) å°†åŠ å¯†å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªåŒºåŸŸä¸­çš„ S3 å­˜å‚¨æ¡¶ã€‚å°†æœåŠ¡å™¨ç«¯åŠ å¯†ä¸ AWS KMS å¤šåŒºåŸŸå¯†é’¥ (SSE-KMS) ç»“åˆä½¿ç”¨ã€‚ä½¿ç”¨ Amazon RDS æŸ¥è¯¢æ•°æ®ã€‚</p><p>  <strong>C. å°†æ•°æ®åŠ è½½åˆ°ç°æœ‰çš„ S3 å­˜å‚¨æ¡¶ä¸­ã€‚ä½¿ç”¨ S3 è·¨åŒºåŸŸå¤åˆ¶ (CRR) å°†åŠ å¯†å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªåŒºåŸŸä¸­çš„ S3 å­˜å‚¨æ¡¶ã€‚ä½¿ç”¨å¸¦æœ‰ Amazon S3 æ‰˜ç®¡åŠ å¯†å¯†é’¥ (SSE-S3) çš„æœåŠ¡å™¨ç«¯åŠ å¯†ã€‚ä½¿ç”¨ Amazon Athena æŸ¥è¯¢æ•°æ®ã€‚</strong> </p><p>  <code>SSE-S3ä¼šä¸ºæ¯ä¸ªå¯¹è±¡ä½¿ç”¨å”¯ä¸€çš„åŠ å¯†å¯†é’¥ï¼Œå¹¶ä¸”ç”±S3ç®¡ç†åŠ å¯†å¯†é’¥çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»è€Œå‡è½»äº†å¯†é’¥ç®¡ç†çš„è´Ÿæ‹…ã€‚</code></p><p>  D. å°†æ•°æ®åŠ è½½åˆ°ç°æœ‰çš„ S3 å­˜å‚¨æ¡¶ä¸­ã€‚ä½¿ç”¨ S3 è·¨åŒºåŸŸå¤åˆ¶ (CRR) å°†åŠ å¯†å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªåŒºåŸŸä¸­çš„ S3 å­˜å‚¨æ¡¶ã€‚ä½¿ç”¨å¸¦æœ‰ Amazon S3 æ‰˜ç®¡åŠ å¯†å¯†é’¥ (SSE-S3) çš„æœåŠ¡å™¨ç«¯åŠ å¯†ã€‚ä½¿ç”¨ Amazon RDS æŸ¥è¯¢æ•°æ®ã€‚</p><h2 id="137-B"><a href="#137-B" class="headerlink" title="137-B"></a>137-B</h2><p>  ä¸€å®¶å…¬å¸ä½¿ç”¨ AWS Organizations ä¸ºæ¯ä¸ªä¸šåŠ¡éƒ¨é—¨åˆ›å»ºä¸“ç”¨ AWS è´¦æˆ·ï¼Œä»¥ä¾¿æ ¹æ®è¯·æ±‚ç‹¬<br>  ç«‹ç®¡ç†æ¯ä¸ªä¸šåŠ¡éƒ¨é—¨çš„è´¦æˆ·ã€‚æ ¹ç”µå­é‚®ä»¶æ”¶ä»¶äººé”™è¿‡äº†å‘é€åˆ°ä¸€ä¸ªå¸æˆ·çš„æ ¹ç”¨æˆ·ç”µå­é‚®ä»¶<br>  åœ°å€çš„é€šçŸ¥ã€‚è¯¥å…¬å¸å¸Œæœ›ç¡®ä¿ä¸ä¼šé”™è¿‡æ‰€æœ‰æœªæ¥çš„é€šçŸ¥ã€‚æœªæ¥çš„é€šçŸ¥å¿…é¡»ä»…é™äºå¸æˆ·ç®¡ç†<br>  å‘˜ã€‚å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. é…ç½®å…¬å¸çš„ç”µå­é‚®ä»¶æœåŠ¡å™¨ï¼Œå°†å‘é€åˆ° AWS è´¦æˆ·æ ¹ç”¨æˆ·ç”µå­é‚®ä»¶åœ°å€çš„é€šçŸ¥ç”µå­é‚®ä»¶è½¬å‘ç»™ç»„ç»‡ä¸­çš„æ‰€æœ‰ç”¨æˆ·ã€‚</p><p>  <strong>B. å°†æ‰€æœ‰ AWS è´¦æˆ·æ ¹ç”¨æˆ·ç”µå­é‚®ä»¶åœ°å€é…ç½®ä¸ºåˆ†å‘åˆ—è¡¨ï¼Œå‘é€ç»™å°‘æ•°å¯ä»¥å“åº”è­¦æŠ¥çš„ç®¡<br>  ç†å‘˜ã€‚åœ¨ AWS Organizations æ§åˆ¶å°ä¸­æˆ–ä»¥ç¼–ç¨‹æ–¹å¼é…ç½® AWS è´¦æˆ·å¤‡ç”¨è”ç³»äººã€‚</strong></p><p>  C. å°†æ‰€æœ‰ AWS è´¦æˆ·æ ¹ç”¨æˆ·ç”µå­é‚®ä»¶é…ç½®ä¸ºå‘é€ç»™ä¸€åç®¡ç†å‘˜ï¼Œè¯¥ç®¡ç†å‘˜è´Ÿè´£ç›‘æ§è­¦æŠ¥å¹¶å°†è¿™äº›è­¦æŠ¥è½¬å‘åˆ°é€‚å½“çš„ç»„ã€‚</p><p>  D. å°†æ‰€æœ‰ç°æœ‰ AWS è´¦æˆ·å’Œæ‰€æœ‰æ–°åˆ›å»ºçš„è´¦æˆ·é…ç½®ä¸ºä½¿ç”¨ç›¸åŒçš„æ ¹ç”¨æˆ·ç”µå­é‚®ä»¶åœ°å€ã€‚åœ¨<br>  AWS Organizations æ§åˆ¶å°ä¸­æˆ–ä»¥ç¼–ç¨‹æ–¹å¼é…ç½® AWS è´¦æˆ·å¤‡ç”¨è”ç³»äººã€‚</p><h2 id="139-D"><a href="#139-D" class="headerlink" title="139-D"></a>139-D</h2><p>  æŠ¥å‘Šå›¢é˜Ÿæ¯å¤©éƒ½ä¼šåœ¨ Amazon S3 å­˜å‚¨æ¡¶ä¸­æ”¶åˆ°æ–‡ä»¶ã€‚æŠ¥å‘Šå›¢é˜Ÿæ¯å¤©åŒæ—¶æ‰‹åŠ¨æ£€æŸ¥æ­¤åˆå§‹S3 å­˜å‚¨æ¡¶ä¸­çš„æ–‡ä»¶å¹¶å°†å…¶å¤åˆ¶åˆ°åˆ†æ S3 å­˜å‚¨æ¡¶ï¼Œä»¥ä¸ Amazon QuickSight ä¸€èµ·ä½¿ç”¨ã€‚æ›´å¤šå›¢é˜Ÿå¼€å§‹å°†æ›´å¤šæ›´å¤§å°ºå¯¸çš„æ–‡ä»¶å‘é€åˆ°åˆå§‹ S3 å­˜å‚¨æ¡¶ã€‚æŠ¥å‘Šå›¢é˜Ÿå¸Œæœ›åœ¨æ–‡ä»¶è¿›å…¥åˆå§‹S3 å­˜å‚¨æ¡¶æ—¶è‡ªåŠ¨åˆ†æ S3 å­˜å‚¨æ¡¶ã€‚æŠ¥å‘Šå›¢é˜Ÿè¿˜å¸Œæœ›ä½¿ç”¨ AWS Lambda å‡½æ•°å¯¹å¤åˆ¶çš„æ•°æ®è¿è¡Œæ¨¡å¼åŒ¹é…ä»£ç ã€‚æ­¤å¤–ï¼ŒæŠ¥å‘Šå›¢é˜Ÿå¸Œæœ›å°†æ•°æ®æ–‡ä»¶å‘é€åˆ° Amazon SageMaker Pipelinesä¸­çš„ç®¡é“ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”è¯¥å¦‚ä½•åšæ‰èƒ½ä»¥æœ€å°‘çš„è¿è¥å¼€é”€æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  <code>æ’é™¤äº†Aå’ŒBï¼Œå› ä¸ºå®ƒéœ€è¦ä¸€ä¸ªé¢å¤–çš„Lambdaä½œä¸šæ¥å®Œæˆå¤åˆ¶ï¼Œè€ŒS3å¤åˆ¶å°†ä»¥å¾ˆå°‘ç”šè‡³æ²¡æœ‰å¼€é”€æ¥å¤„ç†å®ƒã€‚Cæ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºS3é€šçŸ¥ä¸æ”¯æŒSagemakeç®¡é“</code></p><p>  &#96;&#96;A. åˆ›å»º Lambda å‡½æ•°ä»¥å°†æ–‡ä»¶å¤åˆ¶åˆ°åˆ†æ S3 å­˜å‚¨æ¡¶ã€‚ä¸ºåˆ†æ S3 å­˜å‚¨æ¡¶åˆ›å»º S3 äº‹ä»¶é€šçŸ¥ã€‚å°†Lambda å’Œ SageMaker Pipelines é…ç½®ä¸ºäº‹ä»¶é€šçŸ¥çš„ç›®çš„åœ°ã€‚é…ç½®s3:ObjectCreated:Put ä½œä¸ºäº‹ä»¶ç±»å‹ã€‚</p><p>  B. åˆ›å»º Lambda å‡½æ•°ä»¥å°†æ–‡ä»¶å¤åˆ¶åˆ°åˆ†æ S3 å­˜å‚¨æ¡¶ã€‚é…ç½®åˆ†æ S3 å­˜å‚¨æ¡¶ä»¥å°†äº‹ä»¶é€šçŸ¥å‘é€åˆ° Amazon EventBridge (Amazon CloudWatch Events)ã€‚åœ¨ EventBridge (CloudWatchEvents) ä¸­é…ç½® ObjectCreated è§„åˆ™ã€‚å°† Lambda å’Œ SageMaker Pipelines é…ç½®ä¸ºè§„åˆ™çš„ç›®æ ‡ã€‚</p><p>  C. é…ç½® S3 å­˜å‚¨æ¡¶ä¹‹é—´çš„ S3 å¤åˆ¶ã€‚ä¸ºåˆ†æ S3 å­˜å‚¨æ¡¶åˆ›å»º S3 äº‹ä»¶é€šçŸ¥ã€‚å°† Lambda å’ŒSageMaker Pipelines é…ç½®ä¸ºäº‹ä»¶é€šçŸ¥çš„ç›®çš„åœ°ã€‚é…ç½® s3:ObjectCreated:Put ä½œä¸ºäº‹ä»¶ç±»å‹</p><p>  D. é…ç½® S3 å­˜å‚¨æ¡¶ä¹‹é—´çš„ S3 å¤åˆ¶ã€‚é…ç½®åˆ†æ S3 å­˜å‚¨æ¡¶ä»¥å°†äº‹ä»¶é€šçŸ¥å‘é€åˆ° Amazon EventBridge (Amazon CloudWatch Events)ã€‚åœ¨ EventBridge (CloudWatch Events) ä¸­é…ç½®ObjectCreated è§„åˆ™ã€‚å°† Lambda å’Œ SageMaker Pipelines é…ç½®ä¸ºè§„åˆ™çš„ç›®æ ‡ã€‚</p><h2 id="140-AC"><a href="#140-AC" class="headerlink" title="140-AC"></a>140-AC</h2><p>  è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦å¸®åŠ©å…¬å¸ä¼˜åŒ–åœ¨ AWS ä¸Šè¿è¡Œåº”ç”¨ç¨‹åºçš„æˆæœ¬ã€‚è¯¥åº”ç”¨ç¨‹åºå°†ä½¿ç”¨Amazon EC2 å®ä¾‹ã€AWS Fargate å’Œ AWS Lambda åœ¨æ¶æ„å†…è¿›è¡Œè®¡ç®—ã€‚ EC2 å®ä¾‹å°†è¿è¡Œåº”ç”¨ç¨‹åºçš„æ•°æ®æ‘„å–å±‚ã€‚ **EC2 çš„ä½¿ç”¨å°†æ˜¯é›¶æ˜Ÿä¸”ä¸å¯é¢„æµ‹çš„ã€‚**åœ¨ EC2 å®ä¾‹ä¸Šè¿è¡Œçš„å·¥ä½œè´Ÿè½½å¯ä»¥éšæ—¶ä¸­æ–­ã€‚åº”ç”¨ç¨‹åºå‰ç«¯å°†åœ¨ Fargate ä¸Šè¿è¡Œï¼ŒLambda å°†æœåŠ¡äº API å±‚ã€‚**æ˜å¹´çš„å‰ç«¯åˆ©ç”¨ç‡å’Œ API å±‚åˆ©ç”¨ç‡å°†æ˜¯å¯é¢„æµ‹çš„ã€‚**å“ªç§è´­ä¹°é€‰é¡¹ç»„åˆå°†ä¸ºæ‰˜ç®¡æ­¤åº”ç”¨ç¨‹åºæä¾›æœ€å…·æˆæœ¬æ•ˆç›Šçš„è§£å†³æ–¹æ¡ˆï¼Ÿ ï¼ˆé€‰æ‹©ä¸¤ä¸ªã€‚ï¼‰<br>  A. ä½¿ç”¨ Spot å®ä¾‹ä½œä¸ºæ•°æ®æ‘„å–å±‚<br>  B. å¯¹æ•°æ®æ‘„å–å±‚ä½¿ç”¨æŒ‰éœ€å®ä¾‹<br>  C. ä¸ºå‰ç«¯å’Œ API å±‚è´­ä¹° 1 å¹´computeèŠ‚çœè®¡åˆ’ã€‚<br>  D. ä¸ºæ•°æ®æ‘„å–å±‚è´­ä¹° 1 å¹´æœŸçš„é¢„ä»˜è´¹ç”¨é¢„ç•™å®ä¾‹ã€‚ </p><table><thead><tr><th>ç‰¹å¾</th><th>EC2 Savings Plans</th><th>AWS Compute Savings Plans</th></tr></thead><tbody><tr><td>é€‚ç”¨èŒƒå›´</td><td>EC2 å®ä¾‹</td><td><strong>EC2 å®ä¾‹å’Œ Fargate ä»»åŠ¡</strong></td></tr><tr><td>é€‚ç”¨æ€§çµæ´»æ€§</td><td>æ›´å¤§çš„å®ä¾‹é€‰æ‹©</td><td>é™äº EC2 å®ä¾‹</td></tr><tr><td>è·¨åŒºåŸŸä½¿ç”¨</td><td>å¯ä»¥åœ¨å¤šä¸ª AWS åŒºåŸŸä½¿ç”¨</td><td>é™äºä¸€ä¸ª AWS åŒºåŸŸ</td></tr></tbody></table><h2 id="141-A"><a href="#141-A" class="headerlink" title="141-A"></a>141-A</h2><p>  ä¸€å®¶å…¬å¸è¿è¥ä¸€ä¸ªåŸºäºç½‘ç»œçš„é—¨æˆ·ç½‘ç«™ï¼Œä¸ºç”¨æˆ·æä¾›å…¨çƒçªå‘æ–°é—»ã€æœ¬åœ°è­¦æŠ¥å’Œå¤©æ°”æ›´æ–°ã€‚<br>  è¯¥é—¨æˆ·é€šè¿‡æ··åˆä½¿ç”¨é™æ€å’ŒåŠ¨æ€å†…å®¹ä¸ºæ¯ä¸ªç”¨æˆ·æä¾›ä¸ªæ€§åŒ–è§†å›¾ã€‚å†…å®¹é€šè¿‡åœ¨åº”ç”¨ç¨‹åºè´Ÿ<br>  è½½å‡è¡¡å™¨ (ALB) åé¢çš„ Amazon EC2 å®ä¾‹ä¸Šè¿è¡Œçš„ API æœåŠ¡å™¨é€šè¿‡ HTTPS æä¾›ã€‚è¯¥å…¬<br>  å¸å¸Œæœ›è¯¥é—¨æˆ·å°½å¿«å‘ä¸–ç•Œå„åœ°çš„ç”¨æˆ·æä¾›æ­¤å†…å®¹ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”å¦‚ä½•è®¾è®¡åº”ç”¨ç¨‹åºä»¥<br>  ç¡®ä¿æ‰€æœ‰ç”¨æˆ·çš„å»¶è¿Ÿæœ€å°‘ï¼Ÿ</p><p>  <strong>A. åœ¨å•ä¸ª AWS åŒºåŸŸä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºå †æ ˆã€‚é€šè¿‡æŒ‡å®š ALB ä½œä¸ºæºï¼Œä½¿ç”¨ Amazon CloudFront æä¾›æ‰€æœ‰é™æ€å’ŒåŠ¨æ€å†…å®¹ã€‚</strong></p><p>  B. åœ¨ä¸¤ä¸ª AWS åŒºåŸŸä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºå †æ ˆã€‚ä½¿ç”¨ Amazon Route 53 å»¶è¿Ÿè·¯ç”±ç­–ç•¥æä¾›æ¥è‡ªæœ€è¿‘åŒºåŸŸä¸­ ALB çš„æ‰€æœ‰å†…å®¹ã€‚</p><p>  C. åœ¨å•ä¸ª AWS åŒºåŸŸä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºå †æ ˆã€‚ä½¿ç”¨ Amazon CloudFront æä¾›é™æ€å†…å®¹ã€‚ç›´æ¥ä» ALB æä¾›åŠ¨æ€å†…å®¹ã€‚</p><p>  D. åœ¨ä¸¤ä¸ª AWS åŒºåŸŸä¸­éƒ¨ç½²åº”ç”¨ç¨‹åºå †æ ˆã€‚ä½¿ç”¨ Amazon Route 53 åœ°ç†ä½ç½®è·¯ç”±ç­–ç•¥åœ¨æœ€è¿‘çš„åŒºåŸŸä¸­æä¾›æ¥è‡ª ALB çš„æ‰€æœ‰å†…å®¹ã€‚</p><h2 id="145-Dã€"><a href="#145-Dã€" class="headerlink" title="145-Dã€"></a>145-Dã€</h2><p>  ä¸€å®¶å…¬å¸åœ¨å•ä¸ª Amazon EC2 æŒ‰éœ€å®ä¾‹ä¸Šæ‰˜ç®¡ç½‘ç«™åˆ†æåº”ç”¨ç¨‹åºã€‚è¯¥åˆ†æè½¯ä»¶æ˜¯ç”¨ PHP<br>  ç¼–å†™çš„ï¼Œå¹¶ä½¿ç”¨ MySQL æ•°æ®åº“ã€‚åˆ†æè½¯ä»¶ã€æä¾› PHP çš„ Web æœåŠ¡å™¨ä»¥åŠæ•°æ®åº“æœåŠ¡<br>  å™¨éƒ½æ‰˜ç®¡åœ¨ EC2 å®ä¾‹ä¸Šã€‚è¯¥åº”ç”¨ç¨‹åºåœ¨ç¹å¿™æ—¶é—´æ˜¾ç¤ºå‡ºæ€§èƒ½ä¸‹é™çš„è¿¹è±¡ï¼Œå¹¶å‡ºç° 5xx é”™<br>  è¯¯ã€‚å…¬å¸éœ€è¦ä½¿åº”ç”¨ç¨‹åºæ— ç¼æ‰©å±•ã€‚å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿæœ€å…·æˆæœ¬æ•ˆç›Šåœ°æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. å°†æ•°æ®åº“è¿ç§»åˆ° Amazon RDS for MySQL æ•°æ®åº“å®ä¾‹ã€‚åˆ›å»º Web åº”ç”¨ç¨‹åºçš„ AMIã€‚<br>  ä½¿ç”¨ AMI å¯åŠ¨ç¬¬äºŒä¸ª EC2 æŒ‰éœ€å®ä¾‹ã€‚ä½¿ç”¨åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨å°†è´Ÿè½½åˆ†é…åˆ°æ¯ä¸ª EC2<br>  å®ä¾‹ã€‚<br>  B. å°†æ•°æ®åº“è¿ç§»åˆ° Amazon RDS for MySQL æ•°æ®åº“å®ä¾‹ã€‚åˆ›å»º Web åº”ç”¨ç¨‹åºçš„ AMIã€‚ä½¿ç”¨ AMI å¯åŠ¨ç¬¬äºŒä¸ª EC2 æŒ‰éœ€å®ä¾‹ã€‚ä½¿ç”¨ Amazon Route 53 åŠ æƒè·¯ç”±åœ¨ä¸¤ä¸ª EC2 å®ä¾‹ä¹‹é—´åˆ†é…è´Ÿè½½ã€‚</p><p>  C. å°†æ•°æ®åº“è¿ç§»åˆ° Amazon Aurora MySQL æ•°æ®åº“å®ä¾‹ã€‚åˆ›å»º AWS Lambda å‡½æ•°æ¥åœæ­¢<br>  EC2 å®ä¾‹å¹¶æ›´æ”¹å®ä¾‹ç±»å‹ã€‚åˆ›å»º Amazon CloudWatch è­¦æŠ¥ä»¥åœ¨ CPU åˆ©ç”¨ç‡è¶…è¿‡ 75% æ—¶<br>  è°ƒç”¨ Lambda å‡½æ•°ã€‚</p><p>  D. å°†æ•°æ®åº“è¿ç§»åˆ° Amazon Aurora MySQL æ•°æ®åº“å®ä¾‹ã€‚åˆ›å»º Web åº”ç”¨ç¨‹åºçš„ AMIã€‚å°†<br>  AMI åº”ç”¨åˆ°å¯åŠ¨æ¨¡æ¿ã€‚ä½¿ç”¨å¯åŠ¨æ¨¡æ¿åˆ›å»º Auto Scaling ç»„ é…ç½®å¯åŠ¨æ¨¡æ¿ä»¥ä½¿ç”¨ Spot é˜Ÿ<br>  åˆ—ã€‚å°†åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨é™„åŠ åˆ° Auto Scaling ç»„ã€‚<br>  æ­£ç¡®ç­”æ¡ˆï¼šD</p><h2 id="7-D"><a href="#7-D" class="headerlink" title="7-D"></a>7-D</h2><p>  ä¸€å®¶å…¬å¸æœ‰ä¸€ä¸ªæ¥æ”¶ä¼ å…¥æ¶ˆæ¯çš„åº”ç”¨ç¨‹åºã€‚ç„¶åï¼Œæ•°åä¸ªå…¶ä»–åº”ç”¨ç¨‹åºå’Œå¾®æœåŠ¡å¿«é€Ÿæ¶ˆè€—<br>  è¿™äº›æ¶ˆæ¯ã€‚æ¶ˆæ¯æ•°é‡å˜åŒ–å¾ˆå¤§ï¼Œæœ‰æ—¶çªç„¶å¢åŠ åˆ°æ¯ç§’ 100,000 æ¡ã€‚è¯¥å…¬å¸å¸Œæœ›è§£è€¦è§£å†³æ–¹<br>  æ¡ˆå¹¶æé«˜å¯æ‰©å±•æ€§ã€‚å“ªç§è§£å†³æ–¹æ¡ˆæ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. å°†æ¶ˆæ¯ä¿ç•™åˆ° Amazon Kinesis Data Analyticsã€‚é…ç½®æ¶ˆè´¹è€…åº”ç”¨ç¨‹åºä»¥è¯»å–å’Œå¤„ç†æ¶ˆæ¯ã€‚</p><p>  B. åœ¨ Auto Scaling ç»„ä¸­çš„ Amazon EC2 å®ä¾‹ä¸Šéƒ¨ç½²æå–åº”ç”¨ç¨‹åºï¼Œä»¥æ ¹æ® CPU æŒ‡æ ‡æ‰©<br>  å±• EC2 å®ä¾‹çš„æ•°é‡ã€‚</p><p>  C. ä½¿ç”¨å•ä¸ªåˆ†ç‰‡å°†æ¶ˆæ¯å†™å…¥ Amazon Kinesis Data Streamsã€‚ä½¿ç”¨ AWS Lambda å‡½æ•°é¢„å¤„<br>  ç†æ¶ˆæ¯å¹¶å°†å…¶å­˜å‚¨åœ¨ Amazon DynamoDB ä¸­ã€‚é…ç½®æ¶ˆè´¹è€…åº”ç”¨ç¨‹åºä»¥ä» DynamoDB è¯»å–<br>  æ•°æ®æ¥å¤„ç†æ¶ˆæ¯ã€‚</p><p>  D. å°†æ¶ˆæ¯å‘å¸ƒåˆ°å…·æœ‰å¤šä¸ª Amazon Simple Queue Service (Amazon SOS) è®¢é˜…çš„ Amazon<br>  Simple Notication Service (Amazon SNS) ä¸»é¢˜ã€‚é…ç½®ä½¿ç”¨è€…åº”ç”¨ç¨‹åºä»¥å¤„ç†æ¥è‡ªé˜Ÿåˆ—çš„æ¶ˆæ¯ã€‚</p><p>  <code>fan out</code></p><h2 id="16-B"><a href="#16-B" class="headerlink" title="16-B"></a>16-B</h2><p>  ä¸€å®¶å…¬å¸åœ¨ AWS ä¸Šæ‰˜ç®¡æ•°æ®æ¹–ã€‚æ•°æ®æ¹–ç”± Amazon S3 å’Œ Amazon RDS for PostgreSQLä¸­çš„æ•°æ®ç»„æˆã€‚è¯¥å…¬å¸éœ€è¦ä¸€ä¸ªæä¾›æ•°æ®å¯è§†åŒ–å¹¶åŒ…å«æ•°æ®æ¹–ä¸­æ‰€æœ‰æ•°æ®æºçš„æŠ¥å‘Šè§£å†³æ–¹æ¡ˆã€‚åªæœ‰å…¬å¸çš„ç®¡ç†å›¢é˜Ÿæ‰èƒ½å®Œå…¨è®¿é—®æ‰€æœ‰å¯è§†åŒ–ã€‚å…¬å¸çš„å…¶ä»–æˆå‘˜åº”è¯¥åªæœ‰æœ‰é™çš„è®¿é—®æƒé™ã€‚</p><p>  å“ªç§è§£å†³æ–¹æ¡ˆå¯ä»¥æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. åœ¨ Amazon QuickSight ä¸­åˆ›å»ºåˆ†æã€‚è¿æ¥æ‰€æœ‰æ•°æ®æºå¹¶åˆ›å»ºæ–°çš„æ•°æ®é›†ã€‚å‘å¸ƒä»ªè¡¨æ¿ä»¥<br>  å¯è§†åŒ–æ•°æ®ã€‚ä¸é€‚å½“çš„ <strong>IAM è§’è‰²</strong>å…±äº«ä»ªè¡¨æ¿ã€‚</p><p>  B. åœ¨ Amazon QuickSight ä¸­åˆ›å»ºåˆ†æã€‚è¿æ¥æ‰€æœ‰æ•°æ®æºå¹¶åˆ›å»ºæ–°çš„æ•°æ®é›†ã€‚å‘å¸ƒä»ªè¡¨æ¿ä»¥<br>  å¯è§†åŒ–æ•°æ®ã€‚ä¸é€‚å½“çš„<strong>ç”¨æˆ·å’Œç»„</strong>å…±äº«ä»ªè¡¨æ¿ã€‚</p><p>  <code>å‘å¸ƒä»ªè¡¨æ¿åï¼Œæ‚¨å¯ä»¥å°†å…¶ä¸QuickSightè´¦æˆ·ä¸­çš„å…¶ä»–**ç”¨æˆ·æˆ–ç¾¤ç»„**å…±äº«ã€‚</code><br>  C. ä¸º Amazon S3 ä¸­çš„æ•°æ®åˆ›å»º AWS Glue è¡¨å’Œçˆ¬ç½‘ç¨‹åºã€‚åˆ›å»º AWS Glue æå–ã€è½¬æ¢<br>  å’ŒåŠ è½½ (ETL) ä½œä¸šä»¥ç”ŸæˆæŠ¥å‘Šã€‚å°†æŠ¥å‘Šå‘å¸ƒåˆ° Amazon S3ã€‚ä½¿ç”¨ <strong>S3 å­˜å‚¨æ¡¶ç­–ç•¥</strong>æ¥é™åˆ¶å¯¹<br>  æŠ¥å‘Šçš„è®¿é—®ã€‚<br>  D. ä¸º Amazon S3 ä¸­çš„æ•°æ®åˆ›å»º AWS Glue è¡¨å’Œçˆ¬ç½‘ç¨‹åºã€‚ä½¿ç”¨ Amazon Athena è”åˆæŸ¥<br>  è¯¢è®¿é—® Amazon RDS for PostgreSQL ä¸­çš„æ•°æ®ã€‚ä½¿ç”¨ Amazon Athena ç”ŸæˆæŠ¥å‘Šã€‚å°†æŠ¥å‘Šå‘<br>  å¸ƒåˆ° Amazon S3ã€‚ä½¿ç”¨ <strong>S3 å­˜å‚¨æ¡¶ç­–ç•¥</strong>æ¥é™åˆ¶å¯¹æŠ¥å‘Šçš„è®¿é—®ã€‚</p><h2 id="21-D"><a href="#21-D" class="headerlink" title="21-D"></a>21-D</h2><p>  ä¸€å®¶ç”µå­å•†åŠ¡å…¬å¸å¸Œæœ›åœ¨ AWS ä¸Šæ¨å‡ºæ¯æ—¥ä¸€äº¤æ˜“ç½‘ç«™ã€‚æ¯å¤© 24 å°æ—¶å†…éƒ½ä¼šæœ‰ä¸€æ¬¾äº§å“<br>  åœ¨ä¿ƒé”€ã€‚è¯¥å…¬å¸å¸Œæœ›èƒ½å¤Ÿåœ¨é«˜å³°æ—¶æ®µä»¥<strong>æ¯«ç§’</strong>çº§å»¶è¿Ÿå¤„ç†æ¯å°æ—¶æ•°ç™¾ä¸‡ä¸ªè¯·æ±‚ã€‚å“ªç§è§£å†³æ–¹<br>  æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€æ»¡è¶³è¿™äº›è¦æ±‚</p><p>  A. ä½¿ç”¨ Amazon S3 åœ¨ä¸åŒçš„ S3 å­˜å‚¨æ¡¶ä¸­æ‰˜ç®¡å®Œæ•´ç½‘ç«™ã€‚æ·»åŠ  Amazon CloudFront å‘è¡Œ<br>  ç‰ˆã€‚å°† S3 å­˜å‚¨æ¡¶è®¾ç½®ä¸ºåˆ†å‘çš„æ¥æºã€‚å°†è®¢å•æ•°æ®å­˜å‚¨åœ¨ Amazon S3 ä¸­ã€‚</p><p>  not provide the required performance and scale for millions of requests each hour with millisecond latency.</p><p>  B. åœ¨è·¨å¤šä¸ªå¯ç”¨åŒºçš„ Auto Scaling ç»„ä¸­è¿è¡Œçš„ <strong><del>Amazon EC2 å®ä¾‹</del></strong>ä¸Šéƒ¨ç½²å®Œæ•´ç½‘ç«™ã€‚æ·»åŠ <br>  åº”ç”¨ç¨‹åºè´Ÿè½½å‡è¡¡å™¨ (ALB) ä»¥åˆ†å‘ç½‘ç«™ tracã€‚ä¸ºåç«¯ API æ·»åŠ å¦ä¸€ä¸ª ALBã€‚å°†æ•°æ®å­˜å‚¨<br>  åœ¨ Amazon RDS for MySQL ä¸­ã€‚</p><p>  C. <del>è¿ç§»å®Œæ•´åº”ç”¨ç¨‹åºä»¥åœ¨å®¹å™¨ä¸­è¿è¡Œ</del>ã€‚åœ¨ Amazon Elastic Kubernetes Service (Amazon EKS)<br>  ä¸Šæ‰˜ç®¡å®¹å™¨ã€‚ä½¿ç”¨ Kubernetes Cluster Autoscaler å¢åŠ å’Œå‡å°‘ trac ä¸­å¤„ç†çªå‘çš„ pod æ•°é‡ã€‚<br>  å°†æ•°æ®å­˜å‚¨åœ¨ Amazon RDS for MySQL ä¸­ã€‚</p><p>  D. ä½¿ç”¨ Amazon S3 å­˜å‚¨æ¡¶æ‰˜ç®¡ç½‘ç«™çš„é™æ€å†…å®¹ã€‚éƒ¨ç½² Amazon CloudFront å‘è¡Œç‰ˆã€‚å°† S3<br>  å­˜å‚¨æ¡¶è®¾ç½®ä¸ºåŸç‚¹ã€‚ä½¿ç”¨ Amazon API Gateway å’Œ AWS Lambda å‡½æ•°ä½œä¸ºåç«¯ APIã€‚å°†<br>  æ•°æ®å­˜å‚¨åœ¨ Amazon DynamoDB ä¸­ã€‚</p><h2 id="24-B"><a href="#24-B" class="headerlink" title="24-B"></a>24-B</h2><pre><code>  é—®é¢˜ï¼ƒ24ä¸€å®¶å…¬å¸åœ¨æœ€è¿‘çš„è´¦å•ä¸­å‘ç° Amazon EC2 æˆæœ¬æœ‰æ‰€å¢åŠ ã€‚è®¡è´¹å›¢é˜Ÿæ³¨æ„åˆ°å‡ ä¸ª EC2 å®ä¾‹çš„å®ä¾‹ç±»å‹å‡ºç°ä¸å¿…è¦çš„å‚ç›´æ‰©å±•ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆéœ€è¦åˆ›å»ºä¸€ä¸ªå›¾è¡¨æ¥æ¯”è¾ƒè¿‡å» 2 ä¸ªæœˆçš„ EC2 æˆæœ¬ï¼Œå¹¶è¿›è¡Œæ·±å…¥åˆ†æä»¥ç¡®å®šå‚ç›´æ‰©å±•çš„æ ¹æœ¬åŸå› ã€‚è§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆåº”å¦‚ä½•ä»¥æœ€å°‘çš„è¿è¥å¼€é”€ç”Ÿæˆä¿¡æ¯ï¼ŸA. ä½¿ç”¨ AWS Budgets åˆ›å»ºé¢„ç®—æŠ¥å‘Šå¹¶æ ¹æ®å®ä¾‹ç±»å‹æ¯”è¾ƒ EC2 æˆæœ¬ã€‚`æ— æ³•æ·±å…¥åˆ†æ`**B. ä½¿ç”¨ Cost Explorer çš„ç²’åº¦è¿‡æ»¤åŠŸèƒ½æ ¹æ®å®ä¾‹ç±»å‹å¯¹ EC2 æˆæœ¬è¿›è¡Œæ·±å…¥åˆ†æã€‚**C. ä½¿ç”¨ AWS Billing and Cost Management ä»ªè¡¨æ¿ä¸­çš„å›¾è¡¨æ¥æ¯”è¾ƒè¿‡å» 2 ä¸ªæœˆåŸºäºå®ä¾‹ç±»å‹çš„ EC2 æˆæœ¬ã€‚`éœ€è¦æ›´å¤šæ‰‹åŠ¨æ“ä½œå’Œé…ç½®`D. ä½¿ç”¨ AWS æˆæœ¬å’Œä½¿ç”¨æƒ…å†µæŠ¥å‘Šåˆ›å»ºæŠ¥å‘Šå¹¶å°†å…¶å‘é€åˆ° Amazon S3 å­˜å‚¨æ¡¶ã€‚ä½¿ç”¨Amazon QuickSight å’Œ Amazon S3 ä½œä¸ºæºï¼Œæ ¹æ®å®ä¾‹ç±»å‹ç”Ÿæˆäº¤äº’å¼å›¾è¡¨ã€‚`æ˜¯ä¸€ä¸ªå¯è¡Œçš„æ–¹æ³•ï¼Œä½†å¯èƒ½æ¶‰åŠæ›´å¤šçš„é…ç½®å’Œå¤æ‚æ€§ã€‚`</code></pre><h2 id="36-B"><a href="#36-B" class="headerlink" title="36-B"></a>36-B</h2><p>  ä¸€å®¶å…¬å¸æ­£åœ¨ AWS äº‘ä¸­æ„å»ºåº”ç”¨ç¨‹åºã€‚è¯¥åº”ç”¨ç¨‹åºå°†æ•°æ®å­˜å‚¨åœ¨ä¸¤ä¸ª AWS åŒºåŸŸçš„Amazon S3 å­˜å‚¨æ¡¶ä¸­ã€‚å…¬å¸å¿…é¡»ä½¿ç”¨ AWS Key Management Service (AWS KMS) <strong>å®¢æˆ·æ‰˜ç®¡å¯†é’¥</strong>æ¥åŠ å¯†å­˜å‚¨åœ¨ S3 å­˜å‚¨æ¡¶ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚**ä¸¤ä¸ª S3 å­˜å‚¨æ¡¶ä¸­çš„æ•°æ®å¿…é¡»ä½¿ç”¨ç›¸åŒçš„KMS å¯†é’¥è¿›è¡ŒåŠ å¯†å’Œè§£å¯†ã€‚**æ•°æ®å’Œå¯†é’¥å¿…é¡»å­˜å‚¨åœ¨ä¸¤ä¸ªåŒºåŸŸä¸­çš„æ¯ä¸€ä¸ªä¸­ã€‚</p><p>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€å°‘çš„è¿è¥å¼€é”€æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ</p><p>  A. åœ¨æ¯ä¸ªåŒºåŸŸåˆ›å»ºä¸€ä¸ª S3 å­˜å‚¨æ¡¶ã€‚é…ç½® S3 å­˜å‚¨æ¡¶ä»¥ä½¿ç”¨å¸¦æœ‰ Amazon S3 æ‰˜ç®¡åŠ å¯†å¯†é’¥ (SSE-S3) çš„æœåŠ¡å™¨ç«¯åŠ å¯†ã€‚é…ç½® S3 å­˜å‚¨æ¡¶ä¹‹é—´çš„å¤åˆ¶ã€‚</p><p>  <strong>B. åˆ›å»ºå®¢æˆ·ç®¡ç†çš„å¤šåŒºåŸŸ KMS å¯†é’¥ã€‚åœ¨æ¯ä¸ªåŒºåŸŸåˆ›å»ºä¸€ä¸ª S3 å­˜å‚¨æ¡¶ã€‚é…ç½® S3 å­˜å‚¨æ¡¶ä¹‹é—´çš„å¤åˆ¶ã€‚é…ç½®åº”ç”¨ç¨‹åºä»¥ä½¿ç”¨å¸¦æœ‰å®¢æˆ·ç«¯åŠ å¯†çš„ KMS å¯†é’¥ã€‚</strong></p><p>  C. åœ¨æ¯ä¸ªåŒºåŸŸä¸­åˆ›å»ºå®¢æˆ·ç®¡ç†çš„ KMS å¯†é’¥å’Œ S3 å­˜å‚¨æ¡¶ã€‚é…ç½® S3 å­˜å‚¨æ¡¶ä»¥ä½¿ç”¨å¸¦æœ‰Amazon S3 æ‰˜ç®¡åŠ å¯†å¯†é’¥ (SSE-S3) çš„æœåŠ¡å™¨ç«¯åŠ å¯†ã€‚é…ç½® S3 å­˜å‚¨æ¡¶ä¹‹é—´çš„å¤åˆ¶ã€‚</p><p>  D. åœ¨æ¯ä¸ªåŒºåŸŸä¸­åˆ›å»ºå®¢æˆ·ç®¡ç†çš„ KMS å¯†é’¥å’Œ S3 å­˜å‚¨æ¡¶ã€‚é…ç½® S3 å­˜å‚¨æ¡¶ä»¥ä½¿ç”¨å¸¦æœ‰AWS KMS å¯†é’¥çš„æœåŠ¡å™¨ç«¯åŠ å¯† (SSE-KMS)ã€‚é…ç½® S3 å­˜å‚¨æ¡¶ä¹‹é—´çš„å¤åˆ¶ã€‚</p><h2 id="501-C"><a href="#501-C" class="headerlink" title="501-C"></a>501-C</h2><p>  ä¸€å®¶å…¬å¸å¸Œæœ›å°†å®¢æˆ·æ”¯ä»˜æ•°æ®æå–åˆ°å…¬å¸çš„ Amazon S3 æ•°æ®æ¹–ä¸­ã€‚è¯¥å…¬å¸å¹³å‡æ¯åˆ†é’Ÿéƒ½ä¼š<br>  æ”¶åˆ°ä»˜æ¬¾æ•°æ®ã€‚è¯¥å…¬å¸å¸Œæœ›å®æ—¶åˆ†ææ”¯ä»˜æ•°æ®ã€‚ç„¶åè¯¥å…¬å¸å¸Œæœ›å°†æ•°æ®æå–åˆ°æ•°æ®æ¹–ä¸­ã€‚<br>  å“ªç§è§£å†³æ–¹æ¡ˆèƒ½å¤Ÿä»¥æœ€é«˜çš„è¿è¥æ•ˆç‡æ»¡è¶³è¿™äº›è¦æ±‚ï¼Ÿ<br>  A. ä½¿ç”¨ Amazon Kinesis Data Streams æå–æ•°æ®ã€‚ä½¿ç”¨ AWS Lambda å®æ—¶åˆ†ææ•°æ®ã€‚<br>  B. ä½¿ç”¨ AWS Glue æå–æ•°æ®ã€‚ä½¿ç”¨ Amazon Kinesis Data Analytics å®æ—¶åˆ†ææ•°æ®ã€‚</p><p>  C. ä½¿ç”¨ Amazon Kinesis Data Firehose æå–æ•°æ®ã€‚ä½¿ç”¨ Amazon Kinesis Data Analytics å®æ—¶<br>  åˆ†ææ•°æ®ã€‚</p><p>  <code>Kinesis Data Firehose å¯ä»¥ä»å¤šä¸ªæ•°æ®æºï¼ˆå¦‚æ—¥å¿—ã€ä¼ æ„Ÿå™¨æ•°æ®ã€åº”ç”¨ç¨‹åºäº‹ä»¶ç­‰ï¼‰ä¸­æ”¶é›†å®æ—¶æ•°æ®æµï¼Œå°†å…¶ä¼ è¾“åˆ°å„ç§ç›®æ ‡ã€‚</code><br>  D. ä½¿ç”¨ Amazon API Gateway æå–æ•°æ®ã€‚ä½¿ç”¨ AWS Lambda å®æ—¶åˆ†ææ•°æ®ã€‚<br>  æ­£ç¡®ç­”æ¡ˆï¼šC</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;422-D&quot;&gt;&lt;a href=&quot;#422-D&quot; class=&quot;headerlink&quot; title=&quot;422-D&quot;&gt;&lt;/a&gt;422-D&lt;/h2&gt;&lt;p&gt;  ä¸€å®¶å…¬å¸æ­£åœ¨ AWS ä¸Šå¼€å‘æ–°çš„æœºå™¨å­¦ä¹  (ML) æ¨¡å‹è§£å†³æ–¹æ¡ˆã€‚è¿™äº›æ¨¡å‹è¢«å¼€å‘ä¸ºç‹¬ç«‹çš„å¾®æœåŠ¡ï¼Œåœ¨å¯åŠ¨æ—¶ä» Am</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    
    <category term="DevOps" scheme="https://sosocrown.github.io/tags/DevOps/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>AWS-16ã€ ç½‘ç»œã€‘Route 53-åŸŸåç³»ç»Ÿ</title>
    <link href="https://sosocrown.github.io/2023/08/17/AWS-16%E3%80%90%20%E7%BD%91%E7%BB%9C%E3%80%91Route%2053-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F/"/>
    <id>https://sosocrown.github.io/2023/08/17/AWS-16%E3%80%90%20%E7%BD%91%E7%BB%9C%E3%80%91Route%2053-%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F/</id>
    <published>2023-08-16T16:00:00.000Z</published>
    <updated>2025-05-07T02:38:24.635Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Amazon-Route-53"><a href="#Amazon-Route-53" class="headerlink" title="Amazon Route 53"></a><strong>Amazon Route 53</strong></h1><p><img src="/images/Untitled%20165.png" alt="Untitled"></p><ul><li>â€œRoute 53â€æ˜¯æŒ‡ä¼ ç»ŸDNSä½¿ç”¨çš„ç«¯å£å·ï¼ˆ53ï¼‰</li></ul><ol><li><strong>åŸŸåè§£æ</strong>ï¼šRoute 53 å…è®¸æ‚¨å°†åŸŸåæ˜ å°„åˆ°å„ç§ AWS èµ„æºï¼Œå¦‚ **Amazon S3 å­˜å‚¨æ¡¶ã€Amazon EC2 å®ä¾‹ã€Elastic Load Balancerï¼ˆELBï¼‰**ç­‰ã€‚æ‚¨å¯ä»¥é…ç½® DNS è®°å½•ï¼Œå°†ç”¨æˆ·è¾“å…¥çš„åŸŸåè½¬æ¢ä¸º IP åœ°å€ï¼Œä»è€Œä½¿ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡åŸŸåè®¿é—®æ‚¨çš„èµ„æºã€‚</li><li><strong>é«˜å¯ç”¨å’Œå¯é æ€§</strong>ï¼šRoute 53 æä¾›å…¨çƒåˆ†å¸ƒçš„ DNS æœåŠ¡ï¼Œå…·æœ‰é«˜å¯ç”¨æ€§å’Œå¯é æ€§ã€‚å®ƒå°†è‡ªåŠ¨å°† DNS è®°å½•åˆ†å‘åˆ°å¤šä¸ªå…¨çƒè¾¹ç¼˜ä½ç½®ï¼Œä»¥ç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿå°±è¿‘è®¿é—®èµ„æºï¼Œæé«˜å“åº”é€Ÿåº¦å’Œå¯ç”¨æ€§ã€‚</li><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šRoute 53 å¯ä¸ Amazon Elastic Load Balancing é›†æˆï¼Œå®ç°è´Ÿè½½å‡è¡¡ã€‚æ‚¨å¯ä»¥é…ç½® DNS è®°å½•ï¼Œå°†æµé‡åˆ†å‘åˆ°ä¸åŒçš„è´Ÿè½½å‡è¡¡å™¨ï¼Œä»¥å®ç°é«˜å¯ç”¨æ€§å’Œæ€§èƒ½ä¼˜åŒ–ã€‚</li></ol><ul><li>èƒ½å¤Ÿæ£€æŸ¥æ‚¨çš„èµ„æºçš„å¥åº·çŠ¶æ€</li><li><strong>100% SLAä¿è¯</strong>ï¼šRoute 53æ˜¯å”¯ä¸€ä¸€ä¸ªAWSæœåŠ¡æä¾›100%å¯ç”¨æ€§çš„æœåŠ¡çº§åˆ«åè®®ï¼ˆSLAï¼‰ã€‚</li></ul><h3 id="â€œRoute-53-Active-Passiveâ€"><a href="#â€œRoute-53-Active-Passiveâ€" class="headerlink" title="â€œRoute 53 Active-Passiveâ€"></a>â€œRoute 53 Active-Passiveâ€</h3><p>æ˜¯ä¸€ç§æ¶æ„é…ç½®ï¼Œä¸»è¦ç”¨äºå®ç°é«˜å¯ç”¨æ€§å’Œæ•…éšœæ¢å¤ã€‚</p><p>åœ¨ Active-Passive é…ç½®ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸è€ƒè™‘ç³»ç»Ÿä¸­çš„ä¸¤ç§çŠ¶æ€ï¼šæ´»åŠ¨çŠ¶æ€ï¼ˆActiveï¼‰å’Œå¾…å‘½çŠ¶æ€ï¼ˆPassiveï¼‰ã€‚</p><ul><li><strong>æ´»åŠ¨çŠ¶æ€ï¼ˆActiveï¼‰ï¼š</strong> è¿™æ˜¯ç³»ç»Ÿä¸­å½“å‰æ­£åœ¨æä¾›æœåŠ¡çš„çŠ¶æ€ã€‚åœ¨ä¸€ä¸ª â€œRoute 53 Active-Passiveâ€ é…ç½®ä¸­ï¼Œæ´»åŠ¨çŠ¶æ€é€šå¸¸æŒ‡å‘ä¸€ä¸ªå®é™…æä¾›æœåŠ¡çš„èµ„æºï¼Œæ¯”å¦‚ä¸€ä¸ªæœåŠ¡å™¨ã€è™šæ‹Ÿæœºå®ä¾‹æˆ–åº”ç”¨ç¨‹åºã€‚</li><li><strong>å¾…å‘½çŠ¶æ€ï¼ˆPassiveï¼‰ï¼š</strong> è¿™æ˜¯ç³»ç»Ÿä¸­å¤‡ç”¨çš„ã€å¤„äºå¾…å‘½çŠ¶æ€çš„èµ„æºã€‚å®ƒä¸æä¾›å®é™…çš„æœåŠ¡ï¼Œè€Œæ˜¯ç­‰å¾…åœ¨æ´»åŠ¨çŠ¶æ€ä¸å¯ç”¨æ—¶æ¥ç®¡æœåŠ¡ã€‚å¾…å‘½çŠ¶æ€çš„èµ„æºä¼šä¸æ´»åŠ¨çŠ¶æ€èµ„æºä¿æŒåŒæ­¥ï¼Œä»¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li></ul><h3 id="Route-53æ•…éšœè½¬ç§»çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š"><a href="#Route-53æ•…éšœè½¬ç§»çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š" class="headerlink" title="Route 53æ•…éšœè½¬ç§»çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š"></a><strong>Route 53æ•…éšœè½¬ç§»</strong>çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š</h3><ol start="4"><li><strong>Failover Routing Policy</strong>ï¼šRoute 53çš„Failoverè·¯ç”±ç­–ç•¥å…è®¸æ‚¨é…ç½®ä¸»&#x2F;å¤‡ä»½èµ„æºï¼Œä»¥ä¾¿åœ¨ä¸»èµ„æºä¸å¯ç”¨æ—¶è‡ªåŠ¨å°†æµé‡åˆ‡æ¢åˆ°å¤‡ä»½èµ„æºã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†æµé‡å¼•å¯¼åˆ°ä¸»è¦AWSåŒºåŸŸä¸­çš„èµ„æºï¼Œä½†å¦‚æœè¯¥åŒºåŸŸå‘ç”Ÿæ•…éšœï¼ŒRoute 53å¯ä»¥å°†æµé‡åˆ‡æ¢åˆ°å¦ä¸€ä¸ªå¤‡ä»½åŒºåŸŸä¸­çš„èµ„æºã€‚</li><li><strong>Health Checks</strong>ï¼šæ‚¨å¯ä»¥è®¾ç½®Route 53çš„å¥åº·æ£€æŸ¥æ¥ç›‘æ§å„ä¸ªèµ„æºçš„å¯ç”¨æ€§ã€‚å½“ä¸»èµ„æºä¸å¯ç”¨æ—¶ï¼Œå¥åº·æ£€æŸ¥å¯ä»¥è‡ªåŠ¨è§¦å‘Route 53çš„Failoverç­–ç•¥ï¼Œå°†æµé‡åˆ‡æ¢åˆ°å¤‡ä»½èµ„æºã€‚</li><li><strong>Global Accelerator Integration</strong>ï¼šRoute 53å¯ä»¥ä¸AWS Global Acceleratorç»“åˆä½¿ç”¨ï¼Œä»¥æä¾›å…¨çƒçº§åˆ«çš„æµé‡ç®¡ç†å’Œæ•…éšœè½¬ç§»ã€‚Global Acceleratorå¯ä»¥ä¼˜åŒ–å…¨çƒèŒƒå›´å†…çš„æµé‡åˆ†å‘ï¼Œç¡®ä¿å°†ç”¨æˆ·æµé‡å¿«é€Ÿå¼•å¯¼åˆ°æœ€è¿‘çš„å¥åº·èµ„æºã€‚</li><li><strong>Latency-Based Routing</strong>ï¼šè™½ç„¶ä¸ç›´æ¥æ˜¯æ•…éšœè½¬ç§»ï¼Œä½†æ ¹æ®å»¶è¿Ÿçš„è·¯ç”±ç­–ç•¥å¯ä»¥ç¡®ä¿å°†ç”¨æˆ·æµé‡å¼•å¯¼åˆ°è·ç¦»æœ€è¿‘ä¸”å»¶è¿Ÿæœ€ä½çš„èµ„æºï¼Œä»è€Œæé«˜ç”¨æˆ·ä½“éªŒå¹¶å‡å°‘å»¶è¿Ÿã€‚</li></ol><h3 id="Routing-Policies-è·¯ç”±ç­–ç•¥"><a href="#Routing-Policies-è·¯ç”±ç­–ç•¥" class="headerlink" title="Routing Policies-è·¯ç”±ç­–ç•¥"></a>Routing Policies-<strong>è·¯ç”±ç­–ç•¥</strong></h3><ul><li><p>Defines how Route53 responds to DNS queries</p><p>  å®šä¹‰äº†å¦‚ä½•å°† DNS æŸ¥è¯¢è·¯ç”±åˆ°èµ„æº</p><p>  ä»¥ä¸‹æ˜¯å±•ç¤º Amazon Route 53 ä¸åŒè·¯ç”±ç­–ç•¥åŠå…¶ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯çš„è¡¨æ ¼ï¼š</p><table><thead><tr><th>è·¯ç”±ç­–ç•¥</th><th>ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ç®€å•è·¯ç”±ç­–ç•¥ï¼ˆSimpleï¼‰</td><td>æµé‡è·¯ç”±åˆ°ä¸€ä¸ªèµ„æº</td></tr><tr><td>æƒé‡è·¯ç”±ç­–ç•¥ï¼ˆWeightedï¼‰</td><td>- æŒ‰ç…§æƒé‡åˆ†é…åˆ°ä¸åŒèµ„æº</td></tr><tr><td>æ•…éšœè½¬ç§»è·¯ç”±ç­–ç•¥ï¼ˆFailoverï¼‰</td><td>- å½“æ´»åŠ¨å®ä¾‹<strong>æœªé€šè¿‡å¥åº·æ£€æŸ¥</strong>æ—¶ï¼Œå¤‡ç”¨å®ä¾‹å°†æ¥ç®¡å¹¶æˆä¸ºæ´»åŠ¨å®ä¾‹</td></tr><tr><td>åŸºäºå»¶è¿Ÿçš„è·¯ç”±ç­–ç•¥ï¼ˆLatencyï¼‰</td><td>- é‡å®šå‘åˆ°è·ç¦»ç”¨æˆ·æœ€è¿‘çš„èµ„æºï¼Œé€‚ç”¨äºè¦æ±‚<strong>ä½å»¶è¿Ÿçš„å…¨çƒæ€§åº”ç”¨</strong>ã€‚</td></tr><tr><td>åœ°ç†ä½ç½®è·¯ç”±ç­–ç•¥ï¼ˆGeolocationï¼‰</td><td>- åŸºäºç”¨æˆ·ä½ç½®è¿›è¡Œè·¯ç”±</td></tr><tr><td>å¤šå€¼è·¯ç”±ç­–ç•¥ï¼ˆMultivalueï¼‰</td><td>- ç”¨äºå°†æµé‡è·¯ç”±åˆ°å¤šä¸ªèµ„æº</td></tr></tbody></table><p>  è¿™ä¸ªè¡¨æ ¼å±•ç¤ºäº† Amazon Route 53 ä¸åŒçš„è·¯ç”±ç­–ç•¥ï¼Œä»¥åŠæ¯ä¸ªç­–ç•¥çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚å¸Œæœ›è¿™èƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´æ¸…æ¥šåœ°äº†è§£æ¯ç§è·¯ç”±ç­–ç•¥çš„ç”¨é€”å’Œä¼˜åŠ¿ã€‚</p></li></ul><h3 id="Simple-Routingï¼ˆç®€å•è·¯ç”±ï¼‰"><a href="#Simple-Routingï¼ˆç®€å•è·¯ç”±ï¼‰" class="headerlink" title="Simple Routingï¼ˆç®€å•è·¯ç”±ï¼‰:"></a><strong>Simple Routing</strong>ï¼ˆç®€å•è·¯ç”±ï¼‰:</h3><ul><li>è¿”å›å•ä¸ªèµ„æºçš„æ‰€æœ‰è®°å½•</li><li>å¦‚æœè¿”å›äº†å¤šä¸ªç›¸åŒè®°å½•çš„å€¼ï¼Œåˆ™å®¢æˆ·ç«¯å°†éšæœºé€‰æ‹©ä¸€ä¸ª</li><li>ä¸èƒ½ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”</li></ul><h3 id="Weighted-Routingï¼ˆåŠ æƒè·¯ç”±ï¼‰"><a href="#Weighted-Routingï¼ˆåŠ æƒè·¯ç”±ï¼‰" class="headerlink" title="Weighted Routingï¼ˆåŠ æƒè·¯ç”±ï¼‰:"></a><strong>Weighted Routing</strong>ï¼ˆåŠ æƒè·¯ç”±ï¼‰:</h3><ul><li>control traffic by weight</li><li>can be associated with Health Checks</li><li>Assign a weight of 0 to a record to stop sending traffic to a resource â€¢ If all records have we</li><li><strong>æŒ‰ç…§æƒé‡åˆ†é…åˆ°ä¸åŒèµ„æº</strong></li><li>æŒ‰æƒé‡æ§åˆ¶æµé‡</li><li>å¯ä»¥ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”</li><li>å°†è®°å½•çš„æƒé‡åˆ†é…ä¸º0ï¼Œä»¥åœæ­¢å‘èµ„æºå‘é€æµé‡</li><li>å¦‚æœæ‰€æœ‰è®°å½•çš„æƒé‡éƒ½ä¸º0ï¼Œåˆ™ä¸ä¼šå‘è¯¥èµ„æºå‘é€æµé‡</li></ul><h3 id="Failover-Routingï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰"><a href="#Failover-Routingï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰" class="headerlink" title="Failover Routingï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰:"></a><strong>Failover Routing</strong>ï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰:</h3><ul><li>When an active instance failed the health check, the standby instance will failover and become active</li></ul><p>å½“<strong>æ´»åŠ¨å®ä¾‹æœªé€šè¿‡å¥åº·æ£€æŸ¥æ—¶ï¼Œå¤‡ç”¨å®ä¾‹å°†æ¥ç®¡å¹¶æˆä¸ºæ´»åŠ¨å®ä¾‹ã€‚</strong></p><h3 id="Latency-based-Routingï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰"><a href="#Latency-based-Routingï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰" class="headerlink" title="Latency-based Routingï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰:"></a><strong>Latency-based Routing</strong>ï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰:</h3><ul><li>Redirect to the resource that has the least latency close to user</li><li>Latency is based on traffic between users and AWS Regions</li><li>Can be associated with Health Checks</li><li>é‡å®šå‘åˆ°è·ç¦»ç”¨æˆ·æœ€è¿‘çš„èµ„æº</li><li>å»¶è¿ŸåŸºäºç”¨æˆ·å’ŒAWSåŒºåŸŸä¹‹é—´çš„æµé‡</li><li>å¯ä»¥ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”</li></ul><h3 id="Geolocation-Routingï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰"><a href="#Geolocation-Routingï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰" class="headerlink" title="Geolocation Routingï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰:"></a><strong>Geolocation Routing</strong>ï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰:</h3><ul><li>This routing is based on user location</li><li>Can be associated with Health Checks</li></ul><h3 id="Multi-Value-Answer-Routingï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰"><a href="#Multi-Value-Answer-Routingï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰" class="headerlink" title="Multi-Value Answer Routingï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰:"></a><strong>Multi-Value Answer Routing</strong>ï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰:</h3><ul><li>Use when routing traffic to multiple resources</li><li>Each resource receives a separate DNS response, and Route 53 responds to DNS queries with multiple IP addresses.</li><li>Can be associated with Health Checks (return only values for healthy resources)</li><li>ç”¨äºå°†æµé‡è·¯ç”±åˆ°å¤šä¸ªèµ„æº</li><li>æ¯ä¸ªèµ„æºéƒ½ä¼šæ”¶åˆ°å•ç‹¬çš„ DNS å“åº”ï¼Œå¹¶ä¸” Route 53 ä¼šç”¨å¤šä¸ª IP åœ°å€å“åº” DNS æŸ¥è¯¢ã€‚</li><li>å¯ä»¥ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”ï¼ˆä»…è¿”å›å¥åº·èµ„æºçš„å€¼ï¼‰</li><li>æœ‰åŠ©äºå®ç°<strong>è´Ÿè½½å‡è¡¡</strong>å’Œ<strong>é«˜å¯ç”¨æ€§</strong>ã€‚</li></ul><h3 id="Geoproximity-Routingï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰"><a href="#Geoproximity-Routingï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰" class="headerlink" title="Geoproximity Routingï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰:"></a><strong>Geoproximity Routing</strong>ï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰:</h3><ul><li>Route traffic to your resources based on the geographic location of users and resources</li><li>Ability to shift more traffic to resources based on the defined bias</li></ul><h3 id="Route-53-â€“-Recordsè®°å½•é›†"><a href="#Route-53-â€“-Recordsè®°å½•é›†" class="headerlink" title="Route 53 â€“ Recordsè®°å½•é›†"></a><strong>Route 53 â€“ Records</strong>è®°å½•é›†</h3><p>ç”¨äºå°†åŸŸåæ˜ å°„åˆ°ç‰¹å®šèµ„æºï¼ˆä¾‹å¦‚IPåœ°å€ã€å…¶ä»–åŸŸåæˆ–è´Ÿè½½å‡è¡¡å™¨ï¼‰çš„ä¿¡æ¯</p><ul><li><strong>Domain&#x2F;subdomain Name</strong>Â â€“ e.g., example.com</li><li><strong>Record Type</strong>Â â€“ e.g., A or AAAA</li><li><strong>Value</strong>Â â€“ e.g., 12.34.56.78</li><li><strong>Routing Policy</strong>Â â€“ how Route 53 responds to queries</li><li><strong>TTLï¼ˆtime to liveï¼‰</strong>Â â€“ amount of time the record cached at DNS Resolvers</li></ul><h3 id="Record-Types-è®°å½•ç±»å‹"><a href="#Record-Types-è®°å½•ç±»å‹" class="headerlink" title="Record Types-è®°å½•ç±»å‹"></a><strong>Record Types-è®°å½•ç±»å‹</strong></h3><ul><li><strong>A</strong>Â â€“ maps a hostname to IPv4</li><li><strong>AAAA</strong>Â â€“ maps a hostname to IPv6</li><li><strong>CNAME</strong>Â â€“ maps a hostname to another hostname<ul><li>The target is a domain name which must have an A or AAAA record</li><li>Canâ€™t create a CNAME record for the top node of a DNS namespace (Zone Apex)</li><li>Example: you canâ€™t create for example.com, but you can create for <a href="http://www.example.com/">www.example.com</a></li></ul></li><li><strong>NS</strong>Â â€“ Name Servers for the Hosted Zone<ul><li>Control how traffic is routed for a domain</li></ul></li></ul><h3 id="hosted-zone-æ‰˜ç®¡åŒºåŸŸ"><a href="#hosted-zone-æ‰˜ç®¡åŒºåŸŸ" class="headerlink" title="hosted zone-æ‰˜ç®¡åŒºåŸŸ"></a>hosted zone-æ‰˜ç®¡åŒºåŸŸ</h3><p>Hosted Zoneï¼ˆæ‰˜ç®¡åŒºåŸŸï¼‰æ˜¯ä¸€ä¸ªä¸ç‰¹å®šåŸŸåï¼ˆä¾‹å¦‚ <a href="http://example.com/">example.com</a>ï¼‰å…³è”çš„ DNS åŒºåŸŸã€‚å®ƒåŒ…å«äº†è¯¥åŸŸåä¸‹æ‰€æœ‰ DNS è®°å½•çš„ä¿¡æ¯ï¼Œç”¨äºè§£æåŸŸååˆ°ç›¸åº”çš„ IP åœ°å€æˆ–å…¶ä»–èµ„æºã€‚</p><p><strong>ä¸€ä¸ªåŒ…å«å®šä¹‰å¦‚ä½•è·¯ç”±æµé‡åˆ°åŸŸååŠå…¶å­åŸŸåçš„è®°å½•çš„å®¹å™¨</strong></p><ul><li><strong>å…¬æœ‰æ‰˜ç®¡åŒºåŸŸ</strong><ul><li>åŒ…å«æŒ‡å®šå¦‚ä½•åœ¨äº’è”ç½‘ä¸Šè·¯ç”±æµé‡çš„è®°å½•</li></ul></li><li><strong>ç§æœ‰æ‰˜ç®¡åŒºåŸŸ</strong><ul><li>åŒ…å«æŒ‡å®šå¦‚ä½•åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªVPCä¸­è·¯ç”±æµé‡çš„è®°å½•</li></ul></li><li>æ¯ä¸ªæ‰˜ç®¡åŒºåŸŸæ¯æœˆæ”¶å–0.5ç¾å…ƒçš„è´¹ç”¨</li></ul><h3 id="Alias-Records-åˆ«åè®°å½•"><a href="#Alias-Records-åˆ«åè®°å½•" class="headerlink" title="Alias Records-åˆ«åè®°å½•"></a>Alias Records-<strong>åˆ«åè®°å½•</strong></h3><ul><li>å°†ä¸»æœºåæ˜ å°„åˆ°AWSèµ„æº</li><li>åˆ«åè®°å½•å§‹ç»ˆä¸ºAWSèµ„æºçš„ç±»å‹A&#x2F;AAAAï¼ˆIPv4&#x2F;IPv6ï¼‰</li><li>æ‚¨æ— æ³•è®¾ç½®TTL, route53è‡ªåŠ¨è®¾ç½®</li><li>æ‚¨æ— æ³•ä¸ºEC2 DNSåç§°è®¾ç½®åˆ«åè®°å½•</li><li>You cannot set an ALIAS record for an EC2 DNS name</li></ul><h3 id="Health-Checks-å¥åº·æ£€æŸ¥"><a href="#Health-Checks-å¥åº·æ£€æŸ¥" class="headerlink" title="Health Checks-å¥åº·æ£€æŸ¥"></a>Health Checks-å¥åº·æ£€æŸ¥</h3><ul><li>HTTP Health Checks are only for public resources</li><li>Health Check &#x3D;&gt; Automated DNS Failover</li><li>å¥åº·æ£€æŸ¥ä¸CloudWatchæŒ‡æ ‡é›†æˆ</li><li>é…ç½®è·¯ç”±å™¨&#x2F;é˜²ç«å¢™ä»¥å…è®¸æ¥è‡ªRoute 53 Health Checkersçš„ä¼ å…¥è¯·æ±‚</li></ul><h3 id="Health-checks-that-monitor-an-endpoint"><a href="#Health-checks-that-monitor-an-endpoint" class="headerlink" title="Health checks that monitor an endpoint"></a><strong>Health checks that monitor an endpoint</strong></h3><p>æ‚¨å¯ä»¥é…ç½®è¿è¡ŒçŠ¶å†µæ£€æŸ¥æ¥ç›‘æ§é€šè¿‡ IP åœ°å€æˆ–åŸŸåæŒ‡å®šçš„ç«¯ç‚¹ã€‚Route 53 æŒ‰ç…§æ‚¨æŒ‡å®šçš„å›ºå®šé—´éš”ï¼Œé€šè¿‡äº’è”ç½‘å‘æ‚¨çš„åº”ç”¨ç¨‹åºã€æœåŠ¡å™¨æˆ–å…¶å®ƒèµ„æºè‡ªåŠ¨æäº¤è¯·æ±‚ï¼Œä»¥éªŒè¯å…¶æ˜¯å¦å¯åˆ°è¾¾ã€æ˜¯å¦å¯ç”¨åŠåŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®è¿è¡ŒçŠ¶å†µæ£€æŸ¥æ¥å‘å‡ºä¸ç”¨æˆ·å‘å‡ºçš„è¯·æ±‚ç±»ä¼¼çš„è¯·æ±‚ï¼Œå¦‚ä»ç‰¹å®š URL è¯·æ±‚ç½‘é¡µã€‚</p><h3 id="calculated-health-checks"><a href="#calculated-health-checks" class="headerlink" title="calculated health checks"></a><strong>calculated health checks</strong></h3><ul><li>Combine the results of multiple Health Checks into a single Health Check</li><li>You can use OR, AND, or NOT</li><li>Can monitor up to 256 Child Health Checks</li><li>Specify how many of the health checks need to pass to make the parent pass</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Amazon-Route-53&quot;&gt;&lt;a href=&quot;#Amazon-Route-53&quot; class=&quot;headerlink&quot; title=&quot;Amazon Route 53&quot;&gt;&lt;/a&gt;&lt;strong&gt;Amazon Route 53&lt;/strong&gt;&lt;/h1&gt;&lt;p&gt;&lt;</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    
    <category term="DevOps" scheme="https://sosocrown.github.io/tags/DevOps/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>AWS-12ã€ architectureã€‘é€‰æ‹©åˆé€‚database</title>
    <link href="https://sosocrown.github.io/2023/08/16/AWS-12%E3%80%90%20architecture%E3%80%91%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82database/"/>
    <id>https://sosocrown.github.io/2023/08/16/AWS-12%E3%80%90%20architecture%E3%80%91%E9%80%89%E6%8B%A9%E5%90%88%E9%80%82database/</id>
    <published>2023-08-15T16:00:00.000Z</published>
    <updated>2025-05-07T02:38:08.763Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é€‰æ‹©åˆé€‚database"><a href="#é€‰æ‹©åˆé€‚database" class="headerlink" title="é€‰æ‹©åˆé€‚database"></a>é€‰æ‹©åˆé€‚database</h1><p><img src="/images/Untitled%2050.png" alt="Untitled"></p><p><strong>Online Transaction Processingâ€ï¼ˆåœ¨çº¿äº‹åŠ¡å¤„ç†ï¼‰</strong></p><p>å®ƒæ˜¯ä¸€ç§æ•°æ®åº“å¤„ç†æ–¹å¼ï¼Œç”¨äºå¤„ç†å®æ—¶äº¤æ˜“å’Œäº‹åŠ¡ã€‚OLTPç³»ç»Ÿæ—¨åœ¨æ”¯æŒå¹¶å‘çš„æ•°æ®åº“æ“ä½œï¼Œé€šå¸¸ç”¨äºå¤„ç†å¤§é‡çŸ­æœŸå’Œé¢‘ç¹çš„äº¤æ˜“è¯·æ±‚ï¼Œä¾‹å¦‚åœ¨çº¿è´­ä¹°ã€é“¶è¡Œäº¤æ˜“ã€èˆªç­é¢„è®¢ç­‰ã€‚</p><p>OLTPç³»ç»Ÿé€šå¸¸å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>å¿«é€Ÿçš„è¯»å†™æ“ä½œï¼šç”¨äºå¤„ç†å®æ—¶äº¤æ˜“ï¼Œéœ€è¦å¿«é€Ÿå“åº”å’Œå¤„ç†æ•°æ®åº“è®°å½•çš„æ’å…¥ã€æ›´æ–°å’ŒæŸ¥è¯¢æ“ä½œã€‚</li><li>äº‹åŠ¡æ”¯æŒï¼šOLTPç³»ç»Ÿå¿…é¡»æ”¯æŒACIDå±æ€§ï¼ˆåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼‰ï¼Œç¡®ä¿æ•°æ®åº“çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚</li><li>é«˜å¹¶å‘æ€§ï¼šOLTPç³»ç»Ÿé€šå¸¸é¢å¯¹è®¸å¤šç”¨æˆ·åŒæ—¶è¿›è¡Œäº¤æ˜“ï¼Œéœ€è¦èƒ½å¤Ÿå¤„ç†é«˜å¹¶å‘çš„è¯·æ±‚ã€‚</li><li>ç²¾ç»†çš„æ•°æ®æ¨¡å‹ï¼šOLTPç³»ç»Ÿçš„æ•°æ®æ¨¡å‹é€šå¸¸æ˜¯è§„èŒƒåŒ–çš„ï¼Œä»¥å‡å°‘æ•°æ®å†—ä½™å¹¶æé«˜æŸ¥è¯¢æ€§èƒ½ã€‚</li><li>å®æ—¶æ•°æ®è®¿é—®ï¼šOLTPç³»ç»Ÿæä¾›å®æ—¶æ•°æ®è®¿é—®ï¼Œå…è®¸ç”¨æˆ·å³æ—¶è·å–æœ€æ–°çš„äº¤æ˜“ä¿¡æ¯ã€‚</li></ul><h3 id="é€‚ç”¨äºOLTPçš„AWSæœåŠ¡ï¼š"><a href="#é€‚ç”¨äºOLTPçš„AWSæœåŠ¡ï¼š" class="headerlink" title="é€‚ç”¨äºOLTPçš„AWSæœåŠ¡ï¼š"></a>é€‚ç”¨äºOLTPçš„AWSæœåŠ¡ï¼š</h3><ol><li><strong>Amazon RDS</strong>ï¼ˆRelational Database Serviceï¼‰ï¼šæ”¯æŒå¤šç§å…³ç³»å‹æ•°æ®åº“å¼•æ“ï¼Œé€‚ç”¨äºåœ¨çº¿äº¤æ˜“å¤„ç†å’Œå®æ—¶äº‹åŠ¡ã€‚</li><li><strong>Amazon Aurora</strong>ï¼šæ˜¯RDSçš„ä¸€ä¸ªå˜ç§ï¼Œä¸“ä¸ºOLTPå·¥ä½œè´Ÿè½½è€Œè®¾è®¡ï¼Œå…·æœ‰é«˜æ€§èƒ½å’Œé«˜å¯ç”¨æ€§ã€‚</li><li><strong>Amazon DynamoDB</strong>ï¼šå…¨æ‰˜ç®¡çš„NoSQLæ•°æ®åº“ï¼Œé€‚ç”¨äºé«˜åº¦å¯æ‰©å±•çš„å®æ—¶äº¤æ˜“å¤„ç†å’Œé«˜å¹¶å‘æ“ä½œã€‚</li><li><strong>Amazon ElastiCache</strong>ï¼šæä¾›æ‰˜ç®¡çš„å†…å­˜ç¼“å­˜æœåŠ¡ï¼ŒåŠ é€Ÿè¯»å–æ“ä½œï¼Œé€‚ç”¨äºç¼“å­˜é¢‘ç¹è¯»å–çš„äº¤æ˜“æ•°æ®ã€‚</li></ol><h3 id="RDBMS"><a href="#RDBMS" class="headerlink" title="RDBMS"></a>RDBMS</h3><p>ä»£è¡¨å…³ç³»æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRelational Database Management Systemï¼‰ï¼Œæ˜¯ä¸€ç§åŸºäºå…³ç³»å‹æ•°æ®åº“æ¨¡å‹çš„è½¯ä»¶ç³»ç»Ÿã€‚å®ƒæ˜¯ç”¨äºç®¡ç†å’Œæ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸“ç”¨è½¯ä»¶ã€‚</p><p>åœ¨RDBMSä¸­ï¼Œæ•°æ®ä»¥è¡¨æ ¼çš„å½¢å¼ç»„ç»‡ï¼Œæ¯ä¸ªè¡¨æ ¼ç”±è¡Œå’Œåˆ—ç»„æˆã€‚æ¯è¡Œä»£è¡¨ä¸€ä¸ªè®°å½•ï¼Œæ¯åˆ—ä»£è¡¨è®°å½•çš„å±æ€§æˆ–å­—æ®µã€‚RDBMSä½¿ç”¨ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼ˆSQLï¼‰æ¥æ“ä½œå’ŒæŸ¥è¯¢æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚</p><p>RDBMSå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ol><li><strong>è¡¨æ ¼ç»“æ„</strong>ï¼šæ•°æ®ä»¥è¡¨æ ¼å½¢å¼å­˜å‚¨ï¼Œæ¯ä¸ªè¡¨æ ¼æœ‰å”¯ä¸€çš„åç§°ï¼Œå¹¶å®šä¹‰äº†æ•°æ®çš„ç»“æ„å’Œçº¦æŸã€‚</li><li><strong>å…³ç³»</strong>ï¼šä¸åŒè¡¨æ ¼ä¹‹é—´å¯ä»¥å»ºç«‹å…³ç³»ï¼Œé€šè¿‡ä½¿ç”¨ä¸»é”®å’Œå¤–é”®æ¥è¿æ¥æ•°æ®ã€‚</li><li><strong>æ•°æ®å®Œæ•´æ€§</strong>ï¼šRDBMSæ”¯æŒå®šä¹‰æ•°æ®å®Œæ•´æ€§è§„åˆ™ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå‡†ç¡®æ€§ã€‚</li><li><strong>äº‹åŠ¡æ”¯æŒ</strong>ï¼šRDBMSæ”¯æŒäº‹åŠ¡å¤„ç†ï¼Œä¿è¯æ•°æ®çš„åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ï¼ˆACIDå±æ€§ï¼‰ã€‚</li><li><strong>å¹¶å‘æ§åˆ¶</strong>ï¼šRDBMSèƒ½å¤Ÿå¤„ç†å¤šç”¨æˆ·åŒæ—¶å¯¹æ•°æ®åº“è¿›è¡Œè¯»å†™çš„æƒ…å†µï¼Œå¹¶ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚</li><li><strong>æŸ¥è¯¢è¯­è¨€</strong>ï¼šé€šè¿‡ä½¿ç”¨SQLï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æŸ¥è¯¢å’Œæ“ä½œæ•°æ®åº“ä¸­çš„æ•°æ®ã€‚</li></ol><p>å¸¸è§çš„RDBMSåŒ…æ‹¬MySQLã€Oracle Databaseã€Microsoft SQL Serverã€PostgreSQLå’ŒIBM DB2ç­‰ã€‚RDBMSè¢«å¹¿æ³›ç”¨äºä¼ä¸šå’Œç»„ç»‡ä¸­ï¼Œç”¨äºç®¡ç†å’Œå­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ï¼Œå¦‚ä¸šåŠ¡æ•°æ®ã€å®¢æˆ·ä¿¡æ¯ã€äº¤æ˜“è®°å½•ç­‰ã€‚</p><h2 id="Amazon-RDS"><a href="#Amazon-RDS" class="headerlink" title="AmazonÂ RDS"></a>AmazonÂ RDS</h2><ul><li>ManagedÂ PostgreSQL&#x2F;Â MySOLÂ &#x2F;Â Oracle&#x2F;Â SOLÂ Server&#x2F;Â MariaDBÂ &#x2F;Â Custom<ul><li><p>ProvisionedÂ RDSÂ InstanceÂ SizeÂ andÂ EBSÂ VolumeÂ TypeÂ &amp;Â Size</p></li><li><p>Auto-scalingÂ capabilityÂ forÂ Storage</p></li><li><p>SupportÂ forÂ ReadÂ ReplicasÂ andÂ MultiÂ AZ</p></li><li><p>SecurityÂ throughÂ lAM,Â SecurityÂ Groups,Â KMS, SSLÂ inÂ transit</p></li><li><p>AutomatedÂ BackupÂ withÂ PointÂ inÂ timeÂ restoreÂ featureÂ (upÂ toÂ 35Â days)</p></li><li><p>ManualÂ DBÂ SnapshotÂ forÂ longer-termÂ recovery</p></li><li><p>ManagedÂ andÂ ScheduledÂ maintenanceÂ (withÂ downtime)</p></li><li><p>SupportÂ for IAMÂ Authentication,Â integrationÂ withÂ SecretsÂ Manager</p></li><li><p>RDSÂ CustomÂ forÂ accessÂ toÂ andÂ customizeÂ theÂ underlyingÂ instanceÂ (OracleÂ &amp;Â SQLÂ Server)</p></li><li><p>UseÂ case:Â StoreÂ relationalÂ datasetsÂ (RDBMSÂ &#x2F;Â OLTP),Â performÂ SQLÂ queries,Â transactions</p></li></ul></li><li>ä¸º RDS å®ä¾‹å¤§å°å’Œ EBS å·ç±»å‹å’Œå¤§å°æä¾›æ”¯æŒ</li><li>å­˜å‚¨Auto-scalingÂ capability</li><li>æ”¯æŒÂ ReadÂ ReplicasÂ andÂ MultiÂ AZ</li><li>é€šè¿‡IAMã€å®‰å…¨ç»„ã€KMS,SSLå®ç°å®‰å…¨æ€§ä¼ è¾“</li><li><strong>è‡ªåŠ¨å¤‡ä»½ï¼Œå…·å¤‡ç‚¹æ—¶é—´è¿˜åŸåŠŸèƒ½ï¼ˆé•¿è¾¾35å¤©ï¼‰</strong></li><li>ç”¨äºé•¿æœŸæ¢å¤çš„æ‰‹åŠ¨DB Snapshot</li><li>ç®¡ç†å’Œå®šæœŸç»´æŠ¤ï¼ˆwithÂ downtimeï¼‰</li><li>æ”¯æŒIAMè®¤è¯ï¼Œä¸Secrets Manager é›†æˆ</li><li>RDS Custom ç”¨äºè®¿é—®å’Œè‡ªå®šä¹‰åº•å±‚å®ä¾‹ï¼ˆOracle å’Œ SQL Serverï¼‰</li></ul><aside>ğŸ‹ use caseï¼šå­˜å‚¨å…³ç³»æ•°æ®é›†ï¼ˆRDBMS/ OLTPï¼‰ï¼Œæ‰§è¡ŒSQLæŸ¥è¯¢ï¼Œäº‹åŠ¡</aside><h2 id="Amazon-Aurora"><a href="#Amazon-Aurora" class="headerlink" title="AmazonÂ Aurora"></a>AmazonÂ Aurora</h2><ul><li><p>CompatibleÂ APIÂ forÂ PostgreSQLÂ &#x2F;Â MySQL,Â separationÂ ofÂ storageÂ andÂ compute</p><ul><li>Storage:Â dataÂ isÂ storedÂ inÂ 6Â replicas,Â acrossÂ 3Â AZÂ -highlyÂ available,Â self-healing,Â auto-scaling</li><li>Compute:Â ClusterÂ ofÂ DBÂ InstanceÂ acrossÂ multipleÂ AZ, auto-scalingÂ ofÂ ReadÂ Replicas</li><li>Cluster:Â CustomÂ endpointsÂ forÂ writerÂ andÂ readerÂ DBÂ instances</li><li>SameÂ securityÂ &#x2F;Â monitoring&#x2F;Â maintenanceÂ featuresÂ asÂ RDS</li><li>KnowÂ theÂ backupÂ &amp;Â restoreÂ optionsÂ forÂ Aurora</li><li><strong>AuroraÂ Serverless</strong>Â -Â forÂ unpredictableÂ &#x2F;Â intermittentÂ workloads,Â noÂ capacityÂ planning</li><li><strong>AuroraÂ Multi-Master</strong>Â -Â forÂ continuousÂ writesÂ failoverÂ (highÂ writeÂ availability)</li><li><strong>AuroraÂ Global</strong>:Â upÂ toÂ 16Â DBÂ ReadÂ instancesÂ inÂ eachÂ region,Â &lt;Â IÂ secondÂ storageÂ replication</li><li><strong>AuroraÂ MachineÂ Learning:</strong>Â performÂ MLÂ usingÂ SageMakerÂ &amp;Â ComprehendÂ onÂ Aurora</li><li><strong>AuroraÂ DatabaseÂ Cloning</strong>: newÂ clusterÂ fromÂ existingÂ one,Â fasterÂ thanÂ restoringÂ aÂ snapshot</li><li>UseÂ case:Â sameÂ asÂ RDS,butÂ withÂ lessÂ maintenanceÂ &#x2F;Â moreÂ flexibilityÂ &#x2F;Â moreÂ performanceÂ &#x2F;Â moreÂ features</li></ul><p>  <img src="/images/Untitled%2051.png" alt="Untitled">  </p></li><li><p>å…¼å®¹çš„ PostgreSQL &#x2F; MySQL APIï¼Œå­˜å‚¨å’Œè®¡ç®—åˆ†ç¦»</p></li><li><p>å­˜å‚¨ï¼šæ•°æ®å­˜å‚¨åœ¨6ä¸ªå‰¯æœ¬ä¸­ï¼Œè·¨è¶Š3ä¸ªå¯ç”¨åŒº, é«˜å¯ç”¨ã€è‡ªæˆ‘ä¿®å¤ã€è‡ªåŠ¨æ‰©å±•</p></li><li><p>è®¡ç®—ï¼šClusterÂ ofÂ DBÂ InstanceÂ acrossÂ multipleÂ AZ,ï¼Œ auto-scalingÂ ofÂ ReadÂ Replicas</p></li><li><p>é›†ç¾¤:ç¼–å†™å™¨å’Œé˜…è¯»å™¨DBå®ä¾‹çš„è‡ªå®šä¹‰ç»ˆç«¯èŠ‚ç‚¹</p></li><li><p>ä¸RDSç›¸åŒçš„å®‰å…¨&#x2F;ç›‘æ§&#x2F;ç»´æŠ¤åŠŸèƒ½</p></li><li><p>äº†è§£Auroraçš„å¤‡ä»½å’Œæ¢å¤é€‰é¡¹</p></li><li><p><strong>Aurora Serverless</strong> - é€‚ç”¨äºä¸å¯é¢„æµ‹&#x2F;<strong>é—´æ­‡æ€§</strong>å·¥ä½œè´Ÿè½½ï¼Œ<strong>æ— éœ€å®¹é‡è§„åˆ’</strong></p></li><li><p><strong>Aurora Multi-Master</strong> - forÂ continuousÂ writesÂ failoverÂ ç”¨äºè¿ç»­å†™å…¥æ•…éšœè½¬ç§»ï¼ˆé«˜å†™å…¥å¯ç”¨æ€§ï¼‰</p></li><li><p><strong>Aurora Global</strong>ï¼šåœ¨æ¯ä¸ªåŒºåŸŸä¸­æœ€å¤šæœ‰16ä¸ªDBè¯»å–å®ä¾‹ï¼ŒstorageÂ replicationå­˜å‚¨å¤åˆ¶å°äº1ç§’</p></li><li><p><strong>Aurora Machine Learning</strong>ï¼šä½¿ç”¨SageMakerå’ŒComprehendåœ¨Auroraä¸Šæ‰§è¡ŒML</p></li><li><p><strong>Aurora Database Cloning</strong>ï¼šä»ç°æœ‰é›†ç¾¤åˆ›å»ºæ–°é›†ç¾¤ï¼Œæ¯”æ¢å¤å¿«</p>  <aside>  ğŸ‹ use caseï¼šä¸RDSç›¸åŒï¼Œä½†ç»´æŠ¤è¾ƒå°‘/æ›´çµæ´»/æ€§èƒ½æ›´å¥½/å…·æœ‰æ›´å¤šåŠŸèƒ½AZ    </aside></li></ul><h2 id="Amazon-ElastiCache"><a href="#Amazon-ElastiCache" class="headerlink" title="AmazonÂ ElastiCache"></a>AmazonÂ ElastiCache</h2><ul><li><p>ManagedÂ Redis&#x2F;Â MemcachedÂ (similarÂ offeringÂ asÂ RDS,Â butÂ forÂ caches)</p><ul><li>In-memoryÂ dataÂ store,Â sub-millisecondÂ latency</li><li>Must provisionÂ anÂ EC2Â instanceÂ type</li><li>SupportÂ forÂ ClusteringÂ (Redis)Â andÂ MultiÂ AZ,Â ReadÂ ReplicasÂ (sharding)</li><li>SecurityÂ throughÂ IAM,Â SecurityÂ Groups,Â KMS,Â RedisÂ Auth</li><li>BackupÂ &#x2F;Â SnapshotÂ &#x2F;Â PointÂ inÂ timeÂ restoreÂ feature</li><li>ManagedÂ andÂ ScheduledÂ maintenance</li><li><strong>RequiresÂ someÂ applicationÂ codeÂ changesÂ toÂ beÂ leveraged</strong></li></ul>  <aside>  ğŸ‹ UseÂ Case:Â Key/ValueÂ store,Â FrequentÂ reads,Â lessÂ writes,Â cacheÂ resultsÂ forÂ DB queries,Â storeÂ sessionÂ dataÂ forÂ websites,Â cannotÂ useÂ SQL    </aside>  <p>  <img src="/images/Untitled%2052.png" alt="Untitled">  </p></li><li><p>å†…å­˜æ•°æ®å­˜å‚¨ï¼Œ<strong>äºšæ¯«ç§’å»¶è¿Ÿsub-millisecondÂ latency</strong></p></li><li><p>compatible with Redis or Memcached.</p></li><li><p>å¿…é¡»é¢„é…EC2å®ä¾‹ç±»å‹</p></li><li><p>æ”¯æŒé›†ç¾¤ï¼ˆRedisï¼‰å’Œå¤šAZï¼Œè¯»å–å‰¯æœ¬ï¼ˆåˆ†ç‰‡ï¼‰ReadÂ ReplicasÂ (sharding)</p></li><li><p>é€šè¿‡IAMï¼ŒSecurity Groupsï¼ŒKMSï¼ŒRedis Authå®ç°å®‰å…¨æ€§</p></li><li><p>å¤‡ä»½&#x2F;å¿«ç…§&#x2F;æ—¶é—´ç‚¹æ¢å¤åŠŸèƒ½</p></li><li><p>æ‰˜ç®¡å’Œè®¡åˆ’ç»´æŠ¤</p></li><li><p><strong>éœ€è¦æ›´æ”¹åº”ç”¨ç¨‹åºä»£ç æ‰èƒ½åˆ©ç”¨</strong></p></li></ul><aside>ğŸ‹ ç”¨ä¾‹ï¼šé”®/å€¼å­˜å‚¨ï¼Œé¢‘ç¹è¯»å–ï¼Œè¾ƒå°‘å†™å…¥ï¼Œç¼“å­˜DBæŸ¥è¯¢ç»“æœï¼Œå­˜å‚¨ç½‘ç«™ä¼šè¯æ•°æ®ï¼Œæ— æ³•ä½¿ç”¨SQL</aside><h2 id="Amazon-DynamoDB"><a href="#Amazon-DynamoDB" class="headerlink" title="AmazonÂ DynamoDB"></a>AmazonÂ DynamoDB</h2><ul><li><p>AWSÂ proprietaryÂ technology,managedÂ serverlessÂ NoSOLÂ database,Â milisecondÂ latency</p><ul><li>CapacityÂ modes:Â provisionedÂ capacityÂ withÂ optionalÂ auto-scalingÂ orÂ on-demandÂ capacity</li><li>CanÂ replaceÂ ElastiCacheÂ asÂ aÂ key&#x2F;valueÂ storeÂ (storingÂ sessionÂ dataÂ forÂ example,Â usingÂ TLÂ feature)</li><li>HighlyÂ Available,Â MultiÂ AZÂ byÂ default,Â ReadÂ andÂ WritesÂ areÂ decoupled,Â transactionÂ capability</li><li>DAXÂ clusterÂ forÂ readÂ cache,Â microsecondÂ readÂ latency</li><li>SecurityÂ authenticationÂ andÂ authorizationÂ isÂ doneÂ throughÂ IAM</li><li>EventÂ Processing:Â DynamoDBÂ StreamsÂ toÂ integrateÂ withÂ AWSÂ Lambda,Â orÂ KinesisÂ DataÂ Streams</li><li>GlobalÂ TableÂ feature;Â activeÂ -activeÂ setup</li><li>AutoratedÂ backupsÂ upÂ toÂ 35Â daysÂ withÂ PITRÂ (restoreÂ toÂ newÂ table),Â orÂ on demandÂ backupsÂ ExportÂ toÂ S3Â withoutÂ usingÂ RCUÂ withinÂ theÂ PITR,Â window,Â importÂ fromÂ S3Â withoutÂ usingÂ WCUâ€¢Â GreatÂ toÂ rapidlyÂ evolveÂ schemas</li></ul>  <aside>  ğŸ‹ UseÂ Case:Â Serverless applicationsÂ development (smallÂ documentsÂ 100sÂ KB),Â distributedÂ serverless       cache,Â doesn'tÂ haveÂ SOLÂ queryÂ languageÂ available    </aside>  <p>  <img src="/images/Untitled%2053.png" alt="Untitled"></p></li></ul><p><img src="/images/Untitled%2054.png" alt="Untitled"></p><ul><li>Amazon DynamoDB is a key-value, document, NoSQL database.</li><li>AWSä¸“æœ‰æŠ€æœ¯ï¼Œæ‰˜ç®¡æ— æœåŠ¡å™¨NoSQLæ•°æ®åº“ï¼Œæ¯«ç§’çº§å»¶è¿ŸÂ milisecondÂ latency</li><li>å®¹é‡æ¨¡å¼ï¼šé¢„ç½®å®¹é‡å’Œå¯é€‰è‡ªåŠ¨æ‰©å±•æˆ–æŒ‰éœ€å®¹é‡</li><li>å¯ä»¥æ›¿æ¢ElastiCacheä½œä¸ºé”®&#x2F;å€¼å­˜å‚¨ï¼ˆä¾‹å¦‚å­˜å‚¨ä¼šè¯æ•°æ®ï¼Œä½¿ç”¨TLåŠŸèƒ½ï¼‰</li><li>é»˜è®¤é«˜å¯ç”¨æ€§ï¼Œå¤šAZï¼Œè¯»å†™è§£è€¦ï¼Œå…·æœ‰äº‹åŠ¡åŠŸèƒ½</li><li><strong>DAXé›†ç¾¤ç”¨äºè¯»å–ç¼“å­˜ï¼Œå¾®ç§’çº§è¯»å–å»¶è¿Ÿ</strong></li><li>å®‰å…¨è®¤è¯å’Œæˆæƒé€šè¿‡IAMå®Œæˆ</li><li>äº‹ä»¶å¤„ç†ï¼šDynamoDB Streamsä¸AWS Lambdaæˆ–Kinesis Data Streamsé›†æˆ</li><li>å…¨å±€è¡¨åŠŸèƒ½ï¼›<strong>ä¸»åŠ¨-ä¸»åŠ¨è®¾ç½®</strong></li><li>è‡ªåŠ¨åŒ–å¤‡ä»½é•¿è¾¾35å¤©ï¼Œå…·æœ‰PITRï¼ˆè¿˜åŸåˆ°æ–°è¡¨ï¼‰æˆ–æŒ‰éœ€å¤‡ä»½ï¼Œå¯åœ¨PITRçª—å£å†…æ— éœ€ä½¿ç”¨RCUå¯¼å‡ºåˆ°S3ï¼Œä»S3å¯¼å…¥æ— éœ€ä½¿ç”¨WCU</li><li><strong>é€‚ç”¨äºå¿«é€Ÿæ¼”å˜çš„æ¶æ„</strong></li></ul><aside>ğŸ‹ ç”¨ä¾‹ï¼šæ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºå¼€å‘ï¼ˆå°å‹æ–‡æ¡£100 KBï¼‰ï¼Œåˆ†å¸ƒå¼æ— æœåŠ¡å™¨ç¼“å­˜ï¼Œ**doesn'tÂ haveÂ SOLÂ queryÂ languageÂ available**</aside><h2 id="Amazon-S3"><a href="#Amazon-S3" class="headerlink" title="AmazonÂ S3"></a>AmazonÂ S3</h2><ul><li><p>S3Â isÂ aâ€¦Â key&#x2F;Â valueÂ storeÂ forÂ objects</p><ul><li>GreatÂ forÂ biggerÂ objects,Â notÂ soÂ greatÂ forÂ manyÂ smallÂ objects</li><li>Serverless,Â scalesÂ infinitely,Â maxÂ objectÂ sizeÂ isÂ 5Â TB,Â versioningÂ capability</li><li>Tiers:Â S3Â Standard,Â S3Â InfrequentÂ Access,Â S3Â Intelligent,Â S3Â GlacierÂ +Â lifecycleÂ policy</li><li>Features:Â Versioning,Â Encryption,Â Replication,Â MFA-Delete,Â AccessÂ Logsâ€¦</li><li>Security.Â I&#x2F;AM,Â BucketÂ Palicies,Â ACL,Â AccessÂ Points,Â ObjectÂ Lambda,Â CORS.Â Object&#x2F;autÂ Lock</li><li>Encryption:Â SSE-S3,Â SSE-KMS,Â SSE-C,Â client-side,Â TLSÂ inÂ transit,Â defaultÂ encryption</li><li>BatchÂ operationsÂ onÂ objectsÂ usingÂ S3Â Batch,Â listingÂ filesÂ usingÂ S3Â Inventory</li><li>Performance:Â Multi-partÂ upload,Â S3Â TransferÂ Acceleration,Â S3Â Select</li><li>Automation:Â S3Â EventÂ NotificationsÂ (SNS,Â SOS,Â Lambda,Â EventBridge)</li><li>UseÂ Cases;Â staticÂ files,Â keyÂ valueÂ storeÂ forÂ bigÂ files,Â websiteÂ hosting</li></ul><p>  <img src="/images/Untitled%2055.png" alt="Untitled">  </p></li><li><p>S3æ˜¯ä¸€ä¸ªç”¨äºobjectçš„<strong>é”®&#x2F;å€¼å­˜å‚¨ç³»ç»Ÿ</strong></p></li><li><p>éå¸¸é€‚åˆå­˜å‚¨å¤§å‹å¯¹è±¡ï¼Œä½†å¯¹äº<strong>å¤§é‡</strong>å°å¯¹è±¡åˆ™ä¸å¤ªé€‚ç”¨</p></li><li><p><strong>æ— æœåŠ¡å™¨</strong>æ¶æ„ï¼Œå¯æ— é™æ‰©å±•ï¼Œå•ä¸ªå¯¹è±¡æœ€å¤§å¤§å°ä¸º5TBï¼Œæ”¯æŒversioning</p></li><li><p>å­˜å‚¨ç±»å‹ï¼šS3Â Standard,Â S3Â InfrequentÂ Access,Â S3Â Intelligent,Â S3Â GlacierÂ +Â lifecycleÂ policy</p></li><li><p>åŠŸèƒ½ï¼šç‰ˆæœ¬æ§åˆ¶ã€åŠ å¯†ã€å¤åˆ¶ã€MFA-åˆ é™¤ã€è®¿é—®æ—¥å¿—ç­‰ç­‰</p></li><li><p>å®‰å…¨æ€§ï¼šIAMã€å­˜å‚¨æ¡¶ç­–ç•¥ã€ACLã€è®¿é—®ç‚¹ã€å¯¹è±¡Lambdaã€CORSã€å¯¹è±¡&#x2F;è‡ªåŠ¨é”å®š</p></li><li><p>åŠ å¯†ï¼šSSE-S3ã€SSE-KMSã€SSE-Cã€å®¢æˆ·ç«¯åŠ å¯†ã€TLSÂ inÂ transitã€é»˜è®¤åŠ å¯†</p></li><li><p>ä½¿ç”¨S3 Batchè¿›è¡Œå¯¹è±¡æ‰¹é‡æ“ä½œï¼Œä½¿ç”¨S3 Inventoryåˆ—å‡ºæ–‡ä»¶</p></li><li><p>æ€§èƒ½ï¼šMulti-partÂ upload,Â S3Â TransferÂ Acceleration,Â S3Â Select</p></li><li><p>è‡ªåŠ¨åŒ–ï¼šS3äº‹ä»¶é€šçŸ¥ï¼ˆSNSã€SOSã€Lambdaã€EventBridgeï¼‰</p></li></ul><aside>ğŸ‹ ä½¿ç”¨åœºæ™¯ï¼šé™æ€æ–‡ä»¶å­˜å‚¨staticÂ filesã€å¤§æ–‡ä»¶çš„é”®å€¼å­˜å‚¨Â keyÂ valueÂ storeÂ forÂ bigÂ filesã€ç½‘ç«™æ‰˜ç®¡Â websiteÂ hosting</aside><h2 id="DocumentDB"><a href="#DocumentDB" class="headerlink" title="DocumentDB"></a>DocumentDB</h2><ul><li><p>documentDB</p><p>  <img src="/images/Untitled%2056.png" alt="Untitled"></p></li><li><p>Auroraæ˜¯å¯¹PostgreSQL &#x2F; MySQLçš„AWSå®ç°â€¦</p></li><li><p><strong>DocumentDBæ˜¯MongoDBçš„AWSå®ç°ï¼ˆMongoDBæ˜¯ä¸€ç§NoSQLæ•°æ®åº“ï¼‰</strong></p></li><li><p>MongoDBç”¨äºå­˜å‚¨ã€æŸ¥è¯¢å’Œç´¢å¼•JSONæ•°æ®</p></li><li><p>ä¸Auroraç±»ä¼¼çš„éƒ¨ç½²æ¦‚å¿µ</p></li><li><p>å®Œå…¨æ‰˜ç®¡ï¼Œé«˜å¯ç”¨æ€§ï¼Œè·¨3ä¸ªå¯ç”¨åŒºè¿›è¡Œå¤åˆ¶</p></li><li><p>Auroraå­˜å‚¨ä¼šè‡ªåŠ¨å¢é•¿ï¼Œæ¯æ¬¡å¢åŠ 10GBï¼Œæœ€å¤šå¯è¾¾64TBã€‚</p></li><li><p>automatically scales to workloads with millions of request per seconds</p></li></ul><p>è‡ªåŠ¨ç¼©æ”¾ä»¥å¤„ç†æ¯ç§’æ•°ç™¾ä¸‡ä¸ªè¯·æ±‚çš„å·¥ä½œè´Ÿè½½</p><h2 id="Neptune"><a href="#Neptune" class="headerlink" title="Neptune"></a>Neptune</h2><ul><li><p>neptune</p><p>  <img src="/images/Untitled%2057.png" alt="Untitled"></p></li></ul><p>Amazon Neptune is a <strong>fast, reliable, fully-managed graph database service</strong> that makes it easy to build and run applications that work with highly connected datasets</p><ul><li>Neptuneæ˜¯ä¸€ä¸ªæ‰˜ç®¡çš„å›¾å½¢æ•°æ®åº“æœåŠ¡ï¼Œç”¨äºæ„å»ºå›¾å½¢æ•°æ®åº”ç”¨ç¨‹åºã€‚</li><li>æ”¯æŒå›¾å½¢æ•°æ®åº“æ¨¡å‹å’Œå›¾å½¢æŸ¥è¯¢è¯­è¨€ï¼Œå¤„ç†å¤æ‚çš„å…³ç³»å‹æ•°æ®ã€‚</li><li>å®Œå…¨æ‰˜ç®¡çš„å›¾å½¢æ•°æ®åº“</li><li>ä¸€ä¸ªæµè¡Œçš„å›¾å½¢æ•°æ®é›†å¯ä»¥æ˜¯ä¸€ä¸ªç¤¾äº¤ç½‘ç»œ<ul><li>ç”¨æˆ·æ‹¥æœ‰æœ‹å‹</li><li>å¸–å­æœ‰è¯„è®º</li><li>è¯„è®ºæœ‰ç”¨æˆ·çš„å–œæ¬¢</li><li>ç”¨æˆ·åˆ†äº«å’Œå–œæ¬¢å¸–å­â€¦â€¦</li></ul></li><li>åœ¨3ä¸ªå¯ç”¨åŒºå†…é«˜å¯ç”¨æ€§ï¼Œæœ€å¤šæ”¯æŒ15ä¸ªè¯»å–å‰¯æœ¬</li><li>æ„å»ºå’Œè¿è¡Œä¸é«˜åº¦è¿æ¥çš„æ•°æ®é›†åˆä¸€èµ·å·¥ä½œçš„åº”ç”¨ç¨‹åº - ä¸ºè¿™äº›å¤æ‚å’Œç¹é‡çš„æŸ¥è¯¢è¿›è¡Œäº†ä¼˜åŒ–</li><li>å¯ä»¥å­˜å‚¨ä¸Šç™¾äº¿ä¸ªå…³ç³»å¹¶ä»¥æ¯«ç§’çº§çš„å»¶è¿ŸæŸ¥è¯¢å›¾</li><li>é€šè¿‡å¤šä¸ªå¯ç”¨åŒºè¿›è¡Œå¤åˆ¶æ¥å®ç°é«˜å¯ç”¨æ€§</li></ul><aside>ğŸ‹ é€‚ç”¨äºçŸ¥è¯†å›¾è°±ï¼ˆå¦‚ç»´åŸºç™¾ç§‘ï¼‰ã€æ¬ºè¯ˆæ£€æµ‹ã€æ¨èå¼•æ“ã€ç¤¾äº¤ç½‘ç»œç­‰åº”ç”¨</aside><h2 id="Keyspacesï¼š"><a href="#Keyspacesï¼š" class="headerlink" title="Keyspacesï¼š"></a>Keyspacesï¼š</h2><ul><li><p>keyspaces</p><p>  <img src="/images/Untitled%2058.png" alt="Untitled"></p></li><li><p>ç”¨äºApache Cassandraï¼‰ï¼š</p></li><li><p>Apache Cassandraæ˜¯ä¸€ç§å¼€æºçš„åˆ†å¸ƒå¼NoSQLæ•°æ®åº“ã€‚</p></li><li><p>è¿™æ˜¯ä¸€ç§æ‰˜ç®¡çš„ä¸Apache Cassandraå…¼å®¹çš„æ•°æ®åº“æœåŠ¡ã€‚</p></li><li><p>æ— æœåŠ¡å™¨æ¶æ„ï¼Œå¯æ‰©å±•ï¼Œé«˜å¯ç”¨æ€§ï¼Œç”±AWSå…¨é¢æ‰˜ç®¡ã€‚</p></li><li><p>æ ¹æ®åº”ç”¨ç¨‹åºçš„æµé‡è‡ªåŠ¨è°ƒæ•´è¡¨æ ¼çš„è§„æ¨¡ã€‚</p></li><li><p>è¡¨æ ¼åœ¨å¤šä¸ªå¯ç”¨åŒºå†…å¤åˆ¶3æ¬¡ã€‚</p></li><li><p>ä½¿ç”¨CassandraæŸ¥è¯¢è¯­è¨€ï¼ˆCQLï¼‰ã€‚</p></li><li><p>å³ä½¿åœ¨å¤§è§„æ¨¡æƒ…å†µä¸‹ï¼Œå•ä½æ•°æ¯«ç§’çš„å»¶è¿Ÿï¼Œæ¯ç§’æ•°åƒä¸ªè¯·æ±‚ã€‚</p></li><li><p>å®¹é‡ï¼šæŒ‰éœ€æ¨¡å¼æˆ–é…é¢æ¨¡å¼ä¸è‡ªåŠ¨æ‰©å±•ã€‚</p></li><li><p>æ”¯æŒåŠ å¯†ã€å¤‡ä»½å’Œ35å¤©çš„æŒ‰æ—¶é—´ç‚¹æ¢å¤ï¼ˆPITRï¼‰</p></li></ul><aside>ğŸ‹ ä½¿ç”¨åœºæ™¯ï¼šå­˜å‚¨ç‰©è”ç½‘è®¾å¤‡ä¿¡æ¯ã€æ—¶é—´åºåˆ—æ•°æ®ç­‰ã€‚</aside><ul><li>å…·æœ‰é«˜åº¦å¯æ‰©å±•æ€§å’Œé«˜æ€§èƒ½ï¼Œé€‚ç”¨äºå¤„ç†æµ·é‡çš„åˆ†å¸ƒå¼æ•°æ®ã€‚</li><li></li></ul><h2 id="QLDBï¼ˆQuantum-Ledger-Databaseï¼‰ï¼š"><a href="#QLDBï¼ˆQuantum-Ledger-Databaseï¼‰ï¼š" class="headerlink" title="QLDBï¼ˆQuantum Ledger Databaseï¼‰ï¼š"></a>QLDBï¼ˆQuantum Ledger Databaseï¼‰ï¼š</h2><ul><li><p>QLDB</p><p>  <img src="/images/Untitled%2059.png" alt="Untitled"></p></li><li><p>QLDBæ˜¯ä¸€ä¸ªå…¨æ‰˜ç®¡ã€ä¸å¯å˜ã€é€æ˜çš„è´¦æœ¬æ•°æ®åº“ã€‚</p></li><li><p>Quantum Ledger Database-é‡å­è´¦æœ¬æ•°æ®åº“</p></li><li><p>ç”¨äºè®°å½•äº¤æ˜“å†å²å’Œå˜æ›´ï¼Œå¹¶ä¿è¯æ•°æ®çš„å®‰å…¨æ€§å’Œå®Œæ•´æ€§ã€‚</p></li><li><p>è´¦æœ¬æ˜¯è®°å½•è´¢åŠ¡äº¤æ˜“çš„è®°å½•å†Œ</p></li><li><p>å®Œå…¨æ‰˜ç®¡ã€æ— æœåŠ¡å™¨ã€é«˜å¯ç”¨æ€§ï¼Œåœ¨3ä¸ªå¯ç”¨åŒºè¿›è¡Œå¤åˆ¶</p></li><li><p>ç”¨äºæŸ¥çœ‹åº”ç”¨ç¨‹åºæ•°æ®çš„æ‰€æœ‰æ›´æ”¹å†å²</p></li><li><p>ä¸å¯å˜ç³»ç»Ÿï¼›ä»»ä½•æ¡ç›®éƒ½æ— æ³•åˆ é™¤æˆ–ä¿®æ”¹ï¼Œå…·æœ‰åŠ å¯†éªŒè¯</p></li><li><p>ä½¿ç”¨SQLè½»æ¾æ“ä½œæ•°æ®ï¼Œæ€§èƒ½æ¯”å¸¸è§çš„è´¦æœ¬åŒºå—é“¾æ¡†æ¶æé«˜2-3å€</p></li><li><p>ä¸Amazon Managed Blockchainé›†æˆï¼Œæä¾›å¼ºå¤§çš„åŒºå—é“¾åŠŸèƒ½</p></li></ul><h2 id="Timestreamï¼š"><a href="#Timestreamï¼š" class="headerlink" title="Timestreamï¼š"></a>Timestreamï¼š</h2><ul><li><p>timestream</p><p>  <img src="/images/Untitled%2060.png" alt="Untitled"></p></li><li><p>Timestreamæ˜¯ä¸€ä¸ªå…¨æ‰˜ç®¡çš„æ—¶é—´åºåˆ—æ•°æ®åº“æœåŠ¡ï¼Œç”¨äºå­˜å‚¨å’Œåˆ†ææ—¶é—´åºåˆ—æ•°æ®ï¼Œå¦‚IoTä¼ æ„Ÿå™¨æ•°æ®ã€åº”ç”¨ç¨‹åºæ—¥å¿—ç­‰ã€‚</p></li><li><p>å®Œå…¨æ‰˜ç®¡ã€å¿«é€Ÿã€å¯æ‰©å±•ã€æ— æœåŠ¡å™¨çš„æ—¶é—´åºåˆ—æ•°æ®åº“</p></li><li><p>è‡ªåŠ¨æŒ‰éœ€è°ƒæ•´å®¹é‡ï¼Œå®ç°è‡ªåŠ¨æ‰©ç¼©å®¹</p></li><li><p>å¯å­˜å‚¨å’Œåˆ†ææ¯å¤©æ•°ä¸‡äº¿ä¸ªäº‹ä»¶</p></li><li><p>æ¯”å…³ç³»å‹æ•°æ®åº“å¿«1000å€ï¼Œæˆæœ¬ä»…ä¸ºå…¶ååˆ†ä¹‹ä¸€</p></li><li><p>æ”¯æŒå®šæœŸæŸ¥è¯¢ã€å¤šæŒ‡æ ‡è®°å½•ã€SQLå…¼å®¹æ€§</p></li><li><p>æ•°æ®å­˜å‚¨å±‚æ¬¡ï¼šè¿‘æœŸæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†å²æ•°æ®ä¿å­˜åœ¨æˆæœ¬ä¼˜åŒ–çš„å­˜å‚¨ä¸­</p></li><li><p>å†…ç½®æ—¶é—´åºåˆ—åˆ†æåŠŸèƒ½ï¼ˆå¸®åŠ©æ‚¨åœ¨è¿‘å®æ—¶ä¸­è¯†åˆ«æ•°æ®ä¸­çš„æ¨¡å¼ï¼‰</p></li><li><p>åœ¨ä¼ è¾“å’Œé™æ€çŠ¶æ€ä¸‹è¿›è¡ŒåŠ å¯†</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;é€‰æ‹©åˆé€‚database&quot;&gt;&lt;a href=&quot;#é€‰æ‹©åˆé€‚database&quot; class=&quot;headerlink&quot; title=&quot;é€‰æ‹©åˆé€‚database&quot;&gt;&lt;/a&gt;é€‰æ‹©åˆé€‚database&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/images/Untitled%205</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    
    <category term="DevOps" scheme="https://sosocrown.github.io/tags/DevOps/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
  <entry>
    <title>AWS-13ã€ ç½‘ç»œã€‘VPC</title>
    <link href="https://sosocrown.github.io/2023/08/16/AWS-14%E3%80%90%20%E7%BD%91%E7%BB%9C%E3%80%91VPC/"/>
    <id>https://sosocrown.github.io/2023/08/16/AWS-14%E3%80%90%20%E7%BD%91%E7%BB%9C%E3%80%91VPC/</id>
    <published>2023-08-15T16:00:00.000Z</published>
    <updated>2025-05-07T02:38:16.313Z</updated>
    
    <content type="html"><![CDATA[<h1 id="VPC"><a href="#VPC" class="headerlink" title="VPC"></a><strong>VPC</strong></h1><h3 id="Virtual-Private-Cloud"><a href="#Virtual-Private-Cloud" class="headerlink" title="Virtual Private Cloud"></a>Virtual Private Cloud</h3><p><img src="/images/Untitled%20133.png" alt="Untitled"></p><h2 id="1-VPC-æ¦‚è¿°"><a href="#1-VPC-æ¦‚è¿°" class="headerlink" title="1. VPC æ¦‚è¿°"></a>1. VPC æ¦‚è¿°</h2><ul><li>VPC æ˜¯ä¸€ä¸ªé€»è¾‘éš”ç¦»çš„ AWS äº‘ç½‘ç»œï¼Œå…è®¸æ‚¨åœ¨è‡ªå·±å®šä¹‰çš„è™šæ‹Ÿç½‘ç»œä¸­è¿è¡Œ AWS èµ„æºã€‚</li><li>VPC å…·æœ‰ IP åœ°å€èŒƒå›´ï¼ˆCIDR å—ï¼‰ã€‚</li><li>ç±»ä¼¼ä¼ ç»Ÿç½‘ç»œä¸­çš„<strong>VLAN</strong></li><li>multiple VPCs  in a region(æœ€å¤š5ä¸ªï¼‰</li><li>VPCçš„æœ€å¤§CIDRèŒƒå›´å¯ä»¥æ˜¯&#x2F;16ï¼ˆ65,536ä¸ªIPåœ°å€ï¼‰åˆ°&#x2F;28ï¼ˆ16ä¸ªIPåœ°å€ï¼‰</li></ul><p><img src="/images/Untitled%20134.png" alt="Untitled"></p><h2 id="2-Subnets-å­ç½‘"><a href="#2-Subnets-å­ç½‘" class="headerlink" title="2. Subnets-å­ç½‘"></a>2. Subnets-å­ç½‘</h2><ul><li>Subnet æ˜¯ VPC IP åœ°å€èŒƒå›´çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºåœ¨ VPC å†…éƒ¨åˆ’åˆ†ä¸åŒçš„ç½‘ç»œåŒºåŸŸã€‚</li></ul><p><img src="/images/Untitled%20135.png" alt="Untitled"></p><ul><li>å­ç½‘å¿…é¡»ä½äºå•ä¸ªå¯ç”¨åŒºä¸­</li><li>å­ç½‘å¯ä»¥åˆ†é…ç»™ä¸åŒçš„AZï¼Œç¡®ä¿é«˜å¯ç”¨æ€§ã€‚<ul><li>ä¿ç•™5ä¸ªIPåœ°å€ï¼Œå‰å››ä¸ªå’Œæœ€åä¸€ä¸ª</li></ul></li><li><strong>å…¬æœ‰å­ç½‘ï¼ˆPublic Subnet</strong>ï¼šä¸ Internet Gatewayï¼ˆIGWï¼‰å…³è”ï¼Œå¯ä»¥ç›´æ¥è®¿é—® Internetã€‚</li><li><strong>ç§æœ‰å­ç½‘ï¼ˆPrivate Subnetï¼‰</strong>ï¼šæ— æ³•ç›´æ¥è®¿é—® Internetï¼Œé€šå¸¸ç”¨äºå®‰å…¨æ•æ„Ÿçš„å·¥ä½œè´Ÿè½½ã€‚é€šè¿‡NATç½‘å…³æˆ–NATå®ä¾‹æ¥å®ç°å¯¹Internetçš„æœ‰é™è®¿é—®</li></ul><h2 id="3-Route-Table-è·¯ç”±è¡¨"><a href="#3-Route-Table-è·¯ç”±è¡¨" class="headerlink" title="3.Route Table-è·¯ç”±è¡¨"></a>3.<strong>Route Table-è·¯ç”±è¡¨</strong></h2><p>è·¯ç”±è¡¨å®šä¹‰äº†ç½‘ç»œæµé‡å¦‚ä½•åœ¨å­ç½‘ä¹‹é—´å’ŒVPCå†…éƒ¨è¿›è¡Œè·¯ç”±ã€‚æ¯ä¸ªå­ç½‘éƒ½ä¼šå…³è”ä¸€ä¸ªè·¯ç”±è¡¨ï¼Œè¯¥è¡¨æŒ‡å®šäº†æµé‡çš„ç›®æ ‡ä»¥åŠå¦‚ä½•å°†æµé‡è½¬å‘åˆ°ç›®æ ‡ã€‚</p><h2 id="4-å®‰å…¨ç»„-Security-Group-å’ŒNACL"><a href="#4-å®‰å…¨ç»„-Security-Group-å’ŒNACL" class="headerlink" title="4. å®‰å…¨ç»„ (Security Group) å’ŒNACL"></a>4. å®‰å…¨ç»„ (Security Group) å’ŒNACL</h2><ul><li><p><strong>å®‰å…¨ç»„ï¼ˆSecurity Groupï¼‰</strong></p><ul><li><strong>å±‚æ¬¡ï¼š instance-level</strong>æ¯ä¸ªå®ä¾‹å¯ä»¥å…³è”ä¸€ä¸ªæˆ–å¤šä¸ªå®‰å…¨ç»„ã€‚å®ƒæ˜¯ç¬¬ä¸€å±‚é˜²å¾¡ï¼Œåº”ç”¨åœ¨æ¯ä¸ªå®ä¾‹ä¸Šã€‚</li><li><strong>è§„åˆ™ï¼š</strong> åŸºäºâ€allowâ€çš„åŸåˆ™ã€‚å¦‚æœè§„åˆ™æ²¡æœ‰æ˜ç¡®å…è®¸ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«éšå¼åœ°æ‹’ç»ã€‚</li><li><strong>çŠ¶æ€ï¼šstateful</strong></li><li><strong>åº”ç”¨ï¼š</strong> ç”¨äºå®ç°å®ä¾‹çº§åˆ«çš„è®¿é—®æ§åˆ¶ï¼Œé€šå¸¸ç”¨äºæ§åˆ¶å®ä¾‹ä¹‹é—´çš„é€šä¿¡ã€‚</li></ul></li><li><p><strong>ç½‘ç»œè®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆNACLï¼‰-Network Access Control List</strong></p><p>  <strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒå…è®¸æ‰€æœ‰å…¥ç«™å’Œå‡ºç«™ IPv4 æµé‡ä»¥åŠ IPv6 æµé‡</strong></p><ul><li><p><strong>å±‚æ¬¡ï¼š</strong> NACLæ˜¯åœ¨å­ç½‘çº§åˆ«æ“ä½œçš„ï¼Œæ¯ä¸ªå­ç½‘éƒ½æœ‰ä¸€ä¸ªå…³è”çš„NACLã€‚å®ƒæ˜¯ç¬¬äºŒå±‚é˜²å¾¡ï¼Œåº”ç”¨åœ¨å­ç½‘å†…ã€‚</p></li><li><p><strong>è§„åˆ™ï¼š</strong> åŸºäºâ€allowâ€å’Œâ€denyâ€ã€‚</p></li><li><p><strong>çŠ¶æ€ï¼š</strong> <strong>statelessï¼Œå¦‚æœæ‚¨å…è®¸å‡ºç«™æµé‡ï¼Œå…¥ç«™å›å¤æµé‡ä¸ä¼šè‡ªåŠ¨è¢«å…è®¸ã€‚<code>è¿™æ„å‘³ç€ä½ éœ€è¦åŒæ—¶è€ƒè™‘å…¥ç«™å’Œå‡ºç«™è§„åˆ™ï¼Œå› ä¸ºå‡ºç«™è§„åˆ™ä¹Ÿä¼šå½±å“å…¥ç«™æµé‡çš„å›å¤ã€‚</code></strong></p><ul><li><strong><code>éœ€è¦ç¡®ä¿ç›¸å…³çš„å‡ºç«™è§„åˆ™å…è®¸å“åº”çš„HTTPSæµé‡è¿”å›</code></strong></li></ul></li><li><p><strong>åº”ç”¨ï¼š</strong> ç”¨äºå®ç°å­ç½‘çº§åˆ«çš„è®¿é—®æ§åˆ¶ï¼Œé€šå¸¸ç”¨äºæ§åˆ¶å­ç½‘ä¹‹é—´çš„é€šä¿¡ã€‚</p></li><li><p>Default NACL</p><ul><li>Accepts everything inbound&#x2F;outbound with the subnets itâ€™s associated with</li><li>Do NOT modify the Default NACL, instead create custom NACLs</li></ul><p>  <img src="/images/Untitled%20136.png" alt="Untitled"></p></li></ul></li></ul><table><thead><tr><th>ç‰¹ç‚¹ &#x2F; æ³¨æ„äº‹é¡¹</th><th>å®‰å…¨ç»„ (SG)</th><th>ç½‘ç»œè®¿é—®æ§åˆ¶åˆ—è¡¨ (NACL)</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å®ä¾‹çº§åˆ«é˜²ç«å¢™</td><td>å­ç½‘çº§åˆ«é˜²ç«å¢™</td></tr><tr><td>æ–¹å‘</td><td>å¯ä»¥é…ç½®å…¥ç«™å’Œå‡ºç«™è§„åˆ™</td><td><strong>å¿…é¡»</strong>åŒæ—¶é…ç½®å…¥ç«™å’Œå‡ºç«™è§„åˆ™</td></tr><tr><td>é»˜è®¤è§„åˆ™</td><td>æ‹’ç»æ‰€æœ‰æµé‡</td><td>å…è®¸æ‰€æœ‰æµé‡</td></tr><tr><td>æœ‰çŠ¶æ€æ€§</td><td>æœ‰çŠ¶æ€ï¼Œè‡ªåŠ¨å…è®¸ç›¸å…³å›å¤æµé‡</td><td>æ— çŠ¶æ€ï¼Œå…¥ç«™å’Œå‡ºç«™æµé‡çš„çŠ¶æ€æ˜¯åˆ†å¼€ç»´æŠ¤</td></tr><tr><td>æ•°é‡é™åˆ¶</td><td>ä¸€ä¸ªå®ä¾‹å¯ä»¥å…³è”å¤šä¸ªå®‰å…¨ç»„</td><td>ä¸€ä¸ªå­ç½‘åªèƒ½å…³è”ä¸€ä¸ªç½‘ç»œè®¿é—®æ§åˆ¶åˆ—è¡¨</td></tr><tr><td>åŠŸèƒ½</td><td>ç®€å•ï¼Œæ˜“äºä½¿ç”¨</td><td>è¾ƒä¸ºå¤æ‚ï¼Œå¯ç”¨äºæ›´ç»†ç²’åº¦çš„æ§åˆ¶</td></tr></tbody></table><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><p><strong>å®‰å…¨ç»„ (SG)ï¼š</strong></p><ul><li>å®‰å…¨ç»„é€‚ç”¨äºå®ä¾‹çº§åˆ«çš„è®¿é—®æ§åˆ¶ï¼Œé…ç½®æ›´ç®€å•ï¼Œä½†åªèƒ½å®šä¹‰åŸºäºåè®®ã€ç«¯å£å’ŒIPèŒƒå›´çš„è§„åˆ™ã€‚</li><li>å¯ä»¥åœ¨å®‰å…¨ç»„ä¹‹é—´è¿›è¡Œè”åŠ¨ï¼Œä¸€ä¸ªå®ä¾‹å¯ä»¥å…³è”å¤šä¸ªå®‰å…¨ç»„ï¼Œè§„åˆ™å åŠ ã€‚</li><li>å…¥ç«™è§„åˆ™ä¼˜å…ˆäºå‡ºç«™è§„åˆ™ï¼Œç›¸å…³å›å¤æµé‡è‡ªåŠ¨å…è®¸ã€‚</li></ul><p><strong>ç½‘ç»œè®¿é—®æ§åˆ¶åˆ—è¡¨ (NACL)ï¼š</strong></p><ul><li>NACL é€‚ç”¨äºå­ç½‘çº§åˆ«çš„è®¿é—®æ§åˆ¶ï¼Œå¯ä»¥æ›´ç»†ç²’åº¦åœ°å®šä¹‰å…¥ç«™å’Œå‡ºç«™è§„åˆ™ã€‚</li><li>éœ€è¦åŒæ—¶é…ç½®å…¥ç«™å’Œå‡ºç«™è§„åˆ™ï¼Œæ³¨æ„è§„åˆ™çš„é¡ºåºå’Œç¼–å·ã€‚</li><li>æ— çŠ¶æ€æ€§æ„å‘³ç€å…¥ç«™å’Œå‡ºç«™æµé‡çš„çŠ¶æ€æ˜¯åˆ†å¼€ç»´æŠ¤çš„ï¼Œéœ€è¦ç¡®ä¿å‡ºç«™è§„åˆ™å…è®¸ç›¸å…³å›å¤æµé‡ã€‚</li><li>æ›´é€‚åˆå¤„ç†è¾ƒå¤æ‚çš„ç½‘ç»œç­–ç•¥ï¼Œä½†éœ€è¦æ›´å¤šçš„é…ç½®å·¥ä½œã€‚</li></ul><p>è¯·æ ¹æ®ä½ çš„éœ€æ±‚å’Œç½‘ç»œæ¶æ„ï¼Œé€‰æ‹©åˆé€‚çš„è®¿é—®æ§åˆ¶æ–¹å¼ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®‰å…¨ç»„ç”¨äºåŸºæœ¬çš„å®ä¾‹çº§åˆ«é˜²ç«å¢™ï¼Œè€Œ NACL åˆ™ç”¨äºæ›´ç»†ç²’åº¦çš„å­ç½‘çº§åˆ«æ§åˆ¶ã€‚</p><p><img src="/images/Untitled%20137.png" alt="Untitled"></p><p><strong>é€‰æ‹©å®‰å…¨ç»„è¿˜æ˜¯NACLï¼š</strong></p><ul><li>å¦‚æœæ‚¨éœ€è¦æ›´ç²¾ç»†çš„æ§åˆ¶ï¼Œå¹¶ä¸”å…³æ³¨äºå®ä¾‹çº§åˆ«çš„è®¿é—®æ§åˆ¶ï¼Œä½¿ç”¨å®‰å…¨ç»„ã€‚</li><li>å¦‚æœæ‚¨éœ€è¦æ›´é«˜å±‚æ¬¡çš„ç½‘ç»œé˜²å¾¡ï¼Œä»¥åŠæ§åˆ¶å­ç½‘ä¹‹é—´çš„é€šä¿¡ï¼Œä½¿ç”¨NACLã€‚</li><li>åœ¨å¤æ‚çš„ç½‘ç»œç¯å¢ƒä¸­ï¼Œé€šå¸¸ä¼šåŒæ—¶ä½¿ç”¨å®‰å…¨ç»„å’ŒNACLæ¥æä¾›å¤šå±‚æ¬¡çš„å®‰å…¨æ€§ã€‚</li></ul><h2 id="5-VPC-Peering-å¯¹ç­‰è¿æ¥"><a href="#5-VPC-Peering-å¯¹ç­‰è¿æ¥" class="headerlink" title="5. VPC Peering-å¯¹ç­‰è¿æ¥"></a>5. VPC Peering-<strong>å¯¹ç­‰è¿æ¥</strong></h2><p>VPC Peering å…è®¸åœ¨ä¸åŒçš„ VPC ä¹‹é—´åˆ›å»ºç§æœ‰è¿æ¥ã€‚</p><ul><li><strong>è¿æ¥ä¸åŒVPCï¼š</strong> VPC Peeringå…è®¸æ‚¨å°†ä¸¤ä¸ªä¸åŒçš„VPCè¿æ¥åœ¨ä¸€èµ·ï¼Œä½¿å®ƒä»¬ä¹‹é—´å¯ä»¥è¿›è¡Œå®‰å…¨çš„é€šä¿¡ã€‚</li><li><strong>ä¸å…·å¤‡ä¼ é€’æ€§</strong></li><li><strong>è·¨å¸æˆ·&#x2F;åŒºåŸŸï¼š</strong> æ‚¨å¯ä»¥åœ¨ä¸åŒçš„AWSå¸æˆ·æˆ–ä¸åŒçš„AWSåŒºåŸŸä¹‹é—´åˆ›å»ºVPC Peeringè¿æ¥ï¼Œä»è€Œå®ç°å¤šä¸ªå¸æˆ·æˆ–åŒºåŸŸä¹‹é—´çš„ç§æœ‰é€šä¿¡ã€‚<ul><li>å¯ä»¥åœ¨ä¸åŒ AWS è´¦æˆ·ä¹‹é—´æˆ–åŒä¸€è´¦æˆ·ä¸‹çš„ä¸åŒ VPC ä¹‹é—´å»ºç«‹ VPC Peeringã€‚</li></ul></li><li><strong>å¼•ç”¨å®‰å…¨ç»„ï¼š</strong> åœ¨åŒä¸€åŒºåŸŸçš„ä¸åŒå¸æˆ·ä¹‹é—´ï¼Œæ‚¨å¯ä»¥é€šè¿‡VPC Peeringå¼•ç”¨å¦ä¸€ä¸ªVPCä¸­çš„å®‰å…¨ç»„ï¼Œä»¥å®ç°èµ„æºé—´çš„è®¿é—®æ§åˆ¶ã€‚</li><li><strong>è·¯ç”±è¡¨æ›´æ–°ï¼š</strong> åœ¨å»ºç«‹VPC Peeringåï¼Œæ‚¨éœ€è¦æ›´æ–°æ¯ä¸ªVPCå­ç½‘çš„è·¯ç”±è¡¨ï¼Œä»¥ç¡®ä¿VPCå†…çš„EC2å®ä¾‹å¯ä»¥é€šè¿‡Peeringè¿æ¥è¿›è¡Œé€šä¿¡ã€‚</li></ul><h2 id="6-VPC-ç«¯ç‚¹-Endpoints"><a href="#6-VPC-ç«¯ç‚¹-Endpoints" class="headerlink" title="6. VPC ç«¯ç‚¹ (Endpoints)"></a>6. VPC ç«¯ç‚¹ (Endpoints)</h2><p>ç”¨äºåœ¨ <strong>VPC å†…éƒ¨ä¸ AWS æœåŠ¡</strong>è¿›è¡Œå®‰å…¨é€šä¿¡ã€‚</p><ul><li>VPC ç«¯ç‚¹å…è®¸ <strong>VPC ä¸­çš„å®ä¾‹ä¸ AWS æœåŠ¡</strong>é€šä¿¡ï¼Œè€Œæ— éœ€é€šè¿‡ Internetã€‚</li><li>åˆ†ä¸ºç½‘å…³ç«¯ç‚¹ï¼ˆGateway Endpointï¼‰å’Œæ¥å£ç«¯ç‚¹ï¼ˆInterface Endpointï¼‰ã€‚</li><li>Theyâ€™re redundant and scale horizontallyå†—ä½™æ€§å¹¶ä¸”æ°´å¹³æ‰©å±•</li></ul><p><img src="/images/Untitled%20138.png" alt="Untitled"></p><ul><li><p><strong>ç±»å‹ï¼š</strong> æœ‰ä¸¤ç§ç±»å‹çš„VPCç»ˆç«¯èŠ‚ç‚¹ï¼š</p><ul><li><strong>æ¥å£ç»ˆç«¯èŠ‚ç‚¹ï¼ˆInterface Endpointsï¼‰ï¼š</strong> ä½¿ç”¨AWS PrivateLinkæä¾›æ”¯æŒï¼Œå®ƒä¸ºæ‚¨çš„VPCåˆ†é…ä¸€ä¸ªElastic Network Interfaceï¼ˆ<strong>ENI</strong>ï¼‰ï¼Œä½œä¸ºè®¿é—®AWSæœåŠ¡çš„å…¥å£ç‚¹ã€‚æ”¯æŒå¤§å¤šæ•°AWSæœåŠ¡ï¼Œ<strong>éœ€è¦æŒ‰å°æ—¶è®¡è´¹å¹¶æŒ‰æ•°æ®å¤„ç†é‡ä»˜è´¹ã€‚</strong></li></ul><p>  <img src="/images/Untitled%20139.png" alt="Untitled"></p><ul><li><strong>ç½‘å…³ç»ˆç«¯èŠ‚ç‚¹ï¼ˆGateway Endpointsï¼‰ï¼š</strong> é€‚ç”¨äºS3å’ŒDynamoDBï¼Œå¯ä»¥å°†ç»ˆç«¯èŠ‚ç‚¹ä½œä¸ºç›®æ ‡æ·»åŠ åˆ°VPCçš„è·¯ç”±è¡¨ä¸­ã€‚ç½‘å…³ç»ˆç«¯èŠ‚ç‚¹<strong>å…è´¹ä¸”ä¸ä½¿ç”¨å®‰å…¨ç»„ã€‚</strong></li></ul><p>  <img src="/images/Untitled%20140.png" alt="Untitled">  </p></li><li><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p><ul><li>å¯¹äºéœ€è¦å®‰å…¨åœ°è¿æ¥åˆ°AWSæœåŠ¡çš„æƒ…å†µï¼Œå¦‚æ•°æ®åº“ã€å­˜å‚¨å’Œè®¡ç®—èµ„æºï¼ŒVPCç»ˆç«¯èŠ‚ç‚¹æ˜¯ä¸€ä¸ªç†æƒ³çš„é€‰æ‹©ã€‚</li><li>æ¥å£ç»ˆç«¯èŠ‚ç‚¹é€‚ç”¨äºéœ€è¦è¿æ¥å¤šç§AWSæœåŠ¡çš„åœºæ™¯ï¼Œè€Œç½‘å…³ç»ˆç«¯èŠ‚ç‚¹é€‚ç”¨äºS3å’ŒDynamoDBçš„è®¿é—®</li></ul></li><li><p>Gateway or Interface Endpoint for <strong>S3</strong>?</p><ul><li>Gateway is most likely going to be preferred all the time at the exam</li><li>Unless, access is required from on premises (Site to Site VPN or Direct Connect), a different VPC or a different region</li><li>é€‰æ‹©S3çš„ç½‘å…³ç»ˆç«¯èŠ‚ç‚¹è¿˜æ˜¯æ¥å£ç»ˆç«¯èŠ‚ç‚¹ï¼Ÿ<br>  åœ¨è€ƒè¯•ä¸­ï¼Œgatewayå¾ˆå¯èƒ½ä¼šå§‹ç»ˆè¢«ä¼˜å…ˆé€‰æ‹©<br>  é™¤ééœ€è¦ä»æœ¬åœ°ç¯å¢ƒï¼ˆç«™ç‚¹åˆ°ç«™ç‚¹VPNæˆ–ç›´æ¥è¿æ¥ï¼‰ã€ä¸åŒçš„VPCæˆ–ä¸åŒçš„åŒºåŸŸè®¿é—®ã€‚</li></ul></li></ul><h2 id="7-VPC-æµæ—¥å¿—-Flow-Logs"><a href="#7-VPC-æµæ—¥å¿—-Flow-Logs" class="headerlink" title="7. VPC æµæ—¥å¿— (Flow Logs)"></a>7. VPC æµæ—¥å¿— (Flow Logs)</h2><ul><li>VPC æµæ—¥å¿—å¯æ•è· VPC å†…éƒ¨ç½‘ç»œæµé‡çš„è¯¦ç»†ä¿¡æ¯ï¼Œç”¨äºå®‰å…¨å®¡è®¡å’Œç½‘ç»œç›‘æ§ã€‚</li><li>æµæ—¥å¿—å¯ä»¥å°†æ•°æ®å‘é€åˆ° Amazon S3ã€CloudWatch Logs æˆ– Amazon ESã€‚</li></ul><h2 id="VPC-Flow-Logs"><a href="#VPC-Flow-Logs" class="headerlink" title="VPC Flow Logs"></a>VPC Flow Logs</h2><ul><li>Capture information about IP traffic going into your interfaces</li><li>Helps to monitor &amp; troubleshoot connectivity issues</li><li>Flow logs data can go to S3 &#x2F; CloudWatch Logs</li><li>Query VPC flow logs using Athena on S3 or CloudWatch Logs Insights</li><li>æ•è·è¿›å…¥æ¥å£çš„IPæµé‡ä¿¡æ¯</li><li>æœ‰åŠ©äºç›‘è§†å’Œè§£å†³è¿æ¥é—®é¢˜</li><li>æµæ—¥å¿—æ•°æ®å¯å‘é€åˆ°S3 &#x2F; CloudWatchæ—¥å¿—</li><li>ä½¿ç”¨Athenaåœ¨S3ä¸ŠæŸ¥è¯¢VPCæµæ—¥å¿—æˆ–CloudWatchæ—¥å¿—æ´å¯Ÿ</li></ul><p><img src="/images/Untitled%20141.png" alt="Untitled"></p><h2 id="summary"><a href="#summary" class="headerlink" title="summary"></a>summary</h2><p><img src="/images/Untitled%20142.png" alt="Untitled"></p><p><img src="/images/Untitled%20143.png" alt="Untitled"></p><p><img src="/images/Untitled%20144.png" alt="Untitled"></p><p><img src="/images/Untitled%20145.png" alt="Untitled"></p><p><img src="/images/Untitled%20146.png" alt="Untitled"></p><p><img src="/images/Untitled%20147.png" alt="Untitled"></p><p><img src="/images/Untitled%20148.png" alt="Untitled"></p><p><img src="/images/Untitled%20149.png" alt="Untitled"></p><p><img src="/images/Untitled%20150.png" alt="Untitled"></p><p><img src="/images/Untitled%20151.png" alt="Untitled"></p><h1 id="ç½‘ç»œè¿æ¥"><a href="#ç½‘ç»œè¿æ¥" class="headerlink" title="ç½‘ç»œè¿æ¥"></a>ç½‘ç»œè¿æ¥</h1><h2 id="1-Internet-Gateway-IGW"><a href="#1-Internet-Gateway-IGW" class="headerlink" title="1. Internet Gateway (IGW)"></a>1. Internet Gateway (IGW)</h2><ul><li><strong>IGWï¼ˆInternet gatewayï¼‰æ˜¯AWSæä¾›çš„ï¼Œç”¨æ¥å®ç°VPCå’ŒInternetä¹‹é—´ç›¸äº’é€šä¿¡çš„é«˜å¯ç”¨ç»„ä»¶ã€‚</strong></li><li>IGW æ˜¯è¿æ¥ VPC å†…éƒ¨<strong>ç§æœ‰å­ç½‘</strong>å’Œ<strong>å…¬å…± Internet</strong> çš„ç»„ä»¶ã€‚</li><li>åœ¨å…¬æœ‰å­ç½‘ä¸­ï¼ŒIGW å…è®¸å®ä¾‹ä¸ Internet é€šä¿¡ï¼Œä¸”å¯ä»¥ä½¿ç”¨å…¬æœ‰ IPã€‚</li><li>ä¸€ä¸ªVPCåªèƒ½è¿æ¥åˆ°ä¸€ä¸ªIGWï¼Œåä¹‹äº¦ç„¶</li></ul><h2 id="2-NAT"><a href="#2-NAT" class="headerlink" title="2. NAT"></a>2. NAT</h2><h3 id="NAT-Network-Address-Translation"><a href="#NAT-Network-Address-Translation" class="headerlink" title="NAT &#x3D; Network Address Translation"></a>NAT &#x3D; Network Address Translation</h3><p>NAT ç½‘å…³ä¸»è¦ç”¨äº<strong>ç§æœ‰å­ç½‘ä¸­çš„å®ä¾‹</strong>è®¿é—®äº’è”ç½‘</p><p><strong><code>å‡ºç«™è¿æ¥</code></strong></p><h3 id="NAT-instance"><a href="#NAT-instance" class="headerlink" title="NAT instance"></a><strong>NAT instance</strong></h3><p>éœ€è¦æ‰‹åŠ¨é…ç½®ï¼Œé€‚ç”¨äºå°è§„æ¨¡æµé‡ã€‚Old, must be setup in a public subnet, disable Source &#x2F; Destination check flag</p><p><img src="/images/Untitled%20152.png" alt="Untitled"></p><h3 id="NAT-gateway"><a href="#NAT-gateway" class="headerlink" title="NAT gateway"></a>NAT gateway</h3><p>AWS æ‰˜ç®¡ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æµé‡å’Œé«˜å¯ç”¨æ€§éœ€æ±‚ã€‚</p><p>NAT Gatewayç”±AWSç®¡ç†ï¼Œæä¾›å¯æ‰©å±•çš„IPv4ç§æœ‰EC2å®ä¾‹Internetè®¿é—®ã€‚</p><p>æ€§èƒ½å’Œå¯ç”¨æ€§è¾ƒé«˜ï¼Œæ‰€ä»¥é€šå¸¸ä¼˜äºNAT Instanceã€‚</p><p><img src="/images/Untitled%20153.png" alt="Untitled"></p><h2 id="3-AWS-Direct-Connect-DX-ç›´è¿"><a href="#3-AWS-Direct-Connect-DX-ç›´è¿" class="headerlink" title="3. AWS Direct Connect (DX)-ç›´è¿"></a>3. AWS Direct Connect (DX)-ç›´è¿</h2><p><img src="/images/Untitled%20154.png" alt="Untitled"></p><ul><li><strong>ä¸“ç”¨çš„ç‰©ç†è¿æ¥</strong></li><li>AWS Direct Connect åœ¨æ‚¨çš„æœ¬åœ°éƒ¨ç½²ç½‘ç»œå’Œ AWS ä¹‹é—´å»ºç«‹ä¸“ç”¨ç½‘ç»œè¿æ¥ã€‚</li><li>å¯ä»¥å®ç°æ›´ç¨³å®šã€ä½å»¶è¿Ÿçš„è¿æ¥ï¼Œç”¨äºå¤§æ•°æ®ä¼ è¾“å’Œæ··åˆäº‘æ¶æ„ã€‚</li></ul><h2 id="Direct-Connect-DX"><a href="#Direct-Connect-DX" class="headerlink" title="Direct Connect (DX)"></a>Direct Connect (DX)</h2><ul><li>æä¾›ä»è¿œç¨‹ç½‘ç»œåˆ°æ‚¨çš„VPCçš„dedicated privateä¸“ç”¨ç§æœ‰è¿æ¥ã€‚</li><li>Data Center and <em><strong>AWS Direct Connect locations</strong></em>ä¹‹é—´è®¾ç½®ä¸“ç”¨è¿æ¥ã€‚</li></ul><aside>ğŸ’¡ DX Locationæ˜¯AWS Direct ConnectæœåŠ¡çš„å®é™…ç‰©ç†ä½ç½®ï¼Œé€šè¿‡è¿æ¥åˆ°è¿™äº›ä½ç½®ï¼Œæ‚¨å¯ä»¥å»ºç«‹ä¸“ç”¨çš„ç‰©ç†è¿æ¥</aside><ul><li><p>å¯ä»¥åœ¨åŒä¸€è¿æ¥ä¸Šè®¿é—®å…¬å…±èµ„æºï¼ˆå¦‚S3ï¼‰å’Œç§æœ‰èµ„æºï¼ˆå¦‚EC2ï¼‰ã€‚</p></li><li><p>æ”¯æŒIPv4å’ŒIPv6ã€‚</p><p>  <img src="/images/Untitled%20155.png" alt="Untitled"></p></li></ul><blockquote><p><strong>è¿æ¥æµç¨‹ï¼š</strong></p></blockquote><ol><li>æ‚¨åœ¨AWSæ§åˆ¶å°ä¸­é€‰æ‹©ä¸€ä¸ªDX Locationï¼Œè¿™æ˜¯æ‚¨å°†è¦å»ºç«‹è¿æ¥çš„ç‰©ç†ä½ç½®ã€‚</li><li>åœ¨æ‚¨çš„æœ¬åœ°ç½‘ç»œä¸­ï¼Œæ‚¨é…ç½®ä¸€ä¸ªCGWï¼Œä»¥ç¡®ä¿å®ƒèƒ½å¤Ÿè¿æ¥åˆ°DX Locationã€‚</li><li>æ‚¨åœ¨AWSä¸­åˆ›å»ºä¸€ä¸ªVGWï¼Œå¹¶åˆ†é…ä¸€ä¸ªå…¬å…±IPåœ°å€ã€‚</li><li>æ‚¨åœ¨CGWå’ŒVGWä¹‹é—´å»ºç«‹IPSecéš§é“ï¼Œé€šè¿‡é…ç½®åŠ å¯†å’Œè®¤è¯å‚æ•°ï¼Œä»¥å»ºç«‹å®‰å…¨çš„é€šä¿¡é€šé“ã€‚</li><li>ä¸€æ—¦éš§é“å»ºç«‹ï¼Œæ•°æ®å¯ä»¥é€šè¿‡VPNè¿æ¥åœ¨CGWå’ŒVGWä¹‹é—´è¿›è¡ŒåŠ å¯†ä¼ è¾“ã€‚</li></ol><h2 id="Direct-Connect-Gateway"><a href="#Direct-Connect-Gateway" class="headerlink" title="Direct Connect Gateway"></a>Direct Connect Gateway</h2><ul><li>å¦‚æœæ‚¨æƒ³è¦åœ¨è®¸å¤šä¸åŒçš„åŒºåŸŸï¼ˆåŒä¸€è´¦æˆ·ï¼‰ä¸­è®¾ç½®ä¸ä¸€ä¸ªæˆ–å¤šä¸ªVPCçš„Direct Connectè¿æ¥ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨Direct Connectç½‘å…³ã€‚If you want to set up a Direct Connect to one or more VPC in many different regions (same account), you must use a Direct Connect Gateway</li><li>å»ºç«‹æ–°è¿æ¥éœ€è¦ä¸€ä¸ªæœˆä»¥ä¸Šçš„æ—¶é—´ã€‚</li><li>åœ¨ä¼ è¾“ä¸­çš„æ•°æ®æœªåŠ å¯†ï¼Œä½†æ˜¯ä¿æŒç§å¯†æ€§ã€‚<ul><li>AWS Direct Connect + VPNæä¾›äº†ä¸€ä¸ªIPsecåŠ å¯†çš„ç§æœ‰è¿æ¥ã€‚</li></ul></li><li>å¦‚æœDirect Connectå‘ç”Ÿæ•…éšœï¼Œæ‚¨å¯ä»¥è®¾ç½®å¤‡ä»½Direct Connectè¿æ¥ï¼ˆè´¹ç”¨è¾ƒé«˜ï¼‰ï¼Œæˆ–è€…è®¾ç½®ç«™ç‚¹åˆ°ç«™ç‚¹VPNè¿æ¥ã€‚In case Direct Connect fails, you can set up a backup Direct Connect connection (expensive), or a Site-to-Site VPN connection</li><li></li></ul><p><img src="/images/Untitled%20156.png" alt="Untitled"></p><p><img src="/images/Untitled%20157.png" alt="Untitled"></p><h2 id="4-Bastion-Hosts"><a href="#4-Bastion-Hosts" class="headerlink" title="4. Bastion Hosts"></a>4. Bastion Hosts</h2><ul><li>ä¸€ä¸ªä½œä¸ºè·³æ¿çš„ EC2 instance</li><li>Bastion Host æ˜¯æ”¾ç½®åœ¨å…¬æœ‰å­ç½‘ä¸­çš„å®ä¾‹ï¼Œç”¨äºå®‰å…¨è¿œç¨‹è®¿é—®ç§æœ‰å­ç½‘ä¸­çš„å®ä¾‹ã€‚</li><li>é€šå¸¸ç”¨äºç®¡ç†å’Œç»´æŠ¤ç§æœ‰å­ç½‘ä¸­çš„å®ä¾‹ï¼Œæä¾›ä¸´æ—¶è®¿é—®ã€‚</li></ul><p>è®¿é—®è·³æ¿ï¼šåœ¨å—ä¿æŠ¤çš„å†…éƒ¨ç½‘ç»œå’Œå¤–éƒ¨ç½‘ç»œä¹‹é—´è¿›è¡Œè®¿é—®çš„ä¸­é—´èŠ‚ç‚¹ã€‚</p><p>ä½äºå…¬å…±ç½‘ç»œä¸­</p><p>ä½¿ç”¨bastion hosts  to SSH into ç§æœ‰EC2å®ä¾‹</p><p><img src="/images/Untitled%20158.png" alt="Untitled"></p><h2 id="5-Ephemeral-Ports"><a href="#5-Ephemeral-Ports" class="headerlink" title="5. Ephemeral Ports"></a>5. Ephemeral Ports</h2><p><code>ä¸´æ—¶ç«¯å£ï¼ŒçŸ­æš‚ç«¯å£æˆ–åŠ¨æ€ç«¯å£</code></p><ul><li>éšæœºåˆ†é…çš„ä¸´æ—¶ç«¯å£</li><li>Ephemeral Portsï¼ˆçŸ­æš‚ç«¯å£ï¼‰æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´ä¸´æ—¶å»ºç«‹çš„ç«¯å£ï¼Œç”¨äºæ•°æ®ä¼ è¾“ã€‚</li><li>é€šå¸¸åœ¨è¿æ¥æ—¶éšæœºåˆ†é…ï¼Œå¹¶åœ¨è¿æ¥ç»ˆæ­¢åé‡Šæ”¾ã€‚</li><li>Clients connect to a defined port, and expect a response on this port</li></ul><h2 id="6-AWS-VPN-CloudHub-å’Œç«™ç‚¹åˆ°ç«™ç‚¹-Site-to-Site-VPN"><a href="#6-AWS-VPN-CloudHub-å’Œç«™ç‚¹åˆ°ç«™ç‚¹-Site-to-Site-VPN" class="headerlink" title="6. AWS VPN CloudHub å’Œç«™ç‚¹åˆ°ç«™ç‚¹ (Site-to-Site) VPN"></a>6. AWS VPN CloudHub å’Œç«™ç‚¹åˆ°ç«™ç‚¹ (Site-to-Site) VPN</h2><h2 id="Site-to-Site-VPN"><a href="#Site-to-Site-VPN" class="headerlink" title="Site-to-Site VPN"></a>Site-to-Site VPN</h2><p>å°†æœ¬åœ°æ•°æ®ä¸­å¿ƒä¸ VPC ç›´æ¥è¿æ¥çš„æ–¹æ³•ï¼Œä½œä¸ºå¤‡ä»½è¿æ¥æ–¹å¼ã€‚</p><p><strong>å»ºç«‹æœ¬åœ°åˆ°VPCçš„è¿æ¥ï¼š</strong> VPCç«™ç‚¹åˆ°ç«™ç‚¹VPNå…è®¸æ‚¨åœ¨VPCå’Œæœ¬åœ°æ•°æ®ä¸­å¿ƒä¹‹é—´å»ºç«‹ä¸€ä¸ªåŠ å¯†çš„è¿æ¥ï¼Œä½¿æ‚¨çš„æœ¬åœ°èµ„æºå¯ä»¥ä¸VPCä¸­çš„èµ„æºè¿›è¡Œé€šä¿¡ã€‚</p><aside>ğŸ’¡ **VPN Gatewayï¼š** åœ¨äº‘æœåŠ¡ä¸­å’Œæœ¬åœ°ç½‘ç»œä¸­åˆ†åˆ«åˆ›å»ºVPN Gatewayï¼š<aside>ğŸ’¡ VGWè¡¨ç¤ºVPCä¾§çš„VPNè®¾å¤‡</aside><aside>ğŸ’¡ LWGè¡¨ç¤ºæœ¬åœ°æ•°æ®ä¸­å¿ƒä¾§çš„VPNè®¾å¤‡ã€‚</aside></aside><h3 id="VGWï¼ˆVirtual-Private-Gatewayï¼‰ï¼š"><a href="#VGWï¼ˆVirtual-Private-Gatewayï¼‰ï¼š" class="headerlink" title="VGWï¼ˆVirtual Private Gatewayï¼‰ï¼š"></a><strong>VGWï¼ˆVirtual Private Gatewayï¼‰ï¼š</strong></h3><ul><li>VGWæ˜¯äº‘æœåŠ¡æä¾›å•†ï¼ˆå¦‚AWSï¼‰ä¸­çš„è™šæ‹Ÿè®¾å¤‡ï¼Œç”¨äºå»ºç«‹VPNè¿æ¥å¹¶å¤„ç†æ•°æ®çš„ä¼ å…¥å’Œä¼ å‡ºã€‚</li><li>VGW is created and attached to the VPC from which you want to create the Site-to-Site VPN connection</li></ul><h3 id="CGWï¼ˆCustomer-Gatewayï¼‰ï¼š"><a href="#CGWï¼ˆCustomer-Gatewayï¼‰ï¼š" class="headerlink" title="CGWï¼ˆCustomer Gatewayï¼‰ï¼š"></a><strong>CGWï¼ˆCustomer Gatewayï¼‰ï¼š</strong></h3><ul><li>æœ¬åœ°ç½‘ç»œä¸­çš„ç‰©ç†è®¾å¤‡æˆ–è™šæ‹Ÿè®¾å¤‡</li><li>ä¸VGWä¹‹é—´å»ºç«‹IPSecéš§é“æ¥å®ç°å®‰å…¨é€šä¿¡ã€‚</li></ul><p><img src="/images/Untitled%20159.png" alt="Untitled"></p><h2 id="Site-to-Site-VPN-connection-as-a-backup"><a href="#Site-to-Site-VPN-connection-as-a-backup" class="headerlink" title="Site-to-Site VPN connection as a backup"></a>Site-to-Site VPN connection as a backup</h2><p><img src="/images/Untitled%20160.png" alt="Untitled"></p><h2 id="AWS-VPN-CloudHub"><a href="#AWS-VPN-CloudHub" class="headerlink" title="AWS VPN CloudHub"></a>AWS VPN CloudHub</h2><p>AWS VPN CloudHub å…è®¸å¤šä¸ªç«™ç‚¹é€šè¿‡ VPN è¿æ¥åˆ° AWSã€‚</p><p>é›†ä¸­å¼çš„è§£å†³æ–¹æ¡ˆ</p><ul><li>Provide secure communication between multiple sites, if you have multiple VPN connections</li><li>Low-cost hub-and-spoke model for primary or secondary network connectivity between different locations (VPN only)</li><li>Itâ€™s a VPN connection so it goes over the public Internet</li><li>å¦‚æœæœ‰å¤šä¸ª VPN è¿æ¥ï¼Œå¯ä»¥åœ¨å¤šä¸ªç«™ç‚¹ä¹‹é—´æä¾›å®‰å…¨é€šä¿¡</li><li>ä½æˆæœ¬çš„æ¢çº½-è¾å°„æ¨¡å‹ï¼Œç”¨äºä¸åŒä½ç½®ä¹‹é—´çš„ä¸»è¦æˆ–æ¬¡è¦ç½‘ç»œè¿æ¥ (ä»…é™ VPN)</li><li>è¿™æ˜¯ä¸€ç§ VPN è¿æ¥ï¼Œå› æ­¤å®ƒç»è¿‡å…¬å…±äº’è”ç½‘ä¼ è¾“</li></ul><ol start="6"><li><strong>å¤šç«™ç‚¹è¿æ¥ï¼š</strong> AWS VPN CloudHubæ”¯æŒåŒæ—¶è¿æ¥å¤šä¸ªè¿œç¨‹ç«™ç‚¹ã€‚è¿™äº›ç«™ç‚¹å¯ä»¥æ˜¯ä¸åŒåœ°ç†ä½ç½®çš„åŠå…¬å®¤ã€æ•°æ®ä¸­å¿ƒç­‰ã€‚</li><li><strong>ä¸­å¿ƒå¼æ¶æ„ï¼š</strong> CloudHubé‡‡ç”¨ä¸­å¿ƒå¼æ¶æ„ï¼Œå…¶ä¸­AWSäº‘ä¸­çš„ä¸€ä¸ªVPCè¢«ç”¨ä½œä¸­å¿ƒï¼ˆhubï¼‰ï¼Œè¿æ¥åˆ°å¤šä¸ªè¿œç¨‹ç«™ç‚¹ï¼ˆspokesï¼‰ã€‚</li><li><strong>å•ä¸€VPNè¿æ¥ï¼š</strong> åœ¨CloudHubé…ç½®ä¸­ï¼Œæ¯ä¸ªè¿œç¨‹ç«™ç‚¹ä¸AWSäº‘ä¸­çš„ä¸­å¿ƒVPCä¹‹é—´åªéœ€è¦ä¸€ä¸ªVPNè¿æ¥ã€‚</li></ol><h2 id="7-Transit-Gateway-ä¸­è½¬ç½‘å…³"><a href="#7-Transit-Gateway-ä¸­è½¬ç½‘å…³" class="headerlink" title="7. Transit Gateway-ä¸­è½¬ç½‘å…³"></a>7. Transit Gateway-<strong>ä¸­è½¬ç½‘å…³</strong></h2><ul><li>Transit Gateway æ˜¯ä¸­å¿ƒåŒ–çš„è·¯ç”±äº¤æ¢è®¾å¤‡ï¼Œç”¨äºè¿æ¥å¤šä¸ª VPCã€VPN å’Œ Direct Connectã€‚</li><li>å®ƒç®€åŒ–äº†å¤§è§„æ¨¡ VPC ç½‘ç»œçš„ç®¡ç†å’Œæ‰©å±•ã€‚</li></ul><h2 id="Transit-Gatewayï¼ˆä¸­è½¬ç½‘å…³ï¼‰"><a href="#Transit-Gatewayï¼ˆä¸­è½¬ç½‘å…³ï¼‰" class="headerlink" title="Transit Gatewayï¼ˆä¸­è½¬ç½‘å…³ï¼‰"></a><em><strong>Transit Gatewayï¼ˆä¸­è½¬ç½‘å…³ï¼‰</strong></em></h2><p><strong>support  IP Multicast</strong></p><p>Transit Gatewayæ˜¯ä¸€ç§ç½‘ç»œæœåŠ¡ï¼Œç”¨äºåœ¨æˆåƒä¸Šä¸‡ä¸ªVPCå’Œæœ¬åœ°ç½‘ç»œä¹‹é—´å»ºç«‹å…·æœ‰<strong>ä¼ é€’æ€§</strong>çš„ä¸­å¿ƒå¼ï¼ˆæ˜Ÿå‹ï¼‰è¿æ¥ã€‚ä»¥ä¸‹æ˜¯Transit Gatewayçš„å…³é”®æ¦‚å¿µï¼š</p><ul><li><strong>ä¼ é€’æ€§å¯¹ç­‰è¿æ¥ï¼š</strong> Transit Gatewayå…è®¸åœ¨å¤šä¸ªVPCå’Œæœ¬åœ°ç½‘ç»œä¹‹é—´å»ºç«‹ä¼ é€’æ€§çš„å¯¹ç­‰è¿æ¥ï¼Œå½¢æˆä¸€ä¸ªä¸­å¿ƒæ¢çº½è¿æ¥ã€‚</li><li>Regional resource**ï¼š** Transit Gatewayæ˜¯regionçº§åˆ«çš„èµ„æºï¼Œå¯ä»¥cross-regionå·¥ä½œï¼Œå®ç°ä¸åŒAWSåŒºåŸŸçš„è¿æ¥ã€‚</li><li>Share cross-account contents using Resource Access Manager (RAM)</li><li>**ä½¿ç”¨RAMï¼ˆResource Access Managerï¼‰**Share cross-account contents</li></ul><p><img src="/images/Untitled%20161.png" alt="Untitled"></p><h3 id="Site-to-Site-VPN-ECMP"><a href="#Site-to-Site-VPN-ECMP" class="headerlink" title="Site-to-Site VPN ECMP"></a>Site-to-Site VPN ECMP</h3><ul><li>ECMP &#x3D; Equal-cost multi-path routing</li><li>Routing strategy to allow to forward a packet over multiple best path</li><li>Use case: create multiple Site-To-Site VPN connections to increase the bandwidth of your connection to AWS</li><li>ç«™ç‚¹å¯¹ç«™ç‚¹ VPN ECMP<ul><li>ECMP &#x3D; ç­‰ä»·å¤šè·¯å¾„è·¯ç”±</li><li>è½¬å‘æ•°æ®åŒ…çš„è·¯ç”±ç­–ç•¥ï¼Œå…è®¸é€šè¿‡å¤šä¸ªæœ€ä½³è·¯å¾„</li><li>ä½¿ç”¨åœºæ™¯ï¼šåˆ›å»ºå¤šä¸ªç«™ç‚¹å¯¹ç«™ç‚¹ VPN è¿æ¥ï¼Œä»¥å¢åŠ åˆ° AWS çš„å¸¦å®½</li></ul></li></ul><p><img src="/images/Untitled%20162.png" alt="Untitled"></p><p><img src="/images/Untitled%20163.png" alt="Untitled"></p><p><img src="/images/Untitled%20164.png" alt="Untitled"></p><h2 id="8-Traffic-Mirroring"><a href="#8-Traffic-Mirroring" class="headerlink" title="8. Traffic Mirroring"></a>8. Traffic Mirroring</h2><ul><li><strong>æµé‡é•œåƒï¼š</strong> é€šè¿‡ä½¿ç”¨æµé‡é•œåƒï¼Œæ‚¨å¯ä»¥å°†æ¥è‡ª<strong>ç”Ÿäº§ VPC</strong> çš„æµé‡é•œåƒåˆ°ç‰¹å®šçš„ç›®æ ‡ï¼ˆä¾‹å¦‚ EC2 å®ä¾‹æˆ–å¦ä¸€ä¸ª VPCï¼‰ï¼Œç„¶ååœ¨ç›®æ ‡ä¸Šæ‰§è¡Œæµé‡<strong>æ£€æŸ¥å’Œè¿‡æ»¤</strong>ã€‚</li><li><strong>å°†æµé‡è·¯ç”±åˆ°å®‰å…¨è®¾å¤‡ï¼š</strong> ä»¥è¿›è¡Œå†…å®¹æ£€æŸ¥ã€å¨èƒç›‘æ§ã€æ•…éšœæ’é™¤ç­‰æ“ä½œã€‚</li><li><strong>æºå’Œç›®æ ‡ä½ç½®ï¼š</strong> æµé‡é•œåƒçš„æºå’Œç›®æ ‡å¯ä»¥åœ¨åŒä¸€VPCå†…æˆ–ä¸åŒVPCä¹‹é—´ï¼ˆé€šè¿‡VPC Peeringï¼‰ã€‚</li><li><strong>åº”ç”¨åœºæ™¯ï¼š</strong> ä½¿ç”¨Transit Gatewayçš„æµé‡é•œåƒåŠŸèƒ½å¯ä»¥ç”¨äºå†…å®¹æ£€æŸ¥ã€å¨èƒç›‘æ§ã€æ•…éšœæ’é™¤ç­‰åœºæ™¯ã€‚</li></ul><h1 id="Route-53-åŸŸåç³»ç»Ÿ"><a href="#Route-53-åŸŸåç³»ç»Ÿ" class="headerlink" title="Route 53-åŸŸåç³»ç»Ÿ"></a>Route 53-åŸŸåç³»ç»Ÿ</h1><h3 id="Amazon-Route-53"><a href="#Amazon-Route-53" class="headerlink" title="Amazon Route 53"></a><strong>Amazon Route 53</strong></h3><p><img src="/images/Untitled%20165.png" alt="Untitled"></p><ul><li>â€œRoute 53â€æ˜¯æŒ‡ä¼ ç»ŸDNSä½¿ç”¨çš„ç«¯å£å·ï¼ˆ53ï¼‰</li></ul><ol start="9"><li><strong>åŸŸåè§£æ</strong>ï¼šRoute 53 å…è®¸æ‚¨å°†åŸŸåæ˜ å°„åˆ°å„ç§ AWS èµ„æºï¼Œå¦‚ **Amazon S3 å­˜å‚¨æ¡¶ã€Amazon EC2 å®ä¾‹ã€Elastic Load Balancerï¼ˆELBï¼‰**ç­‰ã€‚æ‚¨å¯ä»¥é…ç½® DNS è®°å½•ï¼Œå°†ç”¨æˆ·è¾“å…¥çš„åŸŸåè½¬æ¢ä¸º IP åœ°å€ï¼Œä»è€Œä½¿ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡åŸŸåè®¿é—®æ‚¨çš„èµ„æºã€‚</li><li><strong>é«˜å¯ç”¨å’Œå¯é æ€§</strong>ï¼šRoute 53 æä¾›å…¨çƒåˆ†å¸ƒçš„ DNS æœåŠ¡ï¼Œå…·æœ‰é«˜å¯ç”¨æ€§å’Œå¯é æ€§ã€‚å®ƒå°†è‡ªåŠ¨å°† DNS è®°å½•åˆ†å‘åˆ°å¤šä¸ªå…¨çƒè¾¹ç¼˜ä½ç½®ï¼Œä»¥ç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿå°±è¿‘è®¿é—®èµ„æºï¼Œæé«˜å“åº”é€Ÿåº¦å’Œå¯ç”¨æ€§ã€‚</li><li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šRoute 53 å¯ä¸ Amazon Elastic Load Balancing é›†æˆï¼Œå®ç°è´Ÿè½½å‡è¡¡ã€‚æ‚¨å¯ä»¥é…ç½® DNS è®°å½•ï¼Œå°†æµé‡åˆ†å‘åˆ°ä¸åŒçš„è´Ÿè½½å‡è¡¡å™¨ï¼Œä»¥å®ç°é«˜å¯ç”¨æ€§å’Œæ€§èƒ½ä¼˜åŒ–ã€‚</li></ol><ul><li>èƒ½å¤Ÿæ£€æŸ¥æ‚¨çš„èµ„æºçš„å¥åº·çŠ¶æ€</li><li><strong>100% SLAä¿è¯</strong>ï¼šRoute 53æ˜¯å”¯ä¸€ä¸€ä¸ªAWSæœåŠ¡æä¾›100%å¯ç”¨æ€§çš„æœåŠ¡çº§åˆ«åè®®ï¼ˆSLAï¼‰ã€‚</li></ul><h3 id="â€œRoute-53-Active-Passiveâ€"><a href="#â€œRoute-53-Active-Passiveâ€" class="headerlink" title="â€œRoute 53 Active-Passiveâ€"></a>â€œRoute 53 Active-Passiveâ€</h3><p>æ˜¯ä¸€ç§æ¶æ„é…ç½®ï¼Œä¸»è¦ç”¨äºå®ç°é«˜å¯ç”¨æ€§å’Œæ•…éšœæ¢å¤ã€‚</p><p>åœ¨ Active-Passive é…ç½®ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸è€ƒè™‘ç³»ç»Ÿä¸­çš„ä¸¤ç§çŠ¶æ€ï¼šæ´»åŠ¨çŠ¶æ€ï¼ˆActiveï¼‰å’Œå¾…å‘½çŠ¶æ€ï¼ˆPassiveï¼‰ã€‚</p><ul><li><strong>æ´»åŠ¨çŠ¶æ€ï¼ˆActiveï¼‰ï¼š</strong> è¿™æ˜¯ç³»ç»Ÿä¸­å½“å‰æ­£åœ¨æä¾›æœåŠ¡çš„çŠ¶æ€ã€‚åœ¨ä¸€ä¸ª â€œRoute 53 Active-Passiveâ€ é…ç½®ä¸­ï¼Œæ´»åŠ¨çŠ¶æ€é€šå¸¸æŒ‡å‘ä¸€ä¸ªå®é™…æä¾›æœåŠ¡çš„èµ„æºï¼Œæ¯”å¦‚ä¸€ä¸ªæœåŠ¡å™¨ã€è™šæ‹Ÿæœºå®ä¾‹æˆ–åº”ç”¨ç¨‹åºã€‚</li><li><strong>å¾…å‘½çŠ¶æ€ï¼ˆPassiveï¼‰ï¼š</strong> è¿™æ˜¯ç³»ç»Ÿä¸­å¤‡ç”¨çš„ã€å¤„äºå¾…å‘½çŠ¶æ€çš„èµ„æºã€‚å®ƒä¸æä¾›å®é™…çš„æœåŠ¡ï¼Œè€Œæ˜¯ç­‰å¾…åœ¨æ´»åŠ¨çŠ¶æ€ä¸å¯ç”¨æ—¶æ¥ç®¡æœåŠ¡ã€‚å¾…å‘½çŠ¶æ€çš„èµ„æºä¼šä¸æ´»åŠ¨çŠ¶æ€èµ„æºä¿æŒåŒæ­¥ï¼Œä»¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li></ul><h3 id="Route-53æ•…éšœè½¬ç§»çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š"><a href="#Route-53æ•…éšœè½¬ç§»çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š" class="headerlink" title="Route 53æ•…éšœè½¬ç§»çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š"></a><strong>Route 53æ•…éšœè½¬ç§»</strong>çš„å…³é”®ç‚¹å¦‚ä¸‹ï¼š</h3><ol start="12"><li><strong>Failover Routing Policy</strong>ï¼šRoute 53çš„Failoverè·¯ç”±ç­–ç•¥å…è®¸æ‚¨é…ç½®ä¸»&#x2F;å¤‡ä»½èµ„æºï¼Œä»¥ä¾¿åœ¨ä¸»èµ„æºä¸å¯ç”¨æ—¶è‡ªåŠ¨å°†æµé‡åˆ‡æ¢åˆ°å¤‡ä»½èµ„æºã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥å°†æµé‡å¼•å¯¼åˆ°ä¸»è¦AWSåŒºåŸŸä¸­çš„èµ„æºï¼Œä½†å¦‚æœè¯¥åŒºåŸŸå‘ç”Ÿæ•…éšœï¼ŒRoute 53å¯ä»¥å°†æµé‡åˆ‡æ¢åˆ°å¦ä¸€ä¸ªå¤‡ä»½åŒºåŸŸä¸­çš„èµ„æºã€‚</li><li><strong>Health Checks</strong>ï¼šæ‚¨å¯ä»¥è®¾ç½®Route 53çš„å¥åº·æ£€æŸ¥æ¥ç›‘æ§å„ä¸ªèµ„æºçš„å¯ç”¨æ€§ã€‚å½“ä¸»èµ„æºä¸å¯ç”¨æ—¶ï¼Œå¥åº·æ£€æŸ¥å¯ä»¥è‡ªåŠ¨è§¦å‘Route 53çš„Failoverç­–ç•¥ï¼Œå°†æµé‡åˆ‡æ¢åˆ°å¤‡ä»½èµ„æºã€‚</li><li><strong>Global Accelerator Integration</strong>ï¼šRoute 53å¯ä»¥ä¸AWS Global Acceleratorç»“åˆä½¿ç”¨ï¼Œä»¥æä¾›å…¨çƒçº§åˆ«çš„æµé‡ç®¡ç†å’Œæ•…éšœè½¬ç§»ã€‚Global Acceleratorå¯ä»¥ä¼˜åŒ–å…¨çƒèŒƒå›´å†…çš„æµé‡åˆ†å‘ï¼Œç¡®ä¿å°†ç”¨æˆ·æµé‡å¿«é€Ÿå¼•å¯¼åˆ°æœ€è¿‘çš„å¥åº·èµ„æºã€‚</li><li><strong>Latency-Based Routing</strong>ï¼šè™½ç„¶ä¸ç›´æ¥æ˜¯æ•…éšœè½¬ç§»ï¼Œä½†æ ¹æ®å»¶è¿Ÿçš„è·¯ç”±ç­–ç•¥å¯ä»¥ç¡®ä¿å°†ç”¨æˆ·æµé‡å¼•å¯¼åˆ°è·ç¦»æœ€è¿‘ä¸”å»¶è¿Ÿæœ€ä½çš„èµ„æºï¼Œä»è€Œæé«˜ç”¨æˆ·ä½“éªŒå¹¶å‡å°‘å»¶è¿Ÿã€‚</li></ol><h3 id="Routing-Policies-è·¯ç”±ç­–ç•¥"><a href="#Routing-Policies-è·¯ç”±ç­–ç•¥" class="headerlink" title="Routing Policies-è·¯ç”±ç­–ç•¥"></a>Routing Policies-<strong>è·¯ç”±ç­–ç•¥</strong></h3><ul><li><p>Defines how Route53 responds to DNS queries</p><p>  å®šä¹‰äº†å¦‚ä½•å°† DNS æŸ¥è¯¢è·¯ç”±åˆ°èµ„æº</p><p>  ä»¥ä¸‹æ˜¯å±•ç¤º Amazon Route 53 ä¸åŒè·¯ç”±ç­–ç•¥åŠå…¶ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯çš„è¡¨æ ¼ï¼š</p><table><thead><tr><th>è·¯ç”±ç­–ç•¥</th><th>ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>ç®€å•è·¯ç”±ç­–ç•¥ï¼ˆSimpleï¼‰</td><td>æµé‡è·¯ç”±åˆ°ä¸€ä¸ªèµ„æº</td></tr><tr><td>æƒé‡è·¯ç”±ç­–ç•¥ï¼ˆWeightedï¼‰</td><td>- æŒ‰ç…§æƒé‡åˆ†é…åˆ°ä¸åŒèµ„æº</td></tr><tr><td>æ•…éšœè½¬ç§»è·¯ç”±ç­–ç•¥ï¼ˆFailoverï¼‰</td><td>- å½“æ´»åŠ¨å®ä¾‹<strong>æœªé€šè¿‡å¥åº·æ£€æŸ¥</strong>æ—¶ï¼Œå¤‡ç”¨å®ä¾‹å°†æ¥ç®¡å¹¶æˆä¸ºæ´»åŠ¨å®ä¾‹</td></tr><tr><td>åŸºäºå»¶è¿Ÿçš„è·¯ç”±ç­–ç•¥ï¼ˆLatencyï¼‰</td><td>- é‡å®šå‘åˆ°è·ç¦»ç”¨æˆ·æœ€è¿‘çš„èµ„æºï¼Œé€‚ç”¨äºè¦æ±‚<strong>ä½å»¶è¿Ÿçš„å…¨çƒæ€§åº”ç”¨</strong>ã€‚</td></tr><tr><td>åœ°ç†ä½ç½®è·¯ç”±ç­–ç•¥ï¼ˆGeolocationï¼‰</td><td>- åŸºäºç”¨æˆ·ä½ç½®è¿›è¡Œè·¯ç”±</td></tr><tr><td>å¤šå€¼è·¯ç”±ç­–ç•¥ï¼ˆMultivalueï¼‰</td><td>- ç”¨äºå°†æµé‡è·¯ç”±åˆ°å¤šä¸ªèµ„æº</td></tr></tbody></table><p>  è¿™ä¸ªè¡¨æ ¼å±•ç¤ºäº† Amazon Route 53 ä¸åŒçš„è·¯ç”±ç­–ç•¥ï¼Œä»¥åŠæ¯ä¸ªç­–ç•¥çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚å¸Œæœ›è¿™èƒ½å¤Ÿå¸®åŠ©æ‚¨æ›´æ¸…æ¥šåœ°äº†è§£æ¯ç§è·¯ç”±ç­–ç•¥çš„ç”¨é€”å’Œä¼˜åŠ¿ã€‚</p></li></ul><h3 id="Simple-Routingï¼ˆç®€å•è·¯ç”±ï¼‰"><a href="#Simple-Routingï¼ˆç®€å•è·¯ç”±ï¼‰" class="headerlink" title="Simple Routingï¼ˆç®€å•è·¯ç”±ï¼‰:"></a><strong>Simple Routing</strong>ï¼ˆç®€å•è·¯ç”±ï¼‰:</h3><ul><li>è¿”å›å•ä¸ªèµ„æºçš„æ‰€æœ‰è®°å½•</li><li>å¦‚æœè¿”å›äº†å¤šä¸ªç›¸åŒè®°å½•çš„å€¼ï¼Œåˆ™å®¢æˆ·ç«¯å°†éšæœºé€‰æ‹©ä¸€ä¸ª</li><li>ä¸èƒ½ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”</li></ul><h3 id="Weighted-Routingï¼ˆåŠ æƒè·¯ç”±ï¼‰"><a href="#Weighted-Routingï¼ˆåŠ æƒè·¯ç”±ï¼‰" class="headerlink" title="Weighted Routingï¼ˆåŠ æƒè·¯ç”±ï¼‰:"></a><strong>Weighted Routing</strong>ï¼ˆåŠ æƒè·¯ç”±ï¼‰:</h3><ul><li>control traffic by weight</li><li>can be associated with Health Checks</li><li>Assign a weight of 0 to a record to stop sending traffic to a resource â€¢ If all records have we</li><li><strong>æŒ‰ç…§æƒé‡åˆ†é…åˆ°ä¸åŒèµ„æº</strong></li><li>æŒ‰æƒé‡æ§åˆ¶æµé‡</li><li>å¯ä»¥ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”</li><li>å°†è®°å½•çš„æƒé‡åˆ†é…ä¸º0ï¼Œä»¥åœæ­¢å‘èµ„æºå‘é€æµé‡</li><li>å¦‚æœæ‰€æœ‰è®°å½•çš„æƒé‡éƒ½ä¸º0ï¼Œåˆ™ä¸ä¼šå‘è¯¥èµ„æºå‘é€æµé‡</li></ul><h3 id="Failover-Routingï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰"><a href="#Failover-Routingï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰" class="headerlink" title="Failover Routingï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰:"></a><strong>Failover Routing</strong>ï¼ˆæ•…éšœè½¬ç§»è·¯ç”±ï¼‰:</h3><ul><li>When an active instance failed the health check, the standby instance will failover and become active</li></ul><p>å½“<strong>æ´»åŠ¨å®ä¾‹æœªé€šè¿‡å¥åº·æ£€æŸ¥æ—¶ï¼Œå¤‡ç”¨å®ä¾‹å°†æ¥ç®¡å¹¶æˆä¸ºæ´»åŠ¨å®ä¾‹ã€‚</strong></p><h3 id="Latency-based-Routingï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰"><a href="#Latency-based-Routingï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰" class="headerlink" title="Latency-based Routingï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰:"></a><strong>Latency-based Routing</strong>ï¼ˆåŸºäºå»¶è¿Ÿçš„è·¯ç”±ï¼‰:</h3><ul><li>Redirect to the resource that has the least latency close to user</li><li>Latency is based on traffic between users and AWS Regions</li><li>Can be associated with Health Checks</li><li>é‡å®šå‘åˆ°è·ç¦»ç”¨æˆ·æœ€è¿‘çš„èµ„æº</li><li>å»¶è¿ŸåŸºäºç”¨æˆ·å’ŒAWSåŒºåŸŸä¹‹é—´çš„æµé‡</li><li>å¯ä»¥ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”</li></ul><h3 id="Geolocation-Routingï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰"><a href="#Geolocation-Routingï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰" class="headerlink" title="Geolocation Routingï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰:"></a><strong>Geolocation Routing</strong>ï¼ˆåœ°ç†ä½ç½®è·¯ç”±ï¼‰:</h3><ul><li>This routing is based on user location</li><li>Can be associated with Health Checks</li></ul><h3 id="Multi-Value-Answer-Routingï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰"><a href="#Multi-Value-Answer-Routingï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰" class="headerlink" title="Multi-Value Answer Routingï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰:"></a><strong>Multi-Value Answer Routing</strong>ï¼ˆå¤šå€¼å›ç­”è·¯ç”±ï¼‰:</h3><ul><li>Use when routing traffic to multiple resources</li><li>Each resource receives a separate DNS response, and Route 53 responds to DNS queries with multiple IP addresses.</li><li>Can be associated with Health Checks (return only values for healthy resources)</li><li>ç”¨äºå°†æµé‡è·¯ç”±åˆ°å¤šä¸ªèµ„æº</li><li>æ¯ä¸ªèµ„æºéƒ½ä¼šæ”¶åˆ°å•ç‹¬çš„ DNS å“åº”ï¼Œå¹¶ä¸” Route 53 ä¼šç”¨å¤šä¸ª IP åœ°å€å“åº” DNS æŸ¥è¯¢ã€‚</li><li>å¯ä»¥ä¸å¥åº·æ£€æŸ¥ç›¸å…³è”ï¼ˆä»…è¿”å›å¥åº·èµ„æºçš„å€¼ï¼‰</li><li>æœ‰åŠ©äºå®ç°<strong>è´Ÿè½½å‡è¡¡</strong>å’Œ<strong>é«˜å¯ç”¨æ€§</strong>ã€‚</li></ul><h3 id="Geoproximity-Routingï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰"><a href="#Geoproximity-Routingï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰" class="headerlink" title="Geoproximity Routingï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰:"></a><strong>Geoproximity Routing</strong>ï¼ˆåœ°ç†æ¥è¿‘è·¯ç”±ï¼‰:</h3><ul><li>Route traffic to your resources based on the geographic location of users and resources</li><li>Ability to shift more traffic to resources based on the defined bias</li></ul><h3 id="Route-53-â€“-Recordsè®°å½•é›†"><a href="#Route-53-â€“-Recordsè®°å½•é›†" class="headerlink" title="Route 53 â€“ Recordsè®°å½•é›†"></a><strong>Route 53 â€“ Records</strong>è®°å½•é›†</h3><p>ç”¨äºå°†åŸŸåæ˜ å°„åˆ°ç‰¹å®šèµ„æºï¼ˆä¾‹å¦‚IPåœ°å€ã€å…¶ä»–åŸŸåæˆ–è´Ÿè½½å‡è¡¡å™¨ï¼‰çš„ä¿¡æ¯</p><ul><li><strong>Domain&#x2F;subdomain Name</strong>Â â€“ e.g., example.com</li><li><strong>Record Type</strong>Â â€“ e.g., A or AAAA</li><li><strong>Value</strong>Â â€“ e.g., 12.34.56.78</li><li><strong>Routing Policy</strong>Â â€“ how Route 53 responds to queries</li><li><strong>TTLï¼ˆtime to liveï¼‰</strong>Â â€“ amount of time the record cached at DNS Resolvers</li></ul><h3 id="Record-Types-è®°å½•ç±»å‹"><a href="#Record-Types-è®°å½•ç±»å‹" class="headerlink" title="Record Types-è®°å½•ç±»å‹"></a><strong>Record Types-è®°å½•ç±»å‹</strong></h3><ul><li><strong>A</strong>Â â€“ maps a hostname to IPv4</li><li><strong>AAAA</strong>Â â€“ maps a hostname to IPv6</li><li><strong>CNAME</strong>Â â€“ maps a hostname to another hostname<ul><li>The target is a domain name which must have an A or AAAA record</li><li>Canâ€™t create a CNAME record for the top node of a DNS namespace (Zone Apex)</li><li>Example: you canâ€™t create for example.com, but you can create for <a href="http://www.example.com/">www.example.com</a></li></ul></li><li><strong>NS</strong>Â â€“ Name Servers for the Hosted Zone<ul><li>Control how traffic is routed for a domain</li></ul></li></ul><h3 id="hosted-zone-æ‰˜ç®¡åŒºåŸŸ"><a href="#hosted-zone-æ‰˜ç®¡åŒºåŸŸ" class="headerlink" title="hosted zone-æ‰˜ç®¡åŒºåŸŸ"></a>hosted zone-æ‰˜ç®¡åŒºåŸŸ</h3><p>Hosted Zoneï¼ˆæ‰˜ç®¡åŒºåŸŸï¼‰æ˜¯ä¸€ä¸ªä¸ç‰¹å®šåŸŸåï¼ˆä¾‹å¦‚ <a href="http://example.com/">example.com</a>ï¼‰å…³è”çš„ DNS åŒºåŸŸã€‚å®ƒåŒ…å«äº†è¯¥åŸŸåä¸‹æ‰€æœ‰ DNS è®°å½•çš„ä¿¡æ¯ï¼Œç”¨äºè§£æåŸŸååˆ°ç›¸åº”çš„ IP åœ°å€æˆ–å…¶ä»–èµ„æºã€‚</p><p><strong>ä¸€ä¸ªåŒ…å«å®šä¹‰å¦‚ä½•è·¯ç”±æµé‡åˆ°åŸŸååŠå…¶å­åŸŸåçš„è®°å½•çš„å®¹å™¨</strong></p><ul><li><strong>å…¬æœ‰æ‰˜ç®¡åŒºåŸŸ</strong><ul><li>åŒ…å«æŒ‡å®šå¦‚ä½•åœ¨äº’è”ç½‘ä¸Šè·¯ç”±æµé‡çš„è®°å½•</li></ul></li><li><strong>ç§æœ‰æ‰˜ç®¡åŒºåŸŸ</strong><ul><li>åŒ…å«æŒ‡å®šå¦‚ä½•åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªVPCä¸­è·¯ç”±æµé‡çš„è®°å½•</li></ul></li><li>æ¯ä¸ªæ‰˜ç®¡åŒºåŸŸæ¯æœˆæ”¶å–0.5ç¾å…ƒçš„è´¹ç”¨</li></ul><h3 id="Alias-Records-åˆ«åè®°å½•"><a href="#Alias-Records-åˆ«åè®°å½•" class="headerlink" title="Alias Records-åˆ«åè®°å½•"></a>Alias Records-<strong>åˆ«åè®°å½•</strong></h3><ul><li>å°†ä¸»æœºåæ˜ å°„åˆ°AWSèµ„æº</li><li>åˆ«åè®°å½•å§‹ç»ˆä¸ºAWSèµ„æºçš„ç±»å‹A&#x2F;AAAAï¼ˆIPv4&#x2F;IPv6ï¼‰</li><li>æ‚¨æ— æ³•è®¾ç½®TTL, route53è‡ªåŠ¨è®¾ç½®</li><li>æ‚¨æ— æ³•ä¸ºEC2 DNSåç§°è®¾ç½®åˆ«åè®°å½•</li><li>You cannot set an ALIAS record for an EC2 DNS name</li></ul><h3 id="Health-Checks-å¥åº·æ£€æŸ¥"><a href="#Health-Checks-å¥åº·æ£€æŸ¥" class="headerlink" title="Health Checks-å¥åº·æ£€æŸ¥"></a>Health Checks-å¥åº·æ£€æŸ¥</h3><ul><li>HTTP Health Checks are only for public resources</li><li>Health Check &#x3D;&gt; Automated DNS Failover</li><li>å¥åº·æ£€æŸ¥ä¸CloudWatchæŒ‡æ ‡é›†æˆ</li><li>é…ç½®è·¯ç”±å™¨&#x2F;é˜²ç«å¢™ä»¥å…è®¸æ¥è‡ªRoute 53 Health Checkersçš„ä¼ å…¥è¯·æ±‚</li></ul><h3 id="Health-checks-that-monitor-an-endpoint"><a href="#Health-checks-that-monitor-an-endpoint" class="headerlink" title="Health checks that monitor an endpoint"></a><strong>Health checks that monitor an endpoint</strong></h3><p>æ‚¨å¯ä»¥é…ç½®è¿è¡ŒçŠ¶å†µæ£€æŸ¥æ¥ç›‘æ§é€šè¿‡ IP åœ°å€æˆ–åŸŸåæŒ‡å®šçš„ç«¯ç‚¹ã€‚Route 53 æŒ‰ç…§æ‚¨æŒ‡å®šçš„å›ºå®šé—´éš”ï¼Œé€šè¿‡äº’è”ç½‘å‘æ‚¨çš„åº”ç”¨ç¨‹åºã€æœåŠ¡å™¨æˆ–å…¶å®ƒèµ„æºè‡ªåŠ¨æäº¤è¯·æ±‚ï¼Œä»¥éªŒè¯å…¶æ˜¯å¦å¯åˆ°è¾¾ã€æ˜¯å¦å¯ç”¨åŠåŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡é…ç½®è¿è¡ŒçŠ¶å†µæ£€æŸ¥æ¥å‘å‡ºä¸ç”¨æˆ·å‘å‡ºçš„è¯·æ±‚ç±»ä¼¼çš„è¯·æ±‚ï¼Œå¦‚ä»ç‰¹å®š URL è¯·æ±‚ç½‘é¡µã€‚</p><h3 id="calculated-health-checks"><a href="#calculated-health-checks" class="headerlink" title="calculated health checks"></a><strong>calculated health checks</strong></h3><ul><li>Combine the results of multiple Health Checks into a single Health Check</li><li>You can use OR, AND, or NOT</li><li>Can monitor up to 256 Child Health Checks</li><li>Specify how many of the health checks need to pass to make the parent pass</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;VPC&quot;&gt;&lt;a href=&quot;#VPC&quot; class=&quot;headerlink&quot; title=&quot;VPC&quot;&gt;&lt;/a&gt;&lt;strong&gt;VPC&lt;/strong&gt;&lt;/h1&gt;&lt;h3 id=&quot;Virtual-Private-Cloud&quot;&gt;&lt;a href=&quot;#Virtual-Pri</summary>
      
    
    
    
    <category term="lifelong learning" scheme="https://sosocrown.github.io/categories/lifelong-learning/"/>
    
    <category term="æŠ€æœ¯" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/categories/lifelong-learning/%E6%8A%80%E6%9C%AF/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    
    <category term="DevOps" scheme="https://sosocrown.github.io/tags/DevOps/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://sosocrown.github.io/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
  </entry>
  
</feed>
